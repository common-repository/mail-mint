/*! For license information please see add-campaign.min.js.LICENSE.txt */
(globalThis.webpackChunk_mmAdmin_webpackJsonp=globalThis.webpackChunk_mmAdmin_webpackJsonp||[]).push([[7487],{976:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>ee});var i=t(7723),r=t(1609),a=t.n(r),o=t(7767),l=t(5588),s=t(4976),u=t(3197),c=t(630),d=t(9431),m=t(9012),v=t(2464),p=t(9519),h=t(4231),f=t(5170),g=t(6263),w=t(161),y=t(5919),x=t(9480),j=t(5556),_=t.n(j),b=t(4848),M=function(e){var n=e.title,t=e.children,i=e.position,r=e.containerClass,a=e.theme;return(0,b.jsxs)("div",{className:"tooltip ".concat(r),children:[t,(0,b.jsx)("div",{className:"tooltiptext ".concat("dark"===a?"dark":"light"," tooltip-").concat(i),children:n})]})};const N=(0,r.memo)(M);M.defaultProps={title:"sample",children:a().createElement("div"),position:"top",containerClass:"",theme:"light"},M.propTypes={title:_().string,children:_().element,position:_().string,containerClass:_().string,theme:_().string};var S,E,R,V,k=t(6830),C=t(5747),A=t(9214),O=t(7091),L=t(3890),T=t(3469),P=t(5699),q=t(2345),I=t(7572),D=t(8474),F=t(8282),G=t(5270);function z(e){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z(e)}function B(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||K(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(){H=function(){return n};var e,n={},t=Object.prototype,i=t.hasOwnProperty,r=Object.defineProperty||function(e,n,t){e[n]=t.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{u({},"")}catch(e){u=function(e,n,t){return e[n]=t}}function c(e,n,t,i){var a=n&&n.prototype instanceof g?n:g,o=Object.create(a.prototype),l=new k(i||[]);return r(o,"_invoke",{value:S(e,t,l)}),o}function d(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=c;var m="suspendedStart",v="suspendedYield",p="executing",h="completed",f={};function g(){}function w(){}function y(){}var x={};u(x,o,(function(){return this}));var j=Object.getPrototypeOf,_=j&&j(j(C([])));_&&_!==t&&i.call(_,o)&&(x=_);var b=y.prototype=g.prototype=Object.create(x);function M(e){["next","throw","return"].forEach((function(n){u(e,n,(function(e){return this._invoke(n,e)}))}))}function N(e,n){function t(r,a,o,l){var s=d(e[r],e,a);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==z(c)&&i.call(c,"__await")?n.resolve(c.__await).then((function(e){t("next",e,o,l)}),(function(e){t("throw",e,o,l)})):n.resolve(c).then((function(e){u.value=e,o(u)}),(function(e){return t("throw",e,o,l)}))}l(s.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new n((function(n,r){t(e,i,n,r)}))}return a=a?a.then(r,r):r()}})}function S(n,t,i){var r=m;return function(a,o){if(r===p)throw Error("Generator is already running");if(r===h){if("throw"===a)throw o;return{value:e,done:!0}}for(i.method=a,i.arg=o;;){var l=i.delegate;if(l){var s=E(l,i);if(s){if(s===f)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===m)throw r=h,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=p;var u=d(n,t,i);if("normal"===u.type){if(r=i.done?h:v,u.arg===f)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=h,i.method="throw",i.arg=u.arg)}}}function E(n,t){var i=t.method,r=n.iterator[i];if(r===e)return t.delegate=null,"throw"===i&&n.iterator.return&&(t.method="return",t.arg=e,E(n,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),f;var a=d(r,n.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[n.resultName]=o.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function R(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function V(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(n){if(n||""===n){var t=n[o];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,a=function t(){for(;++r<n.length;)if(i.call(n,r))return t.value=n[r],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(z(n)+" is not iterable")}return w.prototype=y,r(b,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:w,configurable:!0}),w.displayName=u(y,s,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===w||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},n.awrap=function(e){return{__await:e}},M(N.prototype),u(N.prototype,l,(function(){return this})),n.AsyncIterator=N,n.async=function(e,t,i,r,a){void 0===a&&(a=Promise);var o=new N(c(e,t,i,r),a);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},M(b),u(b,s,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var i in n)t.push(i);return t.reverse(),function e(){for(;t.length;){var i=t.pop();if(i in n)return e.value=i,e.done=!1,e}return e.done=!0,e}},n.values=C,k.prototype={constructor:k,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!n)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function r(i,r){return l.type="throw",l.arg=n,t.next=i,r&&(t.method="next",t.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=n,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),f},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),V(t),f}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var i=t.completion;if("throw"===i.type){var r=i.arg;V(t)}return r}}throw Error("illegal catch attempt")},delegateYield:function(n,t,i){return this.delegate={iterator:C(n),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=e),f}},n}function U(e,n,t,i,r,a,o){try{var l=e[a](o),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(i,r)}function Z(e){return function(){var n=this,t=arguments;return new Promise((function(i,r){var a=e.apply(n,t);function o(e){U(a,i,r,o,l,"next",e)}function l(e){U(a,i,r,o,l,"throw",e)}o(void 0)}))}}function W(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?W(Object(t),!0).forEach((function(n){$(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function $(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=z(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=z(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==z(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function J(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,r,a,o,l=[],s=!0,u=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(i=a.call(t)).done)&&(l.push(i.value),l.length!==n);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}(e,n)||K(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,n){if(e){if("string"==typeof e)return X(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?X(e,n):void 0}}function X(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}var Q={subject:"",email_body:"",email_json:"",delay_count:0,delay_value:"Minutes",preview:"",senderName:null===(S=window.MRM_Vars)||void 0===S?void 0:S.email_settings.from_name,senderEmail:null===(E=window.MRM_Vars)||void 0===E?void 0:E.email_settings.from_email,replyName:null===(R=window.MRM_Vars)||void 0===R?void 0:R.email_settings.reply_name,replyEmail:null===(V=window.MRM_Vars)||void 0===V?void 0:V.email_settings.reply_email,toError:null,senderEmailError:null};function ee(e){var n,t,a,j,_,M,S,E,R,V,z,U,W,$,K,X,ee,ne,te,ie,re,ae,oe,le,se,ue,ce,de,me,ve,pe,he,fe,ge,we,ye,xe,je,_e,be,Me,Ne,Se,Ee,Re,Ve,ke,Ce,Ae,Oe,Le,Te,Pe;(0,P.G)("mrm-admin","campaigns");var qe=(0,o.Zp)(),Ie=(0,o.g)().type;(0,r.useEffect)((function(){document.title=(0,i.__)("Add New Campaign - Mail Mint","mrm"),"sequence-automation"===Ie&&Cn("created")}));var De=J((0,r.useState)([Y({},Q)]),2),Fe=De[0],Ge=De[1],ze=J((0,r.useState)(0),2),Be=ze[0],He=ze[1],Ue=J((0,r.useState)(""),2),Ze=Ue[0],We=Ue[1],Ye=J((0,r.useState)([]),2),$e=Ye[0],Je=Ye[1],Ke=J((0,r.useState)([]),2),Xe=Ke[0],Qe=Ke[1],en=J((0,r.useState)([]),2),nn=en[0],tn=en[1],rn=J((0,r.useState)(!1),2),an=rn[0],on=rn[1],ln=J((0,r.useState)({}),2),sn=ln[0],un=ln[1],cn=J((0,r.useState)("success"),2),dn=cn[0],mn=cn[1],vn=J((0,r.useState)(!1),2),pn=vn[0],hn=vn[1],fn=J((0,r.useState)(""),2),gn=fn[0],wn=fn[1],yn=J((0,r.useState)(0),2),xn=(yn[0],yn[1]),jn=J((0,r.useState)(0),2),_n=(jn[0],jn[1]),bn=J((0,r.useState)(!1),2),Mn=bn[0],Nn=bn[1],Sn=J((0,r.useState)(0),2),En=Sn[0],Rn=Sn[1],Vn=J((0,r.useState)("draft"),2),kn=Vn[0],Cn=Vn[1],An=J((0,r.useState)(!1),2),On=An[0],Ln=An[1],Tn=J((0,r.useState)(!1),2),Pn=Tn[0],qn=Tn[1],In=(0,r.useRef)(null),Dn=J((0,r.useState)(!1),2),Fn=Dn[0],Gn=Dn[1],zn=J((0,r.useState)(!1),2),Bn=zn[0],Hn=(zn[1],J((0,r.useState)(!1),2)),Un=Hn[0],Zn=(Hn[1],J((0,r.useState)("none"),2)),Wn=Zn[0],Yn=Zn[1],$n=J((0,r.useState)(!1),2),Jn=$n[0],Kn=$n[1],Xn=J((0,r.useState)(""),2),Qn=Xn[0],et=Xn[1],nt=J((0,r.useState)(""),2),tt=nt[0],it=nt[1],rt=J((0,r.useState)(),2),at=rt[0],ot=rt[1],lt=J((0,r.useState)(),2),st=lt[0],ut=lt[1],ct=J((0,r.useState)(),2),dt=ct[0],mt=ct[1],vt=J((0,r.useState)(""),2),pt=vt[0],ht=vt[1],ft=window.MRM_Vars.is_mailmint_pro_license_active,gt=J((0,r.useState)(!1),2),wt=gt[0],yt=gt[1],xt=J((0,r.useState)(!1),2),jt=xt[0],_t=xt[1],bt=J((0,r.useState)(!0),2),Mt=bt[0],Nt=bt[1],St=J((0,r.useState)(""),2),Et=St[0],Rt=St[1],Vt=J((0,r.useState)(""),2),kt=Vt[0],Ct=Vt[1],At=J((0,r.useState)(!1),2),Ot=(At[0],At[1]),Lt=J((0,r.useState)(!1),2),Tt=(Lt[0],Lt[1]);(0,y.c7)(In,on);var Pt=(0,r.useRef)(null),qt=(0,r.useRef)(null),It=[{value:null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.Minutes,id:"minutes"},{value:null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.Hours,id:"hours"},{value:null===(a=window)||void 0===a||null===(a=a.MRM_Vars)||void 0===a||null===(a=a.mint_trans)||void 0===a?void 0:a.Days,id:"days"},{value:null===(j=window)||void 0===j||null===(j=j.MRM_Vars)||void 0===j||null===(j=j.mint_trans)||void 0===j?void 0:j.Weeks,id:"weeks"}],Dt=(0,o.zy)();if((0,l.B6)({path:"campaigns/create"},Dt.pathname))for(var Ft=document.getElementsByClassName("notice"),Gt=0;Gt<Ft.length;Gt+=1)Ft[Gt].style.display="none";var zt=function(e,n,t){ft?(ut(n),mt(n),Yn("block"),ht(t)):_t(!0)},Bt=function(){var e=Z(H().mark((function e(n){var t,i,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ft||"regular"==Ie?((t=n.target).name,i=t.value,Nn(!0),Ln(!0),We(i.slice(0,150)),i.length>150?un(Y(Y({},sn),{},{title:null===(r=window)||void 0===r||null===(r=r.MRM_Vars)||void 0===r||null===(r=r.mint_trans)||void 0===r?void 0:r.CampaignTitleStringLimit})):un(Y(Y({},sn),{},{title:""}))):yt(!0);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ht=function(){var e=Z(H().mark((function e(n){var t,i,r=arguments;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.length>1&&void 0!==r[1]&&r[1],ft||"regular"==Ie?(Gn(!0),i={title:Ze,recipients:{lists:$e.map((function(e){return{id:e.id,title:e.title}})),tags:Xe.map((function(e){return{id:e.id,title:e.title}})),segments:nn.map((function(e){return{id:e.id,title:e.title}}))},type:"sequence-automation"===Ie?"automation":"sequence-campaign"===Ie?"sequence":"regular",status:n,created_by:"".concat(window.MRM_Vars.current_userID),emails:Fe.map((function(e){return{email_subject:e.subject,email_preview_text:e.preview,sender_email:e.senderEmail,delay_count:e.delay_count,delay_value:e.delay_value,sender_name:e.senderName,reply_name:e.replyName,reply_email:e.replyEmail,email_body:"Dummy Email Body",email_json:e.email_json}}))},un({}),(0,L.dH)(i).then((function(e){201===e.code?(qe("/campaign/"+Ie+"/edit/"+e.data.campaign.id,{state:{status:"campaign-created",message:null==e?void 0:e.message,openTemplate:t}}),Nn(!1)):(mn("warning"),hn(!0),wn(null==e?void 0:e.message)),(0,T.bd)(!1,hn),Gn(!1)}))):yt(!0);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ut=function(e,n,t){return new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{1,}))$/).test(t)?(un({}),!0):(un(Y(Y({},sn),{},{email:null===(i=window)||void 0===i||null===(i=i.MRM_Vars)||void 0===i||null===(i=i.mint_trans)||void 0===i?void 0:i.EmailValidationMsg})),!1);var i},Zt=function(e,n,t){return new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{1,}))$/).test(t)?(un({}),!0):(un(Y(Y({},sn),{},{replyEmail:null===(i=window)||void 0===i||null===(i=i.MRM_Vars)||void 0===i||null===(i=i.mint_trans)||void 0===i?void 0:i.EmailValidationMsg})),!1);var i},Wt=function(){var e=Z(H().mark((function e(n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(ft||"regular"===Ie)&&(Nn(!0),Ln(!0),Ge((function(e){var t,i,r=n.target.name,a=n.target.value,o=B(e);("subject"===r?xn(n.target.selectionStart):"preview"===r&&_n(n.target.selectionStart),"subject"==r||"preview"==r)&&("subject"==r&&(a.length>190?un(Y(Y({},sn),{},{subject:null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.EmailSubStringLimit})):un(Y(Y({},sn),{},{subject:""}))),"preview"==r&&(a.length>190?un(Y(Y({},sn),{},{preview:null===(i=window)||void 0===i||null===(i=i.MRM_Vars)||void 0===i||null===(i=i.mint_trans)||void 0===i?void 0:i.EmailPreviewStringLimit})):un(Y(Y({},sn),{},{preview:""}))));return"senderEmail"==r&&Ut(0,o[Be][r],a),"replyEmail"==r&&Zt(0,o[Be][r],a),o[Be][r]=a,o})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Yt=function(){var e=Z(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ht("draft",!0);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$t=function(){ft||"regular"==Ie?on(!an):yt(!0)};(0,r.useEffect)((function(){ni()}),[an]),(0,k.A)((function(e){Mn&&(e.preventDefault(),e.returnValue="")}));var Jt=function(){var e=Z(H().mark((function e(n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ge((function(e){var t=B(e);return n.length>200||(t[Be].subject=n),t}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Kt=function(){var e=Z(H().mark((function e(n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ge((function(e){var t=B(e);return n.length>200||(t[Be].preview=n),t}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Xt=function(){var e=Z(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:On?qn(!0):(qn(!1),qe("/campaigns"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qt=(0,r.useCallback)((function(){qn(!1)}),[Pn]),ei=(0,r.useCallback)((function(){qn(!1),qe("/campaigns")}),[Pn]),ni=function(){var e=Z(H().mark((function e(){var n,t,i,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",i="",r=(r=nn.map((function(e,n){return e.id}))).join(", "),0===(null===(n=r)||void 0===n?void 0:n.length)&&(t=$e.map((function(e,n){return e.id})),i=Xe.map((function(e,n){return e.id})),t=t.join(", "),i=i.join(", ")),""===t&&""===i&&""===r){e.next=9;break}return e.abrupt("return",(0,L.sO)(0,t,i,r).then((function(e){if(200===e.code){var n=parseInt(e.data);return Rn(n),n}})));case 9:return e.abrupt("return",0);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ti=(0,r.useCallback)(function(){var e=Z(H().mark((function e(n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kn(n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[Jn]),ii=(0,r.useCallback)(function(){var e=Z(H().mark((function e(n){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&Ge((function(e){var n=B(e);return n.splice(at,1),He(at<n.length?at:Math.max(0,at-1)),(0,L.Nm)(at<n.length?at:Math.max(0,at-1)),n})),Kn(!1);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[Jn]),ri=function(){ft||"regular"==Ie||yt(!0)};return(0,r.useEffect)((function(){Rt(""),Ot(!1)}),[Un]),(0,r.useEffect)((function(){Ct(""),Tt(!1)}),[Bn]),(0,r.useEffect)((function(){Ot(!0)}),[Et]),(0,r.useEffect)((function(){Tt(!0)}),[kt]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"mintmrm-add-campaign",children:[(0,b.jsx)(u.A,{confirmModal:Pn,onCancelConfirm:Qt,onCloseConfirm:ei,header:null===(_=window)||void 0===_||null===(_=_.MRM_Vars)||void 0===_||null===(_=_.mint_trans)||void 0===_?void 0:_.CloseCampaign,label:null===(M=window)||void 0===M||null===(M=M.MRM_Vars)||void 0===M||null===(M=M.mint_trans)||void 0===M?void 0:M.CloseCampaignLabel}),(0,b.jsx)("div",{className:"single-campaign-header",children:(0,b.jsxs)("div",{className:"mintmrm-container",children:[(0,b.jsxs)("div",{className:"left-section",children:[(0,b.jsx)("div",{className:"back-button",onClick:function(){return(0,L.Nm)(0)},children:(0,b.jsxs)("button",{onClick:Xt,children:[(0,b.jsx)(m.A,{})," ",null===(S=window)||void 0===S||null===(S=S.MRM_Vars)||void 0===S||null===(S=S.mint_trans)||void 0===S?void 0:S.Campaigns]})}),(0,b.jsx)("h2",{className:"campaign-title",children:null===(E=window)||void 0===E||null===(E=E.MRM_Vars)||void 0===E||null===(E=E.mint_trans)||void 0===E?void 0:E.CreateNewCampaign})]}),(0,b.jsx)("div",{className:"right-section",children:"success"===(null===(R=window.MRM_Vars.smtp_warring)||void 0===R?void 0:R.status)&&Mt&&(0,b.jsx)(I.A,{setMailerWarning:Nt,warningMessage:null===(V=window.MRM_Vars.smtp_warring)||void 0===V?void 0:V.message})})]})}),(0,b.jsx)("div",{className:"mintmrm-container",children:(0,b.jsxs)("div",{className:"add-campaign-wrapper",children:[(0,b.jsxs)("div",{className:"add-email-section",children:[Fe.map((function(e,n){var t;return(0,b.jsxs)("div",{className:"email-box",children:[(0,b.jsxs)("div",{className:Be!=n?"email-select-section":"email-select-section selected",onClick:function(){return function(e){He(e),(0,L.Nm)(e)}(n)},children:[(0,b.jsx)("div",{className:"email-icon-section",children:(0,b.jsx)(p.A,{})}),"sequence-campaign"===Ie||"sequence-automation"===Ie?(0,b.jsx)("h5",{children:(0,i.sprintf)((0,i.__)("Email %s","mrm"),n+1)}):(0,b.jsx)("h5",{children:null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.Email}),n>0&&(0,b.jsx)("div",{className:"delete-option",onClick:function(){return function(e){var n,t;Kn(!0),et(null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.DeleteEmailSequence),it(null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.DeleteEmailSequenceMsg),ot(e)}(n)},children:(0,b.jsx)(d.A,{})})]}),("sequence-campaign"===Ie||"sequence-automation"===Ie)&&(0,b.jsx)("div",{className:"link-line"})]},"emails-".concat(n))})),("sequence-campaign"===Ie||"sequence-automation"===Ie)&&(0,b.jsx)("div",{className:"add-another-email",onClick:function(){ft?Ge((function(e){return He(e.length),(0,L.Nm)(e.length),[].concat(B(e),[Y({},Q)])})):yt(!0)},children:(0,b.jsx)(f.A,{})})]}),(0,b.jsxs)("div",{className:"email-content-section",children:[(0,b.jsxs)("div",{className:"email-container",children:[0==Be&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"email-title input-item",children:[(0,b.jsx)("label",{children:null===(z=window)||void 0===z||null===(z=z.MRM_Vars)||void 0===z||null===(z=z.mint_trans)||void 0===z?void 0:z.EmailTitle}),(0,b.jsxs)("div",{className:"input-title-wrapper",children:[(0,b.jsx)("input",{maxLength:151,type:"text",name:"title",value:Ze,onChange:function(e){return Bt(e)},onClick:ri,placeholder:null===(U=window)||void 0===U||null===(U=U.MRM_Vars)||void 0===U||null===(U=U.mint_trans)||void 0===U?void 0:U.EmailSubTitlePlaceHolder}),(0,b.jsx)("p",{className:null!=sn&&sn.title?"error-message show":"error-message",children:null==sn?void 0:sn.title})]})]}),("regular"===Ie||"sequence-campaign"===Ie)&&(0,b.jsx)("div",{className:"email-to input-item",children:(0,b.jsxs)("div",{className:"select-options",ref:In,children:[(0,b.jsxs)("label",{children:[null===(W=window)||void 0===W||null===(W=W.MRM_Vars)||void 0===W||null===(W=W.mint_trans)||void 0===W?void 0:W.To,":",(0,b.jsx)("span",{className:"mint-required-sign",children:"*"})]}),0===$e.length&&0===Xe.length&&0===nn.length?(0,b.jsxs)("button",{className:"all-recipients",onClick:$t,children:[null===($=window)||void 0===$||null===($=$.MRM_Vars)||void 0===$||null===($=$.mint_trans)||void 0===$?void 0:$.SelectRecipients,an?(0,b.jsx)(w.A,{}):(0,b.jsx)(v.A,{})]}):(0,b.jsxs)("button",{className:"all-recipients selected show",onClick:$t,children:[(null==nn?void 0:nn.length)>0?(0,b.jsxs)("span",{className:"segments",children:[null==nn?void 0:nn.length," Segments"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("span",{className:"tags",children:[null==$e?void 0:$e.length," Lists"]}),(0,b.jsx)("span",{className:"from",children:null===(K=window)||void 0===K||null===(K=K.MRM_Vars)||void 0===K||null===(K=K.mint_trans)||void 0===K?void 0:K.and}),(0,b.jsxs)("span",{className:"lists",children:[null==Xe?void 0:Xe.length," Tags"]})]}),(0,b.jsxs)("span",{className:"recipients",children:[En," ",null===(X=window)||void 0===X||null===(X=X.MRM_Vars)||void 0===X||null===(X=X.mint_trans)||void 0===X?void 0:X.Recipients]}),an?(0,b.jsx)(w.A,{}):(0,b.jsx)(v.A,{})]}),(0,b.jsx)(q.A,{dropDown:an,setIsUnload:Nn,setRecipientTags:Qe,recipientTags:Xe,setRecipientLists:Je,recipientLists:$e,setRecipientSegments:tn,recipientSegments:nn,addSegments:!0,setIsChange:Ln}),(0,b.jsx)("div",{})]})})]}),Be>0&&(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{className:"email-delay input-item",children:[(0,b.jsx)("label",{children:null===(ee=window)||void 0===ee||null===(ee=ee.MRM_Vars)||void 0===ee||null===(ee=ee.mint_trans)||void 0===ee?void 0:ee.delay}),(0,b.jsxs)("div",{className:"delay_count_input",children:[(0,b.jsxs)("div",{className:"delay-input",children:[(0,b.jsx)("input",{type:"number",name:"delay_count",value:null===(ne=Fe[Be])||void 0===ne?void 0:ne.delay_count,onChange:Wt,min:0,onKeyDown:function(e){return["e","E","+","-"].includes(e.key)&&e.preventDefault()}}),(0,b.jsx)("p",{className:null!=sn&&sn.number?"error-message show":"error-message",children:null==sn?void 0:sn.number})]}),(0,b.jsxs)("select",{onChange:Wt,name:"delay_value",value:null===(te=Fe[Be])||void 0===te?void 0:te.delay_value,children:[(0,b.jsx)("option",{disabled:!0,value:"",children:null===(ie=window)||void 0===ie||null===(ie=ie.MRM_Vars)||void 0===ie||null===(ie=ie.mint_trans)||void 0===ie?void 0:ie.chooseDelay}),It.map((function(e){return(0,b.jsx)("option",{children:e.value},e.id)}))]})]})]})}),(0,b.jsxs)("div",{className:"email-subject input-item",children:[(0,b.jsxs)("label",{children:[null===(re=window)||void 0===re||null===(re=re.MRM_Vars)||void 0===re||null===(re=re.mint_trans)||void 0===re?void 0:re.SubjectLine,(0,b.jsx)("span",{className:"mint-required-sign",children:"*"})]}),(0,b.jsxs)("div",{className:"input-title-wrapper",children:[(0,b.jsx)("input",{maxLength:191,type:"text",name:"subject",autoComplete:ft?"on":"off",value:null===(ae=Fe[Be])||void 0===ae?void 0:ae.subject,onChange:Wt,onClick:function(e){return function(e){ft||"regular"==Ie?xn(e.target.selectionStart):yt(!0)}(e)},placeholder:null===(oe=window)||void 0===oe||null===(oe=oe.MRM_Vars)||void 0===oe||null===(oe=oe.mint_trans)||void 0===oe?void 0:oe.SubjectLinePlaceHolder,ref:Pt}),(0,b.jsx)("p",{className:null!=sn&&sn.subject?"error-message show":"error-message",children:null==sn?void 0:sn.subject})]}),(0,b.jsxs)("span",{className:"text-length",children:[null===(le=Fe[Be])||void 0===le?void 0:le.subject.length,"/190"]}),(0,b.jsx)("div",{className:"mint-merge-tag-section",children:(0,b.jsx)(F.A,{inputRef:Pt,inputValue:null===(se=Fe[Be])||void 0===se?void 0:se.subject,setInputValue:Jt,tooltip:null===(ue=window)||void 0===ue||null===(ue=ue.MRM_Vars)||void 0===ue||null===(ue=ue.mint_trans)||void 0===ue?void 0:ue.personalizeTooltip,contentType:"subject",campaignType:Ie})}),(0,b.jsxs)("div",{className:"openai-icon",onClick:function(e){return zt(0,"subject",window.MRM_Vars.mint_trans.GenerateEmailSubjectLinesUsingAI)},children:[(0,b.jsx)(h.A,{}),(0,b.jsx)("p",{className:"personalized-tooltip",children:"OpenAI"})]})]}),(0,b.jsxs)("div",{className:"email-preview input-item",children:[(0,b.jsx)("label",{children:null===(ce=window)||void 0===ce||null===(ce=ce.MRM_Vars)||void 0===ce||null===(ce=ce.mint_trans)||void 0===ce?void 0:ce.PreviewText}),(0,b.jsxs)("div",{className:"input-title-wrapper",children:[(0,b.jsx)("input",{maxLength:191,type:"text",name:"preview",autoComplete:ft?"on":"off",value:null===(de=Fe[Be])||void 0===de?void 0:de.preview,onChange:Wt,onClick:function(e){return function(e){ft||"regular"==Ie?_n(e.target.selectionStart):yt(!0)}(e)},placeholder:null===(me=window)||void 0===me||null===(me=me.MRM_Vars)||void 0===me||null===(me=me.mint_trans)||void 0===me?void 0:me.PreviewPlaceholder,ref:qt}),(0,b.jsx)("p",{className:null!=sn&&sn.preview?"error-message show":"error-message",children:null==sn?void 0:sn.preview})]}),(0,b.jsxs)("span",{className:"text-length",children:[null===(ve=Fe[Be])||void 0===ve?void 0:ve.preview.length,"/190"]}),(0,b.jsx)("div",{className:"mint-merge-tag-section",children:(0,b.jsx)(F.A,{inputRef:qt,inputValue:null===(pe=Fe[Be])||void 0===pe?void 0:pe.preview,setInputValue:Kt,tooltip:null===(he=window)||void 0===he||null===(he=he.MRM_Vars)||void 0===he||null===(he=he.mint_trans)||void 0===he?void 0:he.personalizeTooltip,contentType:"preview",campaignType:Ie})}),(0,b.jsxs)("div",{className:window.MRM_Vars.is_mailmint_pro_license_active?"openai-icon":"openai-icon disable",onClick:function(e){return zt(0,"preview",window.MRM_Vars.mint_trans.GenerateEmailPreviewTextUsingAI)},children:[(0,b.jsx)(h.A,{}),(0,b.jsx)("p",{className:"personalized-tooltip",children:(0,i.__)("OpenAI","mrm")})]})]}),(0,b.jsxs)("div",{className:"email-from input-item",children:[(0,b.jsxs)("label",{children:[null===(fe=window)||void 0===fe||null===(fe=fe.MRM_Vars)||void 0===fe||null===(fe=fe.mint_trans)||void 0===fe?void 0:fe.From,":",(0,b.jsx)("span",{className:"mint-required-sign",children:"*"})]}),(0,b.jsx)("input",{type:"text",name:"senderName",value:null===(ge=Fe[Be])||void 0===ge?void 0:ge.senderName,onChange:Wt,onClick:ri,placeholder:null===(we=window)||void 0===we||null===(we=we.MRM_Vars)||void 0===we||null===(we=we.mint_trans)||void 0===we?void 0:we.FromName}),(0,b.jsxs)("div",{className:"email-input",children:[(0,b.jsx)("input",{type:"email",name:"senderEmail",value:null===(ye=Fe[Be])||void 0===ye?void 0:ye.senderEmail,onChange:Wt,onClick:ri,placeholder:null===(xe=window)||void 0===xe||null===(xe=xe.MRM_Vars)||void 0===xe||null===(xe=xe.mint_trans)||void 0===xe?void 0:xe.FromEmail}),(0,b.jsx)("p",{className:null!=sn&&sn.email?"error-message show":"error-message",children:null==sn?void 0:sn.email})]})]}),(0,b.jsxs)("div",{className:"email-from input-item",children:[(0,b.jsxs)("label",{children:[null===(je=window)||void 0===je||null===(je=je.MRM_Vars)||void 0===je||null===(je=je.mint_trans)||void 0===je?void 0:je.ReplyTo,(0,b.jsx)("span",{className:"mint-required-sign",children:"*"})]}),(0,b.jsx)("input",{type:"text",name:"replyName",value:null===(_e=Fe[Be])||void 0===_e?void 0:_e.replyName,onChange:Wt,onClick:ri,placeholder:null===(be=window)||void 0===be||null===(be=be.MRM_Vars)||void 0===be||null===(be=be.mint_trans)||void 0===be?void 0:be.ReplyName}),(0,b.jsxs)("div",{className:"email-input",children:[(0,b.jsx)("input",{type:"email",name:"replyEmail",value:null===(Me=Fe[Be])||void 0===Me?void 0:Me.replyEmail,onChange:Wt,onClick:ri,placeholder:null===(Ne=window)||void 0===Ne||null===(Ne=Ne.MRM_Vars)||void 0===Ne||null===(Ne=Ne.mint_trans)||void 0===Ne?void 0:Ne.ReplyEmail}),(0,b.jsx)("p",{className:null!=sn&&sn.replyEmail?"error-message show":"error-message",children:null==sn?void 0:sn.replyEmail})]})]}),(0,b.jsxs)("div",{className:"email-design input-item",children:[(0,b.jsxs)("label",{children:[null===(Se=window)||void 0===Se||null===(Se=Se.MRM_Vars)||void 0===Se||null===(Se=Se.mint_trans)||void 0===Se?void 0:Se.EmailDesign,(0,b.jsx)("span",{className:"mint-required-sign",children:"*"})]}),(0,b.jsx)("div",{className:"add-template-section",children:(0,b.jsxs)("div",{className:"add-template",onClick:Fn?function(){}:Yt,children:[(0,b.jsx)(g.A,{}),(0,b.jsx)(s.N_,{to:"",children:null===(Ee=window)||void 0===Ee||null===(Ee=Ee.MRM_Vars)||void 0===Ee||null===(Ee=Ee.mint_trans)||void 0===Ee?void 0:Ee.DesignYourEmail})]})})]})]}),(0,b.jsxs)("div",{className:"content-save-section",children:[("regular"===Ie||"sequence-campaign"===Ie&&ft)&&(0,b.jsxs)("button",{type:"submit",className:"mintmrm-btn ".concat("sequence-automation"===Ie?"campaign-schedule":"campaign-save"),onClick:function(){return Ht(kn)},disabled:Fn,children:[null===(Re=window)||void 0===Re||null===(Re=Re.MRM_Vars)||void 0===Re||null===(Re=Re.mint_trans)||void 0===Re?void 0:Re.SaveDraft,Fn&&(0,b.jsx)("span",{className:"mintmrm-loader"})]}),("regular"===Ie||"sequence-campaign"===Ie&&ft||"sequence-automation"===Ie&&ft)&&(0,b.jsx)(N,{title:null===(Ve=window)||void 0===Ve||null===(Ve=Ve.MRM_Vars)||void 0===Ve||null===(Ve=Ve.mint_trans)||void 0===Ve?void 0:Ve.RegularCampaignTooltip,containerClass:"tooltipStyleChange",children:(0,b.jsx)("button",{className:"campaign-schedule mintmrm-btn outline disable","data-tip":null===(ke=window)||void 0===ke||null===(ke=ke.MRM_Vars)||void 0===ke||null===(ke=ke.mint_trans)||void 0===ke?void 0:ke.RegularCampaignButtonTooltip,children:"sequence-automation"===Ie?null===(Ce=window)||void 0===Ce||null===(Ce=Ce.MRM_Vars)||void 0===Ce||null===(Ce=Ce.mint_trans)||void 0===Ce?void 0:Ce.Publish:null===(Ae=window)||void 0===Ae||null===(Ae=Ae.MRM_Vars)||void 0===Ae||null===(Ae=Ae.mint_trans)||void 0===Ae?void 0:Ae.Send})}),"sequence-campaign"===Ie&&!ft&&(0,b.jsxs)("button",{className:"campaign-schedule mintmrm-btn outline",onClick:function(){return yt(!0)},children:[(0,b.jsx)(G.A,{}),null===(Oe=window)||void 0===Oe||null===(Oe=Oe.MRM_Vars)||void 0===Oe||null===(Oe=Oe.mint_trans)||void 0===Oe?void 0:Oe.SaveDraft]}),("sequence-campaign"===Ie||"sequence-automation"===Ie)&&!ft&&(0,b.jsxs)("button",{className:"campaign-schedule mintmrm-btn outline",onClick:function(){return yt(!0)},children:[(0,b.jsx)(G.A,{}),"sequence-campaign"===Ie?null===(Le=window)||void 0===Le||null===(Le=Le.MRM_Vars)||void 0===Le||null===(Le=Le.mint_trans)||void 0===Le?void 0:Le.Send:null===(Te=window)||void 0===Te||null===(Te=Te.MRM_Vars)||void 0===Te||null===(Te=Te.mint_trans)||void 0===Te?void 0:Te.Publish]})]})]})]})})]}),Jn&&(0,b.jsx)("div",{className:"mintmrm-container",children:(0,b.jsx)(c.A,{title:Qn,message:tt,onDeleteShow:ti,onDeleteStatus:ii})}),(0,b.jsx)("div",{className:"mintmrm-container",style:{display:Wn},children:(0,b.jsx)(D.A,{heading:pt,title:Qn,message:tt,setOpenAIPromptModal:Yn,setEmailData:Ge,selectedEmailIndex:Be,context:st,setErrors:un,errors:sn,promptType:dt})}),wt&&(0,b.jsx)("div",{className:"mintmrm-container",children:(0,b.jsx)(O.A,{setIsPro:yt,proLink:"sequence-campaign"==Ie?C.YI:"sequence-automation"==Ie?C.I5:""})}),jt&&(0,b.jsx)("div",{className:"mintmrm-container",children:(0,b.jsx)(O.A,{feature:"openai",icon:(0,b.jsx)(h.A,{}),text:null===(Pe=window)||void 0===Pe||null===(Pe=Pe.MRM_Vars)||void 0===Pe||null===(Pe=Pe.mint_trans)||void 0===Pe?void 0:Pe.upgradeText,setIsPro:_t,proLink:C.HX})}),pn&&(0,b.jsx)(x.A,{setShowNotification:hn,notificationType:dn,setNotificationType:mn,message:gn}),(0,b.jsx)(A.A,{showVideo:"true",videoLink:"regular"==Ie?"https://www.youtube.com/embed/KG_Bjdqw688":"https://www.youtube.com/embed/ZiMfFdTAcjI",docLink:"regular"==Ie?"https://getwpfunnels.com/docs/mail-mint-campaigns/regular-email/":"https://getwpfunnels.com/docs/mail-mint-campaigns/email-sequence-campaigns-in-mail-mint/"})]})}},2694:(e,n,t)=>{"use strict";var i=t(6925);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,n,t,r,a,o){if(o!==i){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function n(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:a,resetWarningCache:r};return t.PropTypes=t,t}},5556:(e,n,t)=>{e.exports=t(2694)()},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);
//# sourceMappingURL=add-campaign.min.js.map?ver=1729828711084000