/*! For license information please see edit-campaign.min.js.LICENSE.txt */
"use strict";(globalThis.webpackChunk_mmAdmin_webpackJsonp=globalThis.webpackChunk_mmAdmin_webpackJsonp||[]).push([[2658,4259],{8551:(e,n,t)=>{t.d(n,{A:()=>r});var i=t(4848);function r(){return(0,i.jsx)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsxs)("g",{stroke:"#686F7F",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",clipPath:"url(#clip0_772_1600)",children:[(0,i.jsx)("path",{d:"M10.5 2.25v3a.75.75 0 00.75.75h3"}),(0,i.jsx)("path",{d:"M8.625 15.75H5.25a1.5 1.5 0 01-1.5-1.5V3.75a1.5 1.5 0 011.5-1.5h5.25L14.25 6v3.75m-3.75 4.5h5.25m0 0L13.5 12m2.25 2.25L13.5 16.5"})]})})}},5729:(e,n,t)=>{t.d(n,{A:()=>l});var i=t(1609),r=t(4848);function a(){return(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("g",{stroke:"#686F7F",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",clipPath:"url(#clip0_718_1046)",children:(0,r.jsx)("path",{d:"M12 21a9 9 0 100-18 9 9 0 000 18zm-3-9h6m-3-3v6"})})})}const l=(0,i.memo)(a)},9884:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Je});var i=t(7723),r=t(1609),a=t(7767),l=t(5588),s=t(4976),o=t(9214),u=t(7091),c=t(3197),d=t(630),m=t(9431),v=t(9012),h=t(2464),p=t(4848);function f(){return(0,p.jsxs)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsxs)("g",{fill:"#02C4FB",clipPath:"url(#clip0_781_6151)",children:[(0,p.jsx)("path",{d:"M12 7.5H6A.75.75 0 016 6h6a.75.75 0 010 1.5zm-3-3H6A.75.75 0 016 3h3a.75.75 0 010 1.5z"}),(0,p.jsx)("path",{d:"M3 10.875a.75.75 0 01-.75-.75V2.25C2.25 1.01 3.26 0 4.5 0h9c1.24 0 2.25 1.01 2.25 2.25v7.875a.75.75 0 01-1.5 0V2.25a.751.751 0 00-.75-.75h-9a.751.751 0 00-.75.75v7.875a.75.75 0 01-.75.75z"}),(0,p.jsx)("path",{d:"M16.828 4.916L15 3.919v1.708l1.11.606a.75.75 0 01.39.658v.937l-7.06 3.688a.971.971 0 01-.877.001L1.5 7.828v-.937a.75.75 0 01.39-.658L3 5.627V3.92l-1.827.997A2.246 2.246 0 000 6.89V15c0 1.24 1.01 2.25 2.25 2.25h13.5c1.24 0 2.25-1.01 2.25-2.25V6.89c0-.825-.45-1.582-1.172-1.975z"})]}),(0,p.jsx)("defs",{children:(0,p.jsx)("clipPath",{id:"clip0_781_6151",children:(0,p.jsx)("path",{fill:"#fff",d:"M0 0h18v18H0z"})})})]})}const g=(0,r.memo)(f);var y=t(9519),x=t(4231);function w(){return(0,p.jsxs)("svg",{width:"21",height:"20",fill:"none",viewBox:"0 0 21 20",children:[(0,p.jsx)("g",{fill:"#239654",clipPath:"url(#clip0_2085_4455)",children:(0,p.jsx)("path",{d:"M17.127 3.744a.625.625 0 01-.442-1.06L18.56.807a.625.625 0 01.884.884l-1.875 1.875a.623.623 0 01-.442.177zM18.955 6.875H17.75a.625.625 0 110-1.25h1.205a.625.625 0 110 1.25zM14 3.125a.625.625 0 01-.625-.625V1.295a.625.625 0 111.25 0V2.5a.625.625 0 01-.625.625zM19 11.87a.622.622 0 01-.442-.178l-1.875-1.875a.625.625 0 01.884-.884l1.875 1.875A.626.626 0 0119 11.871zM10.875 3.746a.62.62 0 01-.442-.179L8.558 1.692a.625.625 0 01.884-.884l1.875 1.875a.628.628 0 01-.442 1.063zM14.854 5.396a1.333 1.333 0 00-1.433-.306L1.743 9.539a1.347 1.347 0 00.093 2.55l4.816 1.445a.097.097 0 01.065.065l1.445 4.816a1.33 1.33 0 001.241.959 1.353 1.353 0 001.31-.867L15.16 6.83a1.332 1.332 0 00-.306-1.433z"})}),(0,p.jsx)("defs",{children:(0,p.jsx)("clipPath",{id:"clip0_2085_4455",children:(0,p.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z",transform:"translate(.25)"})})})]})}const j=(0,r.memo)(w);var b=t(5170),_=t(6263);function M(){return(0,p.jsxs)("svg",{width:"21",height:"20",fill:"none",viewBox:"0 0 21 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("g",{clipPath:"url(#clip0_2090_4745)",children:(0,p.jsx)("path",{fill:"#F7900A",fillRule:"evenodd",d:"M20.248 8.252v5.967a1.56 1.56 0 01-1.562 1.562H12.72a1.562 1.562 0 110-3.125h2.193l-4.665-4.665-7.332 7.332a1.563 1.563 0 01-2.21-2.209l8.437-8.437a1.562 1.562 0 012.21 0l5.77 5.77V8.252a1.563 1.563 0 113.125 0z",clipRule:"evenodd"})}),(0,p.jsx)("defs",{children:(0,p.jsx)("clipPath",{id:"clip0_2090_4745",children:(0,p.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z",transform:"translate(.25)"})})})]})}const N=(0,r.memo)(M);var I=t(161),S=t(5919),C=t(2017),k=t(6427),R=[{id:1,label:"M",value:"monday"},{id:2,label:"T",value:"tuesday"},{id:3,label:"W",value:"wednesday"},{id:4,label:"T",value:"thursday"},{id:5,label:"F",value:"friday"},{id:6,label:"S",value:"saturday"},{id:7,label:"S",value:"sunday"}];function A(){return(0,p.jsxs)("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("path",{fill:"#A7A8B3",d:"M2.715 18h12.56a2.389 2.389 0 002.386-2.387V3.72a2.389 2.389 0 00-2.386-2.387h-.947V.667c0-.367-.3-.667-.667-.667-.366 0-.666.3-.666.667v.666h-8V.667C4.995.3 4.695 0 4.328 0c-.367 0-.667.3-.667.667v.666h-.946A2.389 2.389 0 00.328 3.72v11.893A2.389 2.389 0 002.715 18zM1.66 3.72c0-.58.474-1.053 1.054-1.053h.946v.666c0 .367.3.667.667.667.367 0 .667-.3.667-.667v-.666h8v.666c0 .367.3.667.666.667.367 0 .667-.3.667-.667v-.666h.947c.58 0 1.053.473 1.053 1.053v11.893c0 .58-.473 1.054-1.053 1.054H2.715c-.58 0-1.054-.474-1.054-1.054V3.72z"}),(0,p.jsx)("path",{fill:"#A7A8B3",d:"M5.161 7.667a.833.833 0 100-1.667.833.833 0 000 1.667zm3.672 0a.833.833 0 100-1.667.833.833 0 000 1.667zm3.657 0a.833.833 0 100-1.667.833.833 0 000 1.667zM5.161 11a.833.833 0 100-1.667.833.833 0 000 1.667zm3.672 0a.833.833 0 100-1.667.833.833 0 000 1.667zm3.657 0a.833.833 0 100-1.667.833.833 0 000 1.667zm-7.329 3.333a.833.833 0 100-1.666.833.833 0 000 1.666zm3.672 0a.833.833 0 100-1.666.833.833 0 000 1.666zm3.657 0a.833.833 0 100-1.666.833.833 0 000 1.666z"})]})}var E=t(4983),V=t(5729);function T(){return(0,p.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("path",{d:"M4.16536 0.832031C3.71091 0.832031 3.33203 1.21091 3.33203 1.66536V5.18587L1.01676 6.73617C0.901402 6.81347 0.832131 6.94316 0.832031 7.08203V17.4987C0.832031 18.4148 1.58257 19.1654 2.4987 19.1654H17.4987C18.4148 19.1654 19.1654 18.4148 19.1654 17.4987V7.08203C19.1654 6.94272 19.0957 6.81263 18.9798 6.73535L16.6654 5.19238V1.66536C16.6654 1.21091 16.2865 0.832031 15.832 0.832031H4.16536ZM4.16536 1.66536H15.832V8.78044L10.675 12.7095C10.2738 13.0151 9.72358 13.0151 9.32243 12.7095L4.16536 8.78044C4.16536 6.40874 4.16536 4.03706 4.16536 1.66536ZM3.33203 6.18848V8.14567L1.96484 7.104L3.33203 6.18848ZM16.6654 6.19419L18.0317 7.10483L16.6654 8.14568V6.19419ZM1.66536 7.9227L7.23828 12.1699L1.69548 17.7127C1.6779 17.6442 1.66536 17.5737 1.66536 17.4987V7.9227ZM18.332 7.9227V17.4987C18.332 17.5737 18.3195 17.6442 18.3019 17.7127L12.7591 12.1699L18.332 7.9227ZM7.90723 12.6794L8.81706 13.3727C9.51342 13.9033 10.484 13.9033 11.1803 13.3727L12.0902 12.6794L17.7127 18.3019C17.6442 18.3195 17.5737 18.332 17.4987 18.332H2.4987C2.42373 18.332 2.35324 18.3195 2.28467 18.3019L7.90723 12.6794Z",fill:"#A7A8B3",stroke:"#A7A8B3",strokeWidth:"0.3"}),(0,p.jsx)("path",{d:"M13.0532 6.64563C12.8994 6.64563 12.7756 6.76944 12.7756 6.92318C12.7756 8.45515 11.5294 9.70141 9.9974 9.70141C8.46542 9.70141 7.21916 8.45515 7.21916 6.92318C7.21916 5.3912 8.46542 4.14495 9.9974 4.14495C10.8341 4.14495 11.6096 4.51365 12.1348 5.14767H11.1756C11.0219 5.14767 10.8981 5.27148 10.8981 5.42522C10.8981 5.57896 11.0219 5.70277 11.1756 5.70277H12.7348C12.8886 5.70277 13.0124 5.57896 13.0124 5.42522V3.86739C13.0124 3.71365 12.8886 3.58984 12.7348 3.58984C12.5811 3.58984 12.4573 3.71365 12.4573 3.86739V4.67012C11.83 3.98576 10.9471 3.58984 9.9974 3.58984C8.1593 3.58984 6.66406 5.08508 6.66406 6.92318C6.66406 8.76127 8.1593 10.2565 9.9974 10.2565C11.8355 10.2565 13.3307 8.76127 13.3307 6.92318C13.3307 6.76944 13.2069 6.64563 13.0532 6.64563Z",fill:"#A7A8B3",stroke:"#A7A8B3",strokeWidth:"0.5"})]})}const P=(0,r.memo)(T);function B(){return(0,p.jsxs)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("path",{fill:"#A7A8B3",stroke:"#A7A8B3",strokeWidth:".2",d:"M12.274 18.93a1.936 1.936 0 01-1.682-1.035l-2.927-5.35a.673.673 0 00-.286-.286l-5.35-2.885a1.968 1.968 0 01.353-3.609l13.939-4.651a1.977 1.977 0 012.523 2.523L14.16 17.584a1.943 1.943 0 01-1.683 1.338l-.202.008zm4.408-16.614L2.744 6.968a.707.707 0 00-.118 1.296l5.35 2.885c.34.18.619.459.8.8l2.86 5.349a.698.698 0 00.68.37.706.706 0 00.615-.488l4.677-13.938a.706.706 0 00-.926-.926z"}),(0,p.jsx)("path",{fill:"#A7A8B3",stroke:"#A7A8B3",strokeWidth:".2",d:"M7.993 12.562a.596.596 0 01-.446-.185.622.622 0 010-.892L17.44 1.56a.654.654 0 01.925.926L8.44 12.377a.622.622 0 01-.446.185z"})]})}var D=t(6005),L=function(e){return(0,p.jsxs)("svg",{width:"13",height:"16",viewBox:"0 0 13 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("path",{d:"M11.6875 2.75H10.3125V2.0625C10.3125 1.51549 10.0952 0.990886 9.70841 0.604092C9.32161 0.217298 8.79701 0 8.25 0H4.125C3.57799 0 3.05339 0.217298 2.66659 0.604092C2.2798 0.990886 2.0625 1.51549 2.0625 2.0625V2.75H0.6875C0.505164 2.75 0.330295 2.82243 0.201364 2.95136C0.0724328 3.0803 0 3.25516 0 3.4375C0 3.61984 0.0724328 3.7947 0.201364 3.92364C0.330295 4.05257 0.505164 4.125 0.6875 4.125V11.6875C0.6875 12.1389 0.776414 12.5859 0.949164 13.003C1.12191 13.42 1.37512 13.799 1.69432 14.1182C2.33898 14.7628 3.21332 15.125 4.125 15.125H8.25C8.70142 15.125 9.14842 15.0361 9.56547 14.8633C9.98253 14.6906 10.3615 14.4374 10.6807 14.1182C10.9999 13.799 11.2531 13.42 11.4258 13.003C11.5986 12.5859 11.6875 12.1389 11.6875 11.6875V4.125C11.8698 4.125 12.0447 4.05257 12.1736 3.92364C12.3026 3.7947 12.375 3.61984 12.375 3.4375C12.375 3.25516 12.3026 3.0803 12.1736 2.95136C12.0447 2.82243 11.8698 2.75 11.6875 2.75ZM3.4375 2.0625C3.4375 1.88016 3.50993 1.7053 3.63886 1.57636C3.7678 1.44743 3.94266 1.375 4.125 1.375H8.25C8.43234 1.375 8.6072 1.44743 8.73614 1.57636C8.86507 1.7053 8.9375 1.88016 8.9375 2.0625V2.75H3.4375V2.0625ZM10.3125 11.6875C10.3125 12.2345 10.0952 12.7591 9.70841 13.1459C9.32161 13.5327 8.79701 13.75 8.25 13.75H4.125C3.57799 13.75 3.05339 13.5327 2.66659 13.1459C2.2798 12.7591 2.0625 12.2345 2.0625 11.6875V4.125H10.3125V11.6875Z",fill:"#7A8B9A"}),(0,p.jsx)("path",{d:"M4.8125 6.1875C4.63016 6.1875 4.4553 6.25993 4.32636 6.38886C4.19743 6.5178 4.125 6.69266 4.125 6.875V11C4.125 11.1823 4.19743 11.3572 4.32636 11.4861C4.4553 11.6151 4.63016 11.6875 4.8125 11.6875C4.99484 11.6875 5.1697 11.6151 5.29864 11.4861C5.42757 11.3572 5.5 11.1823 5.5 11V6.875C5.5 6.69266 5.42757 6.5178 5.29864 6.38886C5.1697 6.25993 4.99484 6.1875 4.8125 6.1875Z",fill:"#7A8B9A"}),(0,p.jsx)("path",{d:"M7.55469 6.1875C7.37235 6.1875 7.19748 6.25993 7.06855 6.38886C6.93962 6.5178 6.86719 6.69266 6.86719 6.875V11C6.86719 11.1823 6.93962 11.3572 7.06855 11.4861C7.19748 11.6151 7.37235 11.6875 7.55469 11.6875C7.73702 11.6875 7.91189 11.6151 8.04082 11.4861C8.16975 11.3572 8.24219 11.1823 8.24219 11V6.875C8.24219 6.69266 8.16975 6.5178 8.04082 6.38886C7.91189 6.25993 7.73702 6.1875 7.55469 6.1875Z",fill:"#7A8B9A"})]})};const O=(0,r.memo)(L);function H(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return Z(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Z(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}var F=function(e){var n,t=e.parentId,r=e.step,a=e.conditions,l=e.setConditions,s=e.steps,o=e.index,u=e.setScheduleValidate,c=e.setErrorMessage,d=[{value:"post",label:"Blog posts"},{value:"page",label:"Pages"}];window.MRM_Vars.is_wc_active&&d.push({value:"product",label:"Products"});var m=d.find((function(e){return(null==e?void 0:e.value)===(null==r?void 0:r.publishItem)}));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"recurring-single-condition",children:[(0,p.jsx)(D.Ay,{value:m||d[0],options:d,onChange:function(e){return function(e,n){var i,r=H(a),s=r.find((function(e){return(null==e?void 0:e.id)===t})),o=null==s?void 0:s.steps.find((function(e){return(null==e?void 0:e.id)===n})),u=r.indexOf(s),c=null==s||null===(i=s.steps)||void 0===i?void 0:i.indexOf(o);s.steps[c].publishItem=null==e?void 0:e.value,r[u]=s,l(H(r))}(e,null==r?void 0:r.id)}}),(0,p.jsxs)("div",{className:"item-publish-day",children:[(0,p.jsx)("label",{htmlFor:"publishWithIn",children:(0,i.__)("days","mrm")}),(0,p.jsx)("input",{type:"number",name:"publishWithIn",value:null==r?void 0:r.publishWithIn,min:1,onChange:function(e){return function(e,n){var i,r=e.target.value;""===r?(u(!1),c("Input cannot be empty")):u(!0);var s=H(a),o=s.find((function(e){return(null==e?void 0:e.id)===t})),d=null==o?void 0:o.steps.find((function(e){return(null==e?void 0:e.id)===n})),m=s.indexOf(o),v=null==o||null===(i=o.steps)||void 0===i?void 0:i.indexOf(d);o.steps[v].publishWithIn=r,s[m]=o,l(H(s))}(e,null==r?void 0:r.id)},onKeyDown:function(e){return["e","E","+","-"].includes(e.key)&&e.preventDefault()}})]}),(0,p.jsx)("button",{disabled:1===a.length&&1===(null===(n=a[0])||void 0===n?void 0:n.steps.length),onClick:function(){return function(e,n){var t=H(a),i=a.find((function(n){return(null==n?void 0:n.id)===e})),r=t.indexOf(i),s=a.filter((function(n){return(null==n?void 0:n.id)!==e})),o=i.steps.filter((function(e){return e.id!==n}));u(!0),0===o.length?l(H(s)):(i.steps=H(o),t[r]=i,l(H(t)))}(t,null==r?void 0:r.id)},className:"".concat(1<s.length?"active":""),children:(0,p.jsx)(O,{})})]}),1<s.length&&o!==s.length-1&&(0,p.jsx)("div",{className:"and-symbol",children:(0,p.jsx)("span",{children:"&"})})]})};const z=(0,r.memo)(F);function G(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return W(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?W(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}var q=function(e){var n,t=e.parentId,r=e.condition,a=e.conditions,l=e.setConditions,s=e.index,o=e.setScheduleValidate,u=e.setErrorMessage;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"recurring-conditions-wrapper",children:[(0,p.jsxs)("div",{className:"condition-title-wrapper",children:[(0,p.jsx)("h2",{children:(0,i.__)("Send emails if","mrm")}),(0,p.jsx)("h2",{children:(0,i.__)("Publishes within","mrm")})]}),null==r||null===(n=r.steps)||void 0===n?void 0:n.map((function(e,n){return(0,p.jsx)(z,{step:e,conditions:a,setConditions:l,parentId:t,steps:r.steps,index:n,setScheduleValidate:o,setErrorMessage:u},e.id)})),(0,p.jsxs)("button",{className:"recurring-add-and",onClick:function(){return function(e){var n=G(a),t=a.find((function(n){return(null==n?void 0:n.id)===e})),i=n.indexOf(t),r={id:t.steps[t.steps.length-1].id+1,publishItem:"post",publishWithIn:1};t.steps.push(r),n[i]=t,l(G(n))}(t)},children:[(0,p.jsx)(V.A,{}),(0,i.__)("And","mrm")]})]}),1<a.length&&s!==a.length-1&&(0,p.jsx)("div",{children:(0,p.jsx)("h3",{children:(0,i.__)("Or","mrm")})})]})};const U=(0,r.memo)(q);var Y=t(5747),Q=t(4479),J=t(5270);function K(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=ee(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==t.return||t.return()}finally{if(s)throw a}}}}function X(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,r,a,l,s=[],o=!0,u=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;o=!1}else for(;!(o=(i=a.call(t)).done)&&(s.push(i.value),s.length!==n);o=!0);}catch(e){u=!0,r=e}finally{try{if(!o&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw r}}return s}}(e,n)||ee(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,n){if(e){if("string"==typeof e)return ne(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ne(e,n):void 0}}function ne(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}function te(e){var n=$((0,r.useState)(!1),2),t=(n[0],n[1]),a=$((0,r.useState)(window.MRM_Vars.local_time),2),l=a[0],s=a[1],o=$((0,r.useState)(!1),2),u=o[0],c=o[1],d=$((0,r.useState)(!0),2),m=d[0],v=d[1],h=$((0,r.useState)(),2),f=h[0],g=h[1],y=(0,r.useRef)(null),x=$((0,r.useState)(!1),2),w=x[0],j=x[1],b=$((0,r.useState)(window.MRM_Vars.local_time),2),_=b[0],M=b[1],N=$((0,r.useState)("daily"),2),I=N[0],C=N[1],T=$((0,r.useState)(window.MRM_Vars.local_time),2),D=T[0],L=T[1],O=$((0,r.useState)(window.MRM_Vars.local_time),2),H=O[0],Z=O[1],F=$((0,r.useState)(!1),2),z=F[0],G=F[1],W=$((0,r.useState)("never_end"),2),q=W[0],ee=W[1],ne=$((0,r.useState)([]),2),te=ne[0],ie=ne[1],re=$((0,r.useState)(1),2),ae=re[0],le=re[1],se=$((0,r.useState)(""),2),oe=se[0],ue=se[1],ce=$((0,r.useState)(!1),2),de=ce[0],me=ce[1],ve=$((0,r.useState)([{id:"parentStep-1",steps:[{id:1,publishItem:"post",publishWithIn:1}]}]),2),he=ve[0],pe=ve[1],fe=(0,r.useRef)(null),ge=(0,r.useRef)(null);(0,S.c7)(y,c),(0,S.c7)(ge,me),(0,S.c7)(fe,G);var ye=Array.from({length:31},(function(e,n){return n+1})),xe=window.MRM_Vars.is_mailmint_pro_license_active;(0,r.useEffect)((function(){var n,t,i,r,a,l,s,o,u=e.recurringSavedData;Object.keys(u).length>0&&(pe(null==u?void 0:u.conditions),M((null==u||null===(n=u.schedule)||void 0===n?void 0:n.startDate)+" 05:55:42"),C(null==u||null===(t=u.schedule)||void 0===t?void 0:t.recurringRepeat),le(null==u||null===(i=u.schedule)||void 0===i?void 0:i.recurringEvery),L("2023-11-21 "+(null==u||null===(r=u.schedule)||void 0===r?void 0:r.recurringAt)),ie(null!=u&&null!==(a=u.schedule)&&void 0!==a&&a.recurringOn?u.schedule.recurringOn:[]),"never_end"===(null==u||null===(l=u.schedule)||void 0===l?void 0:l.endDate)?ee(null==u||null===(s=u.schedule)||void 0===s?void 0:s.endDate):(ee("till"),Z((null==u||null===(o=u.schedule)||void 0===o?void 0:o.endDate)+" 05:55:42")))}),[e.recurringSavedData]);var we=$((0,r.useState)(1),2),je=we[0],be=we[1],_e=function(e){be(e),v(!0)},Me=function(){t(!0),e.onNotPublish("none"),v(!0)},Ne=function(e){var n=e.target.value;if(ee(n),"till"===n){var t=new Date(_),i=new Date(H);i.setHours(0,0,0,0),t.setHours(0,0,0,0),i<=t?(v(!1),ue("Please set valid ending date")):v(!1)}else v(!0)},Ie=function(e){var n=e.target.getAttribute("value");if(te.includes(n)){var t=te.filter((function(e){return e!==n}));ie(t)}else ie([].concat(X(te),[n])),v(!0);0===te.length&&(v(!0),ue("You have to select at least one day"))},Se=function(e){C(e),ie([]),v(!0)};return(0,Q.A)(Me),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"mintmrm-delete-alert-wrapper schedule-campaign-modal",children:(0,p.jsxs)("div",{className:"mintmrm-delete-confirmation",children:[(0,p.jsxs)("div",{className:"delete-confirmation-header",children:[(0,p.jsx)("div",{className:"delete-title",children:(0,p.jsx)("h3",{children:e.title})}),(0,p.jsx)("div",{className:"cross-icon",onClick:Me,children:(0,p.jsx)(E.A,{})})]}),(0,p.jsxs)("div",{className:"delete-confirmation-body",children:[e.message&&(0,p.jsx)("p",{children:e.message}),(0,p.jsxs)("div",{className:"tab-btn",children:[(0,p.jsxs)("button",{type:"button",className:1===je?"nav-pubilsh-now active":"nav-pubilsh-now",onClick:function(){return _e(1)},children:[(0,p.jsx)(B,{}),(0,i.__)("Send now","mrm")]}),(0,p.jsxs)("button",{type:"button",className:2===je?"nav-schedule active":"nav-schedule",onClick:function(){return _e(2)},children:[(0,p.jsx)(A,{}),(0,i.__)("Schedule","mrm")]}),("regular"===(null==e?void 0:e.campaignType)||"recurring"===(null==e?void 0:e.campaignType))&&(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("button",{type:"button",className:"nav-recurring ".concat(3===je?"active":""),onClick:function(){return _e(3)},children:[(0,p.jsx)(P,{}),(0,i.__)("Recurring","mrm"),!xe&&(0,p.jsx)("span",{className:"pro-tag-with-icon",children:(0,p.jsx)(J.A,{})})]})})]}),(0,p.jsxs)("div",{className:"tab-content ".concat(2===je?"mintmrm-overflow-visible":""),children:[(0,p.jsxs)("div",{className:1===je?"single-tab-content tab-content-publish-now active":"single-tab-content tab-content-publish-now",children:[(0,p.jsxs)("div",{className:"single-recurring-content",children:[(0,p.jsx)("p",{className:"publish-now-text",children:(0,i.__)("Youâ€™re about to send an email from:","mrm")}),(0,p.jsx)("p",{className:"publish-now-email-to",children:(0,i.__)("".concat(e.emailFrom),"mrm")}),(0,p.jsxs)("p",{className:"publish-now-subscribers",children:[(0,p.jsx)("span",{children:(0,i.__)("".concat(e.subscribers),"mrm")}),(0,i.__)("".concat(1<e.subscribers?"subscribers":"subscriber"),"mrm")]})]}),(0,p.jsxs)("ul",{className:"mintmrm-delete-confirm-btn",children:[(0,p.jsx)("li",{children:(0,p.jsx)("button",{className:"mintmrm-btn outline",onClick:Me,children:"Cancel"})}),(0,p.jsx)("li",{children:(0,p.jsxs)("button",{type:"button",className:"mintmrm-btn campaign-send",onClick:function(){j(!1),e.onPublishStatus(!0)},disabled:w,children:["Send",w&&(0,p.jsx)("span",{className:"mintmrm-loader"})]})})]})]}),(0,p.jsxs)("div",{className:"single-tab-content tab-content-schedule ".concat(2===je?"active":""),children:[(0,p.jsx)("div",{className:"campaign-datepicker",children:(0,p.jsx)("div",{className:"form-group pos-relative",ref:ge,children:(0,p.jsxs)("div",{className:"campaign-schedule-datepicker pos-relative ".concat(de?"show-datepicker":""),children:[(0,p.jsx)("span",{className:"calendar-icon",title:"Click to show Calendar",onClick:function(){me((function(e){return!e}))},children:(0,p.jsx)(A,{})}),(0,p.jsx)(k.DateTimePicker,{currentDate:l,onChange:function(n){return function(n){var t=new Date(window.MRM_Vars.local_time);new Date(n)<t?v(!1):(e.setScheduleTime(n),g(n),s(n),me(!1),v(!0))}(n)},is12Hour:!0,__nextRemoveHelpButton:!0,__nextRemoveResetButton:!0})]})})}),(0,p.jsxs)("ul",{className:"mintmrm-delete-confirm-btn",children:[(0,p.jsx)("span",{className:m?"error-message":"error-message show",children:(0,i.__)("You cannot schedule for older date and time","mrm")}),(0,p.jsx)("li",{children:(0,p.jsx)("button",{className:"mintmrm-btn outline",onClick:Me,children:"Cancel"})}),(0,p.jsx)("li",{children:(0,p.jsxs)("button",{type:"button",className:"mintmrm-btn campaign-send",onClick:function(){var n=new Date(window.MRM_Vars.local_time),t=new Date(f)>=n;e.onScheduleStatus(t),v(t),j(!1)},disabled:w,children:["Schedule",w&&(0,p.jsx)("span",{className:"mintmrm-loader"})]})})]})]}),(0,p.jsxs)("div",{className:"single-tab-content tab-content-recurring ".concat(3===je?"active":""),children:[(0,p.jsxs)("div",{className:"single-recurring-content recurring-schedule",children:[(0,p.jsxs)("div",{className:"recurring-schedule-start display-flex",children:[(0,p.jsx)("span",{className:"recurring-min-title recurring-left",children:(0,i.__)("Start Date","mrm")}),(0,p.jsx)("div",{className:"campaign-datepicker",children:(0,p.jsx)("div",{className:"form-group pos-relative",children:(0,p.jsxs)("div",{className:u?"campaign-schedule-datepicker show-datepicker pos-relative":"campaign-schedule-datepicker pos-relative",ref:y,children:[(0,p.jsx)("span",{className:"calendar-icon",title:"Click to show Calendar",onClick:function(){c(!u)},children:(0,p.jsx)(A,{})}),(0,p.jsx)(k.DateTimePicker,{currentDate:_,onChange:function(n){return function(n){var t=new Date(window.MRM_Vars.local_time),i=new Date(n);i.setHours(0,0,0,0),t.setHours(0,0,0,0),i<t?(v(!1),ue("You cannot schedule for older date and time")):(e.setScheduleTime(n),M(n),c(!1),v(!0))}(n)},is12Hour:!0,__nextRemoveHelpButton:!0,__nextRemoveResetButton:!0})]})})})]}),(0,p.jsxs)("div",{className:"recurring-schedule-repeat display-flex",children:[(0,p.jsx)("span",{className:"recurring-min-title recurring-left",children:(0,i.__)("Repeat","mrm")}),(0,p.jsxs)("div",{className:"recurring-repeat-opt",children:[(0,p.jsx)("span",{className:"repeat-opt-label ".concat("daily"===I?"active":""),onClick:function(){return Se("daily")},children:(0,i.__)("Daily","mrm")}),(0,p.jsx)("span",{className:"repeat-opt-label ".concat("weekly"===I?"active":""),onClick:function(){return Se("weekly")},children:(0,i.__)("Weekly","mrm")}),(0,p.jsx)("span",{className:"repeat-opt-label ".concat("monthly"===I?"active":""),onClick:function(){return Se("monthly")},children:(0,i.__)("Monthly","mrm")})]})]}),(0,p.jsxs)("div",{className:"recurring-schedule-every display-flex",children:[(0,p.jsx)("span",{className:"recurring-min-title recurring-left",children:(0,i.__)("Every","mrm")}),(0,p.jsxs)("div",{className:"recurring-every-input",children:[(0,p.jsx)("input",{type:"number",name:"recur-on-every",min:1,value:ae,onKeyDown:function(e){return["e","E","+","-"].includes(e.key)&&e.preventDefault()},onChange:function(e){return function(e){var n=e.target.value;""===n?(v(!1),ue("Recurrence cycle cannot be empty or negative"),le(n)):(v(!0),le(Number(n)))}(e)}}),(0,p.jsx)("span",{children:(0,i.__)("".concat("daily"===I?"Day":"weekly"===I?"Week":"Month"),"mrm")})]})]}),("weekly"===I||"monthly"===I)&&(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"recurring-schedule-on display-flex",children:[(0,p.jsx)("span",{className:"recurring-min-title recurring-left",children:(0,i.__)("On","mrm")}),"weekly"===I?(0,p.jsx)("div",{className:"recurring-on-weekly",children:(0,p.jsx)("div",{className:"recurring-days",onClick:function(e){return Ie(e)},children:R.map((function(e){var n=te.includes(null==e?void 0:e.value);return(0,p.jsx)("span",{index:null==e?void 0:e.id,value:null==e?void 0:e.value,className:"".concat(n?"active":""),children:null==e?void 0:e.label})}))})}):(0,p.jsx)("div",{className:"recurring-on-monthly",children:(0,p.jsx)("div",{className:"recurring-days",onClick:function(e){return Ie(e)},children:ye.map((function(e){var n=te.includes(e.toString());return(0,p.jsx)("span",{index:e,value:e,className:"".concat(n?"active":""),children:e})}))})})]})}),(0,p.jsxs)("div",{className:"recurring-schedule-at display-flex",children:[(0,p.jsx)("span",{className:"recurring-min-title recurring-left",children:(0,i.__)("At","mrm")}),(0,p.jsx)("div",{className:"campaign-datepicker",children:(0,p.jsx)("div",{className:"form-group pos-relative",children:(0,p.jsx)("div",{className:"campaign-schedule-datepicker pos-relative",children:(0,p.jsx)(k.DateTimePicker,{currentDate:D,onChange:function(e){return function(e){var n=new Date,t=new Date(_),i=new Date(e);if(n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()){var r=n.getHours()<=i.getHours(),a=n.getMinutes()<i.getMinutes(),l=n.getHours()===i.getHours();r?l&&!a?(v(!1),ue("You cannot schedule for older date and time")):(L(e),c(!1),v(!0)):(v(!1),ue("You cannot schedule for older date and time"))}else L(e),c(!1),v(!0)}(e)},is12Hour:!0,__nextRemoveHelpButton:!0,__nextRemoveResetButton:!0})})})})]}),(0,p.jsxs)("div",{className:"recurring-schedule-start display-flex recurring-schedule-end",children:[(0,p.jsx)("span",{className:"recurring-min-title recurring-left",children:(0,i.__)("End Date","mrm")}),(0,p.jsxs)("div",{className:"recurring-end",children:[(0,p.jsxs)("div",{className:"input-custom-wrapper",children:[(0,p.jsxs)("span",{className:"mintmrm-radiobtn",children:[(0,p.jsx)("input",{id:"never_end",type:"radio",name:"recaptcha-version",value:"never_end",checked:"never_end"===q,onChange:Ne}),(0,p.jsx)("label",{htmlFor:"never_end",children:(0,i.__)("Never End","mrm")})]}),(0,p.jsxs)("span",{className:"mintmrm-radiobtn",children:[(0,p.jsx)("input",{id:"till",type:"radio",name:"recaptcha-version",value:"till",checked:"till"===q,onChange:Ne}),(0,p.jsx)("label",{htmlFor:"till",children:(0,i.__)("Till","mrm")})]})]}),"till"===q&&(0,p.jsx)("div",{className:"campaign-datepicker",children:(0,p.jsx)("div",{className:"form-group pos-relative",children:(0,p.jsxs)("div",{className:"campaign-schedule-datepicker pos-relative ".concat(z?"show-datepicker":""),ref:fe,children:[(0,p.jsx)("span",{className:"calendar-icon",title:"Click to show Calendar",onClick:function(){G(!z)},children:(0,p.jsx)(A,{})}),(0,p.jsx)(k.DateTimePicker,{currentDate:H,onChange:function(e){return function(e){var n=new Date(_),t=new Date(e);t.setHours(0,0,0,0),n.setHours(0,0,0,0),t<=n?(v(!1),ue("Please set valid ending date")):(Z(e),c(!1),v(!0))}(e)},is12Hour:!0,__nextRemoveHelpButton:!0,__nextRemoveResetButton:!0})]})})})]})]})]}),(0,p.jsxs)("div",{className:"single-recurring-content recurring-conditions",children:[(0,p.jsx)("h2",{className:"condition-title",children:(0,i.__)("And Conditions","mrm")}),he.map((function(e,n){return(0,p.jsx)(U,{parentId:e.id,condition:e,conditions:he,setConditions:pe,index:n,setScheduleValidate:v,setErrorMessage:ue},e.id)})),(0,p.jsx)("div",{className:"recurring-add-or",children:(0,p.jsxs)("button",{onClick:function(){var e=he[he.length-1].id.match(/\d+/),n={id:"parentStep-".concat(parseInt(e[0],10)+1),steps:[{id:1,publishItem:"post",publishWithIn:1}]};pe([].concat(X(he),[n]))},children:[(0,p.jsx)(V.A,{}),(0,i.__)("Or","mrm")]})})]}),(0,p.jsxs)("ul",{className:"mintmrm-delete-confirm-btn",children:[(0,p.jsx)("span",{className:m?"error-message":"error-message show",children:(0,i.__)("".concat(oe),"mrm")}),(0,p.jsx)("li",{children:(0,p.jsx)("button",{className:"mintmrm-btn outline",onClick:Me,children:(0,i.__)("Cancel","mrm")})}),(0,p.jsx)("li",{children:(0,p.jsxs)("button",{type:"button",className:"mintmrm-btn campaign-send",onClick:function(){return function(n,t){if(xe){var i=new Date(window.MRM_Vars.local_time),r=new Date(_),a=new Date(H);i.setHours(0,0,0,0),r.setHours(0,0,0,0),a.setHours(0,0,0,0);var l=r>=i;if(l||ue("You cannot schedule for older date and time."),l&&"till"===t){var s=Math.floor((a-r)/864e5);"daily"===n&&s<1?(l=!1,ue("Daily repeat requires a minimum 1-day gap between start and end dates.")):"weekly"===n&&s<7?(l=!1,ue("Weekly repeat requires a minimum 7-day gap between start and end dates.")):"monthly"===n&&s<30?(l=!1,ue("Monthly repeat requires a minimum 30-day gap between start and end dates.")):"daily"!==n&&0===te.length&&(l=!1,ue("Select At least One day"))}"daily"!==n&&0===te.length&&(l=!1,ue("You have to select at least one day")),""!==ae&&0!=ae||(l=!1,ue("Recurrence cycle cannot be empty or negative")),he.forEach((function(e){return e.steps.forEach((function(e){""===e.publishWithIn&&(l=!1,ue("Input cannot be empty"))}))}));var o,u=K(he);try{for(u.s();!(o=u.n()).done;){var c,d=K(o.value.steps);try{for(d.s();!(c=d.n()).done;){var m=c.value;if(""===m.publishWithIn||0==m.publishWithIn){l=!1,ue("Input cannot be empty");break}}}catch(e){d.e(e)}finally{d.f()}if(!l)break}}catch(e){u.e(e)}finally{u.f()}if(l){var h=new Date,p=new Date(_),f=new Date(D);if(h.getDate()===p.getDate()&&h.getMonth()===p.getMonth()){var g=h.getHours()<=f.getHours(),y=h.getMinutes()<f.getMinutes(),x=h.getHours()===f.getHours();g?x&&!y&&(l=!1,ue("You cannot schedule for older date and time")):(l=!1,ue("You cannot schedule for older date and time"))}}var w={schedule:{startDate:_.includes("T")?_.split("T")[0]:_.split(" ")[0],endDate:"till"!==t?t:H.includes("T")?H.split("T")[0]:H.split(" ")[0],recurringRepeat:I,recurringEvery:ae,recurringAt:D.includes("T")?D.split("T")[1]:D.split(" ")[1],recurringOn:"daily"!==I?te:null},conditions:he};e.setScheduleTime(_),e.onScheduleStatus(l,"recurring",w,_),v(l),j(!1)}else e.setIsProOpenAi(!0),e.setProLink(Y.VK)}(I,q)},disabled:w||!m,children:[(0,i.__)("Schedule","mrm"),w&&(0,p.jsx)("span",{className:"mintmrm-loader"})]})})]})]})]})]})]})})})}const ie=(0,r.memo)(te);var re=t(9480),ae=t(6830),le=t(3890),se=t(3469),oe=t(5699),ue=t(2345);function ce(e){return(0,p.jsxs)("div",{className:"single-card",children:[(0,p.jsxs)("div",{className:"image-title",children:[(0,p.jsx)("span",{className:"card-icon",children:e.source}),(0,p.jsx)("p",{children:e.cardTitle})]}),(0,p.jsx)("h3",{className:"total-contact-numbers",children:e.totalAmount?e.totalAmount.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0"})]})}const de=(0,r.memo)(ce);var me=t(6931);function ve(e){var n=window.MRM_Vars.is_mailmint_pro_license_active;return(0,p.jsxs)("div",{className:"single-card subscribers",children:[(0,p.jsxs)("div",{className:"title",children:[(0,p.jsxs)("div",{className:"title-header-wrapper",children:[(0,p.jsx)("h3",{className:"heading",children:"Subscribers"}),(0,p.jsxs)(s.N_,{className:n?"analytics-link":"analytics-link pro-disabled",to:n?"/campaign/".concat(null==e?void 0:e.type,"/analytics/").concat(e.id,"/overview"):"",children:["Detail Analytics",n?(0,p.jsx)(me.A,{}):(0,p.jsx)("span",{className:"pro-tag-with-icon",children:(0,p.jsx)(J.A,{})})]})]}),(0,p.jsx)("p",{children:e.cardTitle})]}),(0,p.jsx)("div",{className:"progress-bar",children:(0,p.jsx)("div",{style:{width:e.percentage},className:"unsubscribers-percentage"})}),(0,p.jsx)("hr",{}),(0,p.jsxs)("div",{className:"total-subscribers",children:[(0,p.jsxs)("div",{className:"total-ammout-wrapper",children:[(0,p.jsx)("span",{className:"total-title",children:(0,i.__)("Current Subscriber","mrm")}),(0,p.jsx)("h4",{children:e.current_subscriber})]}),(0,p.jsxs)("div",{className:"total-ammout-wrapper",children:[(0,p.jsx)("span",{className:"total-title",children:(0,i.__)("Unsubscriber","mrm")}),(0,p.jsx)("h4",{children:e.current_unsubscriber})]})]})]})}const he=(0,r.memo)(ve);var pe=t(7561),fe=t(693),ge=t(7572),ye=t(8474);function xe(){return(0,p.jsx)("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 20 20",children:(0,p.jsx)("path",{fill:"#B6B6B7",stroke:"#A4A8B5",strokeWidth:".2",d:"M19.285 9.102a9.377 9.377 0 00-18.58 2.551 9.437 9.437 0 008.047 8.074 9.74 9.74 0 001.26.081c1.7.003 3.368-.46 4.822-1.34a.627.627 0 00.069-1.058.625.625 0 00-.714-.012 8.13 8.13 0 113.412-4.08 1.343 1.343 0 01-2.6-.475V6.058a.625.625 0 00-1.25 0v1.079a5 5 0 10.126 6.453 2.584 2.584 0 004.894.171 9.5 9.5 0 00.514-4.66zm-9.283 5.081a3.75 3.75 0 110-7.5 3.75 3.75 0 010 7.5z"})})}var we=t(3726),je=t(1425),be=t(8551),_e=t(5315),Me=t(7878);function Ne(){return(0,p.jsxs)("svg",{width:"13",height:"14",fill:"none",viewBox:"0 0 13 14",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("rect",{width:"13",height:"13",y:".339",fill:"#686F7F",rx:"6.5"}),(0,p.jsx)("path",{fill:"#fff",stroke:"#fff",strokeWidth:".2",d:"M6.38 8.437h-.005a.492.492 0 01-.487-.497l.002-.245c0-.014 0-.029.002-.043.068-.715.543-1.154.925-1.506.13-.12.252-.233.356-.35.127-.144.312-.438.118-.792-.224-.41-.77-.525-1.194-.428-.443.101-.607.48-.665.696a.492.492 0 01-.95-.254c.196-.733.704-1.243 1.395-1.401.93-.212 1.866.163 2.277.915.342.625.248 1.36-.245 1.916-.137.154-.283.29-.425.42-.353.326-.574.544-.611.859l-.002.222a.491.491 0 01-.491.488zm-.001 1.474a.49.49 0 01-.347-.839.509.509 0 01.693 0 .488.488 0 01.146.348c0 .13-.052.255-.143.349a.502.502 0 01-.35.142z"})]})}function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Se(){Se=function(){return n};var e,n={},t=Object.prototype,i=t.hasOwnProperty,r=Object.defineProperty||function(e,n,t){e[n]=t.value},a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",o=a.toStringTag||"@@toStringTag";function u(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{u({},"")}catch(e){u=function(e,n,t){return e[n]=t}}function c(e,n,t,i){var a=n&&n.prototype instanceof g?n:g,l=Object.create(a.prototype),s=new R(i||[]);return r(l,"_invoke",{value:I(e,t,s)}),l}function d(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=c;var m="suspendedStart",v="suspendedYield",h="executing",p="completed",f={};function g(){}function y(){}function x(){}var w={};u(w,l,(function(){return this}));var j=Object.getPrototypeOf,b=j&&j(j(A([])));b&&b!==t&&i.call(b,l)&&(w=b);var _=x.prototype=g.prototype=Object.create(w);function M(e){["next","throw","return"].forEach((function(n){u(e,n,(function(e){return this._invoke(n,e)}))}))}function N(e,n){function t(r,a,l,s){var o=d(e[r],e,a);if("throw"!==o.type){var u=o.arg,c=u.value;return c&&"object"==Ie(c)&&i.call(c,"__await")?n.resolve(c.__await).then((function(e){t("next",e,l,s)}),(function(e){t("throw",e,l,s)})):n.resolve(c).then((function(e){u.value=e,l(u)}),(function(e){return t("throw",e,l,s)}))}s(o.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new n((function(n,r){t(e,i,n,r)}))}return a=a?a.then(r,r):r()}})}function I(n,t,i){var r=m;return function(a,l){if(r===h)throw Error("Generator is already running");if(r===p){if("throw"===a)throw l;return{value:e,done:!0}}for(i.method=a,i.arg=l;;){var s=i.delegate;if(s){var o=S(s,i);if(o){if(o===f)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===m)throw r=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var u=d(n,t,i);if("normal"===u.type){if(r=i.done?p:v,u.arg===f)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=p,i.method="throw",i.arg=u.arg)}}}function S(n,t){var i=t.method,r=n.iterator[i];if(r===e)return t.delegate=null,"throw"===i&&n.iterator.return&&(t.method="return",t.arg=e,S(n,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),f;var a=d(r,n.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var l=a.arg;return l?l.done?(t[n.resultName]=l.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,f):l:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function k(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(n){if(n||""===n){var t=n[l];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,a=function t(){for(;++r<n.length;)if(i.call(n,r))return t.value=n[r],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(Ie(n)+" is not iterable")}return y.prototype=x,r(_,"constructor",{value:x,configurable:!0}),r(x,"constructor",{value:y,configurable:!0}),y.displayName=u(x,o,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,u(e,o,"GeneratorFunction")),e.prototype=Object.create(_),e},n.awrap=function(e){return{__await:e}},M(N.prototype),u(N.prototype,s,(function(){return this})),n.AsyncIterator=N,n.async=function(e,t,i,r,a){void 0===a&&(a=Promise);var l=new N(c(e,t,i,r),a);return n.isGeneratorFunction(t)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},M(_),u(_,o,"Generator"),u(_,l,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var i in n)t.push(i);return t.reverse(),function e(){for(;t.length;){var i=t.pop();if(i in n)return e.value=i,e.done=!1,e}return e.done=!0,e}},n.values=A,R.prototype={constructor:R,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!n)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function r(i,r){return s.type="throw",s.arg=n,t.next=i,r&&(t.method="next",t.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a],s=l.completion;if("root"===l.tryLoc)return r("end");if(l.tryLoc<=this.prev){var o=i.call(l,"catchLoc"),u=i.call(l,"finallyLoc");if(o&&u){if(this.prev<l.catchLoc)return r(l.catchLoc,!0);if(this.prev<l.finallyLoc)return r(l.finallyLoc)}else if(o){if(this.prev<l.catchLoc)return r(l.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return r(l.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var l=a?a.completion:{};return l.type=e,l.arg=n,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(l)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),f},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),k(t),f}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var i=t.completion;if("throw"===i.type){var r=i.arg;k(t)}return r}}throw Error("illegal catch attempt")},delegateYield:function(n,t,i){return this.delegate={iterator:A(n),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=e),f}},n}function Ce(e,n,t,i,r,a,l){try{var s=e[a](l),o=s.value}catch(e){return void t(e)}s.done?n(o):Promise.resolve(o).then(i,r)}function ke(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,r,a,l,s=[],o=!0,u=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;o=!1}else for(;!(o=(i=a.call(t)).done)&&(s.push(i.value),s.length!==n);o=!0);}catch(e){u=!0,r=e}finally{try{if(!o&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw r}}return s}}(e,n)||function(e,n){if(e){if("string"==typeof e)return Re(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Re(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}var Ae=function(e){var n,t,i,a,l,s,o=e.isClosePreview,u=e.setIsClosePreview,c=e.isOpenPreview,d=e.campaignStatus,m=e.isCloseBuilder,v=e.setIsCloseBuilder,h=e.emailData,f=e.campaignID,g=e.selectedEmailIndex,y=e.emailType,x=e.automationData,w=e.setIsEmailBuilderOpen,j=ke((0,r.useState)("desktop"),2),b=j[0],_=j[1],M=ke((0,r.useState)(window.MRM_Vars.current_user_email),2),N=M[0],I=M[1],S=ke((0,r.useState)(null),2),C=S[0],k=S[1],R=ke((0,r.useState)(""),2),A=R[0],V=R[1],T=ke((0,r.useState)(""),2),P=T[0],B=T[1],D=ke((0,r.useState)(!1),2),L=D[0],O=D[1];(0,Q.A)(u,!0),(0,r.useEffect)((function(){"campaign"===y?H().then((function(e){var n;k(null==e||null===(n=e.email_data)||void 0===n?void 0:n.email_body)})):k(null==x?void 0:x.body)}),[o]);var H=function(){var e,n=(e=Se().mark((function e(){var n;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0!==(null==h?void 0:h.id)?null==h?void 0:h.id:"",e.abrupt("return",(0,Me.GN)(f,g,n).then((function(e){return e})));case 2:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(i,r){var a=e.apply(n,t);function l(e){Ce(a,i,r,l,s,"next",e)}function s(e){Ce(a,i,r,l,s,"throw",e)}l(void 0)}))});return function(){return n.apply(this,arguments)}}(),Z=function(e){_(e)};return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:c&&!o?"mintmrm-template-modal active":"mintmrm-template-modal",children:(0,p.jsx)("div",{className:"template-modal-inner",children:(0,p.jsxs)("div",{className:"preview-modal-wrapper",children:[(0,p.jsx)("div",{className:"cross-icon",onClick:function(){u(!o),B("")},children:(0,p.jsx)(E.A,{})}),(0,p.jsx)("h2",{children:null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.PreviewTest}),(0,p.jsxs)("div",{className:"preview-test-email-wrapper",children:[(0,p.jsxs)("div",{className:"preview-test-section",children:[(0,p.jsxs)("div",{className:"preview-email-header",children:[(0,p.jsxs)("div",{className:"responsive-view-section",children:[(0,p.jsx)("button",{className:"desktop"==b?"desktop-icon active":"desktop-icon",onClick:function(){return Z("desktop")},children:(0,p.jsx)(we.A,{})}),(0,p.jsx)("button",{className:"mobile"==b?"mobile-icon active":"mobile-icon",onClick:function(){return Z("mobile")},children:(0,p.jsx)(_e.A,{})})]}),(0,p.jsx)("div",{className:"edit-template-section",children:(0,p.jsx)("button",{className:"edit-template-btn",onClick:"draft"===d?function(){v(!m),u(!o),w(!0)}:function(){var e=new Blob([C],{type:"text/html"}),n=URL.createObjectURL(e),t=document.createElement("a");t.href=n,t.download="mail-mint.html",t.click(),URL.revokeObjectURL(n)},children:"draft"===d?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(je.A,{}),null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.EditTemplate]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(be.A,{}),null===(i=window)||void 0===i||null===(i=i.MRM_Vars)||void 0===i||null===(i=i.mint_trans)||void 0===i?void 0:i.ExportTemplate]})})})]}),(0,p.jsx)("div",{className:"template-modal-overflow",children:(0,p.jsx)("div",{className:"".concat("mobile"==b?"mobile-view":""),children:(0,p.jsx)("div",{dangerouslySetInnerHTML:{__html:C}})})}),(0,p.jsx)("div",{})]}),(0,p.jsxs)("div",{className:"test-email-section",children:[(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsxs)("label",{htmlFor:"email",children:[null===(a=window)||void 0===a||null===(a=a.MRM_Vars)||void 0===a||null===(a=a.mint_trans)||void 0===a?void 0:a.SendTestEmailTo,(0,p.jsxs)("span",{className:"mintmrm-tooltip",children:[(0,p.jsx)(Ne,{}),(0,p.jsx)("p",{children:"Use commas to separate multiple emails."})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:"at-the-rate-icon",children:(0,p.jsx)(xe,{})}),(0,p.jsx)("input",{type:"email",id:"email",placeholder:null===(l=window)||void 0===l||null===(l=l.MRM_Vars)||void 0===l||null===(l=l.mint_trans)||void 0===l?void 0:l.EnterEmailAddress,value:N,onChange:function(e){return I(e.target.value)}})]})]}),(0,p.jsxs)("div",{className:"footer-btn",children:[(0,p.jsx)("div",{children:(0,p.jsx)("p",{className:"error"===A?"alert-message mintmrm-error":"alert-message mintmrm-success",children:P})}),(0,p.jsxs)("button",{className:"mintmrm-btn",onClick:function(){var e="campaign"===y?null==h?void 0:h.email_subject:null==x?void 0:x.subject;if(""===e)return B("A subject must be entered on the campaign setup step."),void V("error");B(""),O(!0);var n={to:N,from:null==h?void 0:h.sender_email,sender_name:null==h?void 0:h.sender_name,reply:null==h?void 0:h.reply_email,reply_name:null==h?void 0:h.reply_name,subject:e,content:C,current_user:window.MRM_Vars.current_userID,email_preview_text:null==h?void 0:h.email_preview_text};(0,Me.FI)(n).then((function(e){B(e.message),V(e.status),O(!1);var n=setTimeout((function(){B("")}),5e3);return function(){return clearTimeout(n)}}))},disabled:!!L,children:[" ",null===(s=window)||void 0===s||null===(s=s.MRM_Vars)||void 0===s||null===(s=s.mint_trans)||void 0===s?void 0:s.Send," ",L&&(0,p.jsx)("span",{className:"mintmrm-loader"})]})]})]})]})]})})})})};const Ee=(0,r.memo)(Ae);var Ve,Te,Pe,Be,De=t(8282);function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Oe(e){return function(e){if(Array.isArray(e))return Ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ue(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(){He=function(){return n};var e,n={},t=Object.prototype,i=t.hasOwnProperty,r=Object.defineProperty||function(e,n,t){e[n]=t.value},a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",o=a.toStringTag||"@@toStringTag";function u(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{u({},"")}catch(e){u=function(e,n,t){return e[n]=t}}function c(e,n,t,i){var a=n&&n.prototype instanceof g?n:g,l=Object.create(a.prototype),s=new R(i||[]);return r(l,"_invoke",{value:I(e,t,s)}),l}function d(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=c;var m="suspendedStart",v="suspendedYield",h="executing",p="completed",f={};function g(){}function y(){}function x(){}var w={};u(w,l,(function(){return this}));var j=Object.getPrototypeOf,b=j&&j(j(A([])));b&&b!==t&&i.call(b,l)&&(w=b);var _=x.prototype=g.prototype=Object.create(w);function M(e){["next","throw","return"].forEach((function(n){u(e,n,(function(e){return this._invoke(n,e)}))}))}function N(e,n){function t(r,a,l,s){var o=d(e[r],e,a);if("throw"!==o.type){var u=o.arg,c=u.value;return c&&"object"==Le(c)&&i.call(c,"__await")?n.resolve(c.__await).then((function(e){t("next",e,l,s)}),(function(e){t("throw",e,l,s)})):n.resolve(c).then((function(e){u.value=e,l(u)}),(function(e){return t("throw",e,l,s)}))}s(o.arg)}var a;r(this,"_invoke",{value:function(e,i){function r(){return new n((function(n,r){t(e,i,n,r)}))}return a=a?a.then(r,r):r()}})}function I(n,t,i){var r=m;return function(a,l){if(r===h)throw Error("Generator is already running");if(r===p){if("throw"===a)throw l;return{value:e,done:!0}}for(i.method=a,i.arg=l;;){var s=i.delegate;if(s){var o=S(s,i);if(o){if(o===f)continue;return o}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===m)throw r=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var u=d(n,t,i);if("normal"===u.type){if(r=i.done?p:v,u.arg===f)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=p,i.method="throw",i.arg=u.arg)}}}function S(n,t){var i=t.method,r=n.iterator[i];if(r===e)return t.delegate=null,"throw"===i&&n.iterator.return&&(t.method="return",t.arg=e,S(n,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),f;var a=d(r,n.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var l=a.arg;return l?l.done?(t[n.resultName]=l.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,f):l:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function k(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(n){if(n||""===n){var t=n[l];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,a=function t(){for(;++r<n.length;)if(i.call(n,r))return t.value=n[r],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(Le(n)+" is not iterable")}return y.prototype=x,r(_,"constructor",{value:x,configurable:!0}),r(x,"constructor",{value:y,configurable:!0}),y.displayName=u(x,o,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===y||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,u(e,o,"GeneratorFunction")),e.prototype=Object.create(_),e},n.awrap=function(e){return{__await:e}},M(N.prototype),u(N.prototype,s,(function(){return this})),n.AsyncIterator=N,n.async=function(e,t,i,r,a){void 0===a&&(a=Promise);var l=new N(c(e,t,i,r),a);return n.isGeneratorFunction(t)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},M(_),u(_,o,"Generator"),u(_,l,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var i in n)t.push(i);return t.reverse(),function e(){for(;t.length;){var i=t.pop();if(i in n)return e.value=i,e.done=!1,e}return e.done=!0,e}},n.values=A,R.prototype={constructor:R,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!n)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function r(i,r){return s.type="throw",s.arg=n,t.next=i,r&&(t.method="next",t.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var l=this.tryEntries[a],s=l.completion;if("root"===l.tryLoc)return r("end");if(l.tryLoc<=this.prev){var o=i.call(l,"catchLoc"),u=i.call(l,"finallyLoc");if(o&&u){if(this.prev<l.catchLoc)return r(l.catchLoc,!0);if(this.prev<l.finallyLoc)return r(l.finallyLoc)}else if(o){if(this.prev<l.catchLoc)return r(l.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return r(l.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var l=a?a.completion:{};return l.type=e,l.arg=n,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(l)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),f},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),k(t),f}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var i=t.completion;if("throw"===i.type){var r=i.arg;k(t)}return r}}throw Error("illegal catch attempt")},delegateYield:function(n,t,i){return this.delegate={iterator:A(n),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=e),f}},n}function Ze(e,n,t,i,r,a,l){try{var s=e[a](l),o=s.value}catch(e){return void t(e)}s.done?n(o):Promise.resolve(o).then(i,r)}function Fe(e){return function(){var n=this,t=arguments;return new Promise((function(i,r){var a=e.apply(n,t);function l(e){Ze(a,i,r,l,s,"next",e)}function s(e){Ze(a,i,r,l,s,"throw",e)}l(void 0)}))}}function ze(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Ge(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ze(Object(t),!0).forEach((function(n){We(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ze(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function We(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=Le(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=Le(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Le(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function qe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,r,a,l,s=[],o=!0,u=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;o=!1}else for(;!(o=(i=a.call(t)).done)&&(s.push(i.value),s.length!==n);o=!0);}catch(e){u=!0,r=e}finally{try{if(!o&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw r}}return s}}(e,n)||Ue(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,n){if(e){if("string"==typeof e)return Ye(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Ye(e,n):void 0}}function Ye(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}var Qe={email_subject:"",email_body:"",email_json:"",json_data:null,delay_count:0,delay_value:"Minutes",email_preview_text:"",sender_name:null===(Ve=window.MRM_Vars)||void 0===Ve?void 0:Ve.email_settings.from_name,sender_email:null===(Te=window.MRM_Vars)||void 0===Te?void 0:Te.email_settings.from_email,reply_name:null===(Pe=window.MRM_Vars)||void 0===Pe?void 0:Pe.email_settings.reply_name,reply_email:null===(Be=window.MRM_Vars)||void 0===Be?void 0:Be.email_settings.reply_email,toError:null,senderEmailError:null,publishable:!0};function Je(e){var n,t,f,w,M,k,R,A,E,V,T,P,B,D,L,O,H,Z,F,z,G,W,q,U,Q,J,K,X,$,ee,ne,te,ce,me,ve,xe,we,je,be,_e,Me,Ne,Ie,Se,Ce,ke,Re,Ae,Ve,Te,Pe,Be,Le,Ze,ze,We,Ye,Je,Ke,Xe,$e,en,nn,tn,rn,an,ln,sn,on,un,cn,dn,mn,vn,hn,pn,fn,gn,yn,xn,wn,jn,bn,_n,Mn,Nn,In,Sn;(0,oe.G)("mrm-admin","campaigns");var Cn=(0,a.Zp)(),kn=window.MRM_Vars.is_mailmint_pro_license_active,Rn=qe((0,r.useState)(0),2),An=Rn[0],En=Rn[1],Vn=qe((0,r.useState)(0),2),Tn=Vn[0],Pn=Vn[1],Bn=qe((0,r.useState)(0),2),Dn=Bn[0],Ln=Bn[1],On=qe((0,r.useState)(0),2),Hn=On[0],Zn=On[1],Fn=qe((0,r.useState)(0),2),zn=Fn[0],Gn=Fn[1],Wn=qe((0,r.useState)(0),2),qn=Wn[0],Un=Wn[1],Yn=qe((0,r.useState)([Ge({},Qe)]),2),Qn=Yn[0],Jn=Yn[1],Kn=qe((0,r.useState)(!1),2),Xn=Kn[0],$n=Kn[1],et=qe((0,r.useState)("success"),2),nt=et[0],tt=et[1],it=qe((0,r.useState)(""),2),rt=it[0],at=it[1],lt=qe((0,r.useState)(0),2),st=lt[0],ot=lt[1],ut=qe((0,r.useState)(""),2),ct=ut[0],dt=ut[1],mt=qe((0,r.useState)(""),2),vt=mt[0],ht=mt[1],pt=qe((0,r.useState)(),2),ft=pt[0],gt=pt[1],yt=qe((0,r.useState)(0),2),xt=yt[0],wt=yt[1],jt=qe((0,r.useState)(),2),bt=jt[0],_t=jt[1],Mt=qe((0,r.useState)(),2),Nt=Mt[0],It=Mt[1],St=qe((0,r.useState)([]),2),Ct=St[0],kt=St[1],Rt=qe((0,r.useState)([]),2),At=Rt[0],Et=Rt[1],Vt=qe((0,r.useState)([]),2),Tt=Vt[0],Pt=Vt[1],Bt=qe((0,r.useState)(!0),2),Dt=Bt[0],Lt=Bt[1],Ot=qe((0,r.useState)(!0),2),Ht=Ot[0],Zt=Ot[1],Ft=qe((0,r.useState)(!1),2),zt=Ft[0],Gt=Ft[1],Wt=qe((0,r.useState)(""),2),qt=Wt[0],Ut=Wt[1],Yt=qe((0,r.useState)(""),2),Qt=Yt[0],Jt=Yt[1],Kt=qe((0,r.useState)(),2),Xt=Kt[0],$t=Kt[1],ei=qe((0,r.useState)(),2),ni=ei[0],ti=ei[1],ii=qe((0,r.useState)(!0),2),ri=ii[0],ai=ii[1],li=qe((0,r.useState)(!0),2),si=li[0],oi=li[1],ui=qe((0,r.useState)({}),2),ci=ui[0],di=ui[1],mi=qe((0,r.useState)(!1),2),vi=mi[0],hi=mi[1],pi=qe((0,r.useState)(!0),2),fi=pi[0],gi=pi[1],yi=qe((0,r.useState)(""),2),xi=yi[0],wi=yi[1],ji=qe((0,r.useState)(""),2),bi=ji[0],_i=ji[1],Mi=qe((0,r.useState)(!1),2),Ni=Mi[0],Ii=Mi[1],Si=qe((0,r.useState)("none"),2),Ci=Si[0],ki=Si[1],Ri=qe((0,r.useState)(!1),2),Ai=Ri[0],Ei=Ri[1],Vi=qe((0,r.useState)(!1),2),Ti=Vi[0],Pi=Vi[1],Bi=qe((0,r.useState)(!1),2),Di=Bi[0],Li=Bi[1],Oi=(0,r.useRef)(null),Hi=(0,r.useRef)(null),Zi=(0,r.useRef)(null),Fi=qe((0,r.useState)(!1),2),zi=Fi[0],Gi=Fi[1],Wi=qe((0,r.useState)(!1),2),qi=Wi[0],Ui=(Wi[1],qe((0,r.useState)(null),2)),Yi=Ui[0],Qi=Ui[1],Ji=qe((0,r.useState)(!1),2),Ki=Ji[0],Xi=Ji[1],$i=qe((0,r.useState)(!1),2),er=$i[0],nr=$i[1],tr=qe((0,r.useState)(!1),2),ir=tr[0],rr=tr[1],ar=qe((0,r.useState)({}),2),lr=ar[0],sr=ar[1],or=qe((0,r.useState)("none"),2),ur=or[0],cr=or[1],dr=qe((0,r.useState)(""),2),mr=dr[0],vr=dr[1];(0,S.c7)(Oi,hi),(0,S.c7)(Zi,Gi);var hr=qe((0,r.useState)("none"),2),pr=hr[0],fr=hr[1],gr=qe((0,r.useState)(!0),2),yr=gr[0],xr=gr[1],wr=qe((0,r.useState)(!1),2),jr=wr[0],br=wr[1],_r=qe((0,r.useState)(""),2),Mr=_r[0],Nr=_r[1],Ir=qe((0,r.useState)(!0),2),Sr=Ir[0],Cr=Ir[1],kr=qe((0,r.useState)(!0),2),Rr=kr[0],Ar=kr[1],Er=qe((0,r.useState)(!0),2),Vr=Er[0],Tr=Er[1],Pr=qe((0,r.useState)(""),2),Br=Pr[0],Dr=Pr[1],Lr=qe((0,r.useState)(""),2),Or=Lr[0],Hr=Lr[1],Zr=qe((0,r.useState)(!1),2),Fr=(Zr[0],Zr[1]),zr=qe((0,r.useState)(!1),2),Gr=(zr[0],zr[1]),Wr=qe((0,r.useState)({}),2),qr=Wr[0],Ur=Wr[1],Yr=(0,a.g)(),Qr=Yr.id,Jr=Yr.type,Kr=(0,a.zy)(),Xr=qe((0,r.useState)(!1),2),$r=Xr[0],ea=Xr[1],na=qe((0,r.useState)(!1),2),ta=na[0],ia=na[1];(0,r.useEffect)((function(){var e=!0;return e&&(document.title="Edit Campaign - Mail Mint","sequence-automation"!==Jr&&"sequence-campaign"!==Jr&&"recurring"!==bi||kn||Cn("../campaigns")),function(){e=!1}}),[bi]);var ra=[{value:null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.Minutes,id:"minutes"},{value:null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.Hours,id:"hours"},{value:null===(f=window)||void 0===f||null===(f=f.MRM_Vars)||void 0===f||null===(f=f.mint_trans)||void 0===f?void 0:f.Days,id:"days"},{value:null===(w=window)||void 0===w||null===(w=w.MRM_Vars)||void 0===w||null===(w=w.mint_trans)||void 0===w?void 0:w.Weeks,id:"weeks"}];if((0,l.B6)({path:"campaign/edit/:id"},Kr.pathname)){var aa,la=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Ue(e))){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==t.return||t.return()}finally{if(s)throw a}}}}(document.getElementsByClassName("notice"));try{for(la.s();!(aa=la.n()).done;)aa.value.style.display="none"}catch(e){la.e(e)}finally{la.f()}}var sa=function(){var e=Fe(He().mark((function e(n){var t,i,r;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=n.target).name,i=t.value,Li(!0),Ei(!0),dt(i.slice(0,150)),(null==i?void 0:i.length)>150?di(Ge(Ge({},ci),{},{title:null===(r=window)||void 0===r||null===(r=r.MRM_Vars)||void 0===r||null===(r=r.mint_trans)||void 0===r?void 0:r.CampaignTitleStringLimit})):di(Ge(Ge({},ci),{},{title:""}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),oa=function(e,n,t){kn?(_t(n),It(n),cr("block"),Nr(t)):ea(!0)};function ua(){ai((function(e){return!e}))}(0,r.useEffect)((function(){var e=!0;if(e)return(0,le.VK)(Qr).then((function(e){var n,t,i,r,a,l,s,o=e.data,u=(null==o||null===(n=o.emails)||void 0===n?void 0:n.length)>0?o.emails:[Ge({},Qe)];kt(null!==(t=null==o||null===(i=o.meta)||void 0===i||null===(i=i.recipients)||void 0===i?void 0:i.lists)&&void 0!==t?t:[]),Et(null!==(r=null==o||null===(a=o.meta)||void 0===a||null===(a=a.recipients)||void 0===a?void 0:a.tags)&&void 0!==r?r:[]),kn&&Pt(null!==(l=null==o||null===(s=o.meta)||void 0===s||null===(s=s.recipients)||void 0===s?void 0:s.segments)&&void 0!==l?l:[]),Jn(u),(0,le.F_)(u.length-1).then((function(e){ot(e)})),dt(null==o?void 0:o.title),ht(null==o?void 0:o.scheduled_at),wi(null==o?void 0:o.status),_i(null==o?void 0:o.type),null!=o&&o.recurringData&&Ur(null==o?void 0:o.recurringData),"draft"!==(null==o?void 0:o.status)&&"suspended"!==(null==o?void 0:o.status)?(En(null==o?void 0:o.total_open),Pn(null==o?void 0:o.total_click),Ln(null==o?void 0:o.total_bounced),Zn(null==o?void 0:o.unsubscribed_rate),Un(null==o?void 0:o.total_unsubscribe),Gn(null==o?void 0:o.total_recipients)):Gn(null==o?void 0:o.total_recipients),gi(!1),"active"!==o.status&&"archived"!==o.status&&"schedule"!==o.status||Ii(!0)})).then((function(){return Xi(!Ki)})),function(){e=!1}}),[ri,si]),(0,r.useEffect)((function(){var e,n,t,i,r=!0;r&&("campaign-created"!==(null===(e=Kr.state)||void 0===e?void 0:e.status)||null!==(n=Kr.state)&&void 0!==n&&n.openTemplate||(tt("success"),$n(!0),at(null===(i=Kr.state)||void 0===i?void 0:i.message)),null!==(t=Kr.state)&&void 0!==t&&t.openTemplate&&(Zt(!0),Lt(!1)),(0,se.bd)(!1,$n));return function(){r=!1}}),[null===(M=Kr.state)||void 0===M?void 0:M.openTemplate]);var ca=function(){var e=Fe(He().mark((function e(){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"sequence-automation"===Jr?(0,le.u9)(Qn).then((function(e){var n;sr(null==e?void 0:e.campaignErrors),null!=e&&e.isPublishable?ki("block"):ma(null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.RegularCampaignTooltip,"warning")})):(0,le.u9)(Qn,xt).then((function(e){var n;sr(null==e?void 0:e.campaignErrors),null!=e&&e.isPublishable?ki("block"):ma(null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.RegularCampaignTooltip,"warning")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),da=function(){var e=Fe(He().mark((function e(n){var t,i=arguments;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!(i.length>1&&void 0!==i[1])||i[1],"draft"!==n&&"suspended"!==n?"sequence-automation"===Jr?(0,le.u9)(Qn).then((function(e){var i;sr(null==e?void 0:e.campaignErrors),null!=e&&e.isPublishable||"draft"===n?va(n,t):t&&ma(null===(i=window)||void 0===i||null===(i=i.MRM_Vars)||void 0===i||null===(i=i.mint_trans)||void 0===i?void 0:i.RegularCampaignTooltip,"warning")})):(0,le.u9)(Qn,xt).then((function(e){var i;sr(null==e?void 0:e.campaignErrors),null!=e&&e.isPublishable||"draft"===n?va(n,t):t&&ma(null===(i=window)||void 0===i||null===(i=i.MRM_Vars)||void 0===i||null===(i=i.mint_trans)||void 0===i?void 0:i.RegularCampaignTooltip,"warning")})):va("draft",t);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ma=function(e,n){tt(n),$n(!0),at(e),(0,se.bd)(!1,$n)},va=function(e,n){Pi(!0);var t={title:ct,recipients:{lists:null==Ct?void 0:Ct.map((function(e){return{id:e.id,title:e.title}})),tags:null==At?void 0:At.map((function(e){return{id:e.id,title:e.title}})),segments:Tt.map((function(e){return{id:e.id,title:e.title}}))},type:"sequence-automation"===Jr?"automation":"sequence-campaign"===Jr?"sequence":"regular",status:e,emails:Qn.map((function(e){return{id:null==e?void 0:e.id,email_subject:null==e?void 0:e.email_subject,email_preview_text:null==e?void 0:e.email_preview_text,sender_email:null==e?void 0:e.sender_email,reply_email:null==e?void 0:e.reply_email,delay_count:null==e?void 0:e.delay_count,delay_value:null==e?void 0:e.delay_value,sender_name:null==e?void 0:e.sender_name,reply_name:null==e?void 0:e.reply_name,email_body:"Dummy Email Body",email_json:null==e?void 0:e.email_json}})),campaign_id:Qr};t.totalRecipients=xt,di({}),(0,le.VB)(t).then((function(e){201===e.code?(gt(e.data.campaign.last_email_id),n&&(tt("success"),$n(!0),at(null==e?void 0:e.message),ua(),Ei(!1),Li(!1))):n&&(tt("warning"),$n(!0),at(null==e?void 0:e.message)),Pi(!1)})),(0,se.bd)(!1,$n)},ha=(0,r.useCallback)(function(){var e=Fe(He().mark((function e(n){var t,i,r,a,l,s,o=arguments;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o.length>1&&void 0!==o[1]?o[1]:"",i=o.length>2&&void 0!==o[2]?o[2]:{},r=o.length>3?o[3]:void 0,a=new Date(window.MRM_Vars.local_time),l=new Date(Yi),n&&("recurring"===t||a<l)&&((s={title:ct,recipients:{lists:null==Ct?void 0:Ct.map((function(e){return{id:e.id,title:e.title}})),tags:null==At?void 0:At.map((function(e){return{id:e.id,title:e.title}})),segments:null==Tt?void 0:Tt.map((function(e){return{id:e.id,title:e.title}}))},type:"sequence-automation"===Jr?"automation":"sequence-campaign"===Jr?"sequence":"recurring"===t?"recurring":"regular",status:"schedule",scheduled_at:Yi,emails:Qn.map((function(e){return{id:null==e?void 0:e.id,email_subject:e.email_subject,email_preview_text:e.email_preview_text,sender_email:e.sender_email,reply_email:e.reply_email,delay_count:e.delay_count,delay_value:e.delay_value,sender_name:e.sender_name,reply_name:e.reply_name,email_body:"Dummy Email Body",email_json:e.email_json}})),campaign_id:Qr}).totalRecipients=xt,"recurring"===t&&(s.scheduled_at=r,s.recurringData=i||null),(0,le.VB)(s).then((function(e){201===e.code?(tt("success"),$n(!0),at(null==e?void 0:e.message),ua(),Ei(!1),Li(!1)):(tt("warning"),$n(!0),at(null==e?void 0:e.message))})),ki("none"),(0,se.bd)(!1,$n));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[Ci,Yi]),pa=(0,r.useCallback)(function(){var e=Fe(He().mark((function e(n){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gt(n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[zt]),fa=(0,r.useCallback)(function(){var e=Fe(He().mark((function e(n){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ki(n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[Ci]),ga=(0,r.useCallback)(function(){var e=Fe(He().mark((function e(n){var t;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&((t={title:ct,recipients:{lists:null==Ct?void 0:Ct.map((function(e){return{id:e.id,title:e.title}})),tags:null==At?void 0:At.map((function(e){return{id:e.id,title:e.title}})),segments:Tt.map((function(e){return{id:e.id,title:e.title}}))},type:"sequence-automation"===Jr?"automation":"sequence-campaign"===Jr?"sequence":"regular",status:"active",emails:Qn.map((function(e){return{id:null==e?void 0:e.id,email_subject:e.email_subject,email_preview_text:e.email_preview_text,sender_email:e.sender_email,reply_email:e.reply_email,delay_count:e.delay_count,delay_value:e.delay_value,sender_name:e.sender_name,reply_name:e.reply_name,email_body:"Dummy Email Body",email_json:e.email_json}})),campaign_id:Qr}).totalRecipients=xt,(0,le.VB)(t).then((function(e){201===e.code?(tt("success"),$n(!0),at(null==e?void 0:e.message),ua(),Ei(!1),Li(!1)):(tt("warning"),$n(!0),at(null==e?void 0:e.message))})),ki("none"),(0,se.bd)(!1,$n));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[Ci]),ya=(0,r.useCallback)(function(){var e=Fe(He().mark((function e(n){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n&&(Jn((function(e){var n=Oe(e);return n.splice(ni,1),ot(ni<n.length?ni:Math.max(0,ni-1)),(0,le.Nm)(ni<n.length?ni:Math.max(0,ni-1)),n})),Qr&&Xt&&(0,le.YD)(Qr,Xt).then((function(e){200===e.code?(tt("success"),$n(!0),at(e.message),ua()):di(Ge(Ge({},ci),{},{title:null==e?void 0:e.message}))}))),Gt(!1);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[zt]),xa=function(e,n,t){Ei(!0),Li(!0),Jn((function(i){var r,a,l=Oe(i);("email_subject"===t?Na(e.target.selectionStart):"email_preview_text"===t&&Ca(e.target.selectionStart),"email_subject"===t||"email_preview_text"===t)&&("email_subject"===t&&(n.length>190?di(Ge(Ge({},ci),{},{subject:null===(r=window)||void 0===r||null===(r=r.MRM_Vars)||void 0===r||null===(r=r.mint_trans)||void 0===r?void 0:r.EmailSubStringLimit})):di(Ge(Ge({},ci),{},{subject:""}))),"email_preview_text"==t&&(n.length>190?di(Ge(Ge({},ci),{},{preview:null===(a=window)||void 0===a||null===(a=a.MRM_Vars)||void 0===a||null===(a=a.mint_trans)||void 0===a?void 0:a.EmailPreviewStringLimit})):di(Ge(Ge({},ci),{},{preview:""}))));return"sender_email"==t&&function(e,n){return new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{1,}))$/).test(n)?(di({}),!0):(di(Ge(Ge({},ci),{},{email:null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.EmailValidationMsg})),!1);var t}(l[st][t],n),"reply_email"==t&&function(e,n){return new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{1,}))$/).test(n)?(di({}),!0):(di(Ge(Ge({},ci),{},{replyEmail:null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.EmailValidationMsg})),!1);var t}(l[st][t],n),l[st][t]=n,l}))},wa=function(){var e=Fe(He().mark((function e(){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,da("draft",!1);case 2:Zt(!0),Lt(!1),ia(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ja=function(){var e=Fe(He().mark((function e(){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,da("sequence-automation"===Jr?xi:"draft",!1);case 2:br(!0),xr(!0),fr(!pr),Zt(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ba=function(e){Jn((function(n){var t=Oe(n);return t[st].body=e,t}))};(0,ae.A)((function(e){Ai&&(e.preventDefault(),e.returnValue="")}));var _a=function(){hi(!vi)},Ma=qe((0,r.useState)(0),2),Na=(Ma[0],Ma[1]),Ia=function(){var e=Fe(He().mark((function e(n){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Jn((function(e){var t=Oe(e);return n.length>200||(t[st].email_subject=n),t}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Sa=qe((0,r.useState)(0),2),Ca=(Sa[0],Sa[1]),ka=function(){var e=Fe(He().mark((function e(n){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Jn((function(e){var t=Oe(e);return n.length>200||(t[st].email_preview_text=n),t}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ra=function(){var e=Fe(He().mark((function e(){var n,t,i,r;return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",i="",r=(r=Tt.map((function(e,n){return e.id}))).join(", "),0===(null===(n=r)||void 0===n?void 0:n.length)&&(t=Ct.map((function(e){return e.id})),i=At.map((function(e){return e.id})),t=t.join(", "),i=i.join(", ")),""===t&&""===i&&""===r){e.next=9;break}return e.abrupt("return",(0,le.sO)(Qr||0,t,i,r).then((function(e){if(200===(null==e?void 0:e.code)){var n=parseInt(e.data);return wt(n),n}})));case 9:return wt(0),e.abrupt("return",0);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Aa=function(){var e=Fe(He().mark((function e(){return He().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Di?nr(!0):(nr(!1),Cn("/campaigns"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ea=(0,r.useCallback)((function(){nr(!1)}),[er]),Va=(0,r.useCallback)((function(){nr(!1),Cn("/campaigns")}),[er]);return(0,r.useEffect)((function(){var e=!0;return!e||"draft"!==xi&&"suspended"!==xi||Ra().then(),function(){e=!1}}),[vi,Ki]),(0,r.useEffect)((function(){Dr(""),Fr(!1)}),[qi]),(0,r.useEffect)((function(){Hr(""),Gr(!1)}),[zi]),(0,r.useEffect)((function(){Fr(!0)}),[Br]),(0,r.useEffect)((function(){Gr(!0)}),[Or]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"mintmrm-add-campaign",children:[(0,p.jsx)(c.A,{confirmModal:er,onCancelConfirm:Ea,onCloseConfirm:Va,header:null===(k=window)||void 0===k||null===(k=k.MRM_Vars)||void 0===k||null===(k=k.mint_trans)||void 0===k?void 0:k.CloseCampaign,label:null===(R=window)||void 0===R||null===(R=R.MRM_Vars)||void 0===R||null===(R=R.mint_trans)||void 0===R?void 0:R.CloseCampaignLabel}),(0,p.jsx)("div",{className:"single-campaign-header",children:(0,p.jsxs)("div",{className:"mintmrm-container",children:[(0,p.jsxs)("div",{className:"left-section",children:[(0,p.jsx)("div",{className:"back-button",onClick:function(){return(0,le.Nm)(0)},children:(0,p.jsxs)("button",{onClick:Aa,children:[(0,p.jsx)(v.A,{})," ",null===(A=window)||void 0===A||null===(A=A.MRM_Vars)||void 0===A||null===(A=A.mint_trans)||void 0===A?void 0:A.Campaigns]})}),(0,p.jsx)("h2",{className:"campaign-title",children:null===(E=window)||void 0===E||null===(E=E.MRM_Vars)||void 0===E||null===(E=E.mint_trans)||void 0===E?void 0:E.EditCampaign})]}),(0,p.jsx)("div",{className:"right-section",children:"success"===(null===(V=window.MRM_Vars.smtp_warring)||void 0===V?void 0:V.status)&&Vr&&(0,p.jsx)(ge.A,{setMailerWarning:Tr,warningMessage:null===(T=window.MRM_Vars.smtp_warring)||void 0===T?void 0:T.message})})]})}),fi?(0,p.jsx)(C.A,{type:"table"}):(0,p.jsxs)("div",{className:"mintmrm-container",children:[("archived"===xi||"active"===xi)&&(0,p.jsxs)("div",{className:"contact-info-wrapper",children:[(0,p.jsx)(de,{source:(0,p.jsx)(g,{}),cardTitle:null===(P=window)||void 0===P||null===(P=P.MRM_Vars)||void 0===P||null===(P=P.mint_trans)||void 0===P?void 0:P.TotalOpen,totalAmount:An,rate:"high"}),(0,p.jsx)(de,{source:(0,p.jsx)(j,{}),cardTitle:null===(B=window)||void 0===B||null===(B=B.MRM_Vars)||void 0===B||null===(B=B.mint_trans)||void 0===B?void 0:B.TotalClick,totalAmount:Tn,rate:"low"}),(0,p.jsx)(de,{source:(0,p.jsx)(N,{}),cardTitle:null===(D=window)||void 0===D||null===(D=D.MRM_Vars)||void 0===D||null===(D=D.mint_trans)||void 0===D?void 0:D.TotalBounce,totalAmount:Dn,rate:"low"}),(0,p.jsx)(he,{id:Qr,cardTitle:null===(L=window)||void 0===L||null===(L=L.MRM_Vars)||void 0===L||null===(L=L.mint_trans)||void 0===L?void 0:L.TotalUnsubscribe,current_subscriber:zn,current_unsubscriber:qn,percentage:Hn+"%",type:Jr})]}),(0,p.jsxs)("div",{className:"add-campaign-wrapper",children:[(0,p.jsxs)("div",{className:"add-email-section",children:[Qn.map((function(e,n){var t,r,a,l,s,o,u,c,d;return(0,p.jsxs)("div",{className:"email-box",children:[(0,p.jsxs)("div",{className:st!==n?"email-select-section":"email-select-section selected",onClick:function(){return function(e){ot(e),(0,le.Nm)(e)}(n)},children:[(0,p.jsx)("div",{className:void 0===(null===(t=lr[n])||void 0===t?void 0:t.publishable)||null!==(r=lr[n])&&void 0!==r&&r.publishable||null!=e&&null!==(a=e.email_subject)&&void 0!==a&&a.length&&null!=e&&null!==(l=e.sender_email)&&void 0!==l&&l.length&&null!=e&&null!==(s=e.sender_name)&&void 0!==s&&s.length&&null!=e&&null!==(o=e.reply_email)&&void 0!==o&&o.length&&null!=e&&null!==(u=e.reply_name)&&void 0!==u&&u.length&&null!=e&&null!==(c=e.json_data)&&void 0!==c&&c.length&&("sequence-automation"===Jr||xt)?"email-icon-section":"email-icon-section required-field-missing",children:(0,p.jsx)(y.A,{})}),"sequence-automation"===Jr||"sequence-campaign"===Jr?(0,p.jsx)("h5",{children:sprintf((0,i.__)("Email %s","mrm"),n+1)}):(0,p.jsx)("h5",{children:null===(d=window)||void 0===d||null===(d=d.MRM_Vars)||void 0===d||null===(d=d.mint_trans)||void 0===d?void 0:d.Email}),n>0&&(0,p.jsx)("div",{className:"delete-option",onClick:function(){return function(e,n){var t,i;Gt(!0),Ut(null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.DeleteEmailSequence),Jt(null===(i=window)||void 0===i||null===(i=i.MRM_Vars)||void 0===i||null===(i=i.mint_trans)||void 0===i?void 0:i.DeleteEmailSequenceMsg),ti(e),$t(n)}(n,e.id)},children:(0,p.jsx)(m.A,{})})]}),("sequence-automation"===Jr||"sequence-campaign"===Jr)&&(0,p.jsx)("div",{className:"link-line"})]},"emails-".concat(n))})),("sequence-automation"===Jr||"sequence-campaign"===Jr)&&(0,p.jsx)("div",{className:"active"===xi||"archived"===xi||"schedule"===xi?"add-another-email disable-btn":"add-another-email",onClick:function(){"active"!==xi&&"archived"!==xi&&"schedule"!==xi&&Jn((function(e){return ot(e.length),(0,le.Nm)(e.length),[].concat(Oe(e),[Ge({},Qe)])}))},children:(0,p.jsx)(b.A,{})})]}),(0,p.jsxs)("div",{className:"email-content-section",children:[(0,p.jsxs)("div",{className:"email-container",children:[0===st&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"email-title input-item",children:[(0,p.jsx)("label",{children:null===(O=window)||void 0===O||null===(O=O.MRM_Vars)||void 0===O||null===(O=O.mint_trans)||void 0===O?void 0:O.EmailTitle}),(0,p.jsxs)("div",{className:"input-title-wrapper",children:[(0,p.jsx)("input",{maxLength:151,type:"text",name:"title",value:ct,onChange:function(e){return sa(e)},placeholder:null===(H=window)||void 0===H||null===(H=H.MRM_Vars)||void 0===H||null===(H=H.mint_trans)||void 0===H?void 0:H.EmailSubTitlePlaceHolder,disabled:Ni}),(0,p.jsx)("p",{className:null!=ci&&ci.title?"mintmrm-alert mintmrm-error error-message show":"mintmrm-alert mintmrm-error error-message",children:null==ci?void 0:ci.title})]})]}),("regular"===Jr||"sequence-campaign"===Jr)&&(0,p.jsx)("div",{className:"email-to input-item",children:(0,p.jsxs)("div",{className:"select-options",ref:Oi,children:[(0,p.jsxs)("label",{children:[null===(Z=window)||void 0===Z||null===(Z=Z.MRM_Vars)||void 0===Z||null===(Z=Z.mint_trans)||void 0===Z?void 0:Z.To,":",(0,p.jsx)("span",{className:"mint-required-sign",children:"*"})]}),0==(null==Ct?void 0:Ct.length)&&0==(null==At?void 0:At.length)&&0==(null==Tt?void 0:Tt.length)?(0,p.jsxs)("button",{className:"all-recipients",onClick:_a,disabled:Ni,children:[null===(F=window)||void 0===F||null===(F=F.MRM_Vars)||void 0===F||null===(F=F.mint_trans)||void 0===F?void 0:F.SelectRecipients,vi?(0,p.jsx)(I.A,{}):(0,p.jsx)(h.A,{})]}):(0,p.jsxs)("button",{className:"all-recipients selected show",onClick:_a,disabled:Ni,children:[(null==Tt?void 0:Tt.length)>0?(0,p.jsxs)("span",{className:"segments",children:[null==Tt?void 0:Tt.length," Segments"]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("span",{className:"tags",children:[null==Ct?void 0:Ct.length,null===(z=window)||void 0===z||null===(z=z.MRM_Vars)||void 0===z||null===(z=z.mint_trans)||void 0===z?void 0:z.Lists]}),(0,p.jsx)("span",{className:"from",children:null===(G=window)||void 0===G||null===(G=G.MRM_Vars)||void 0===G||null===(G=G.mint_trans)||void 0===G?void 0:G.and}),(0,p.jsxs)("span",{className:"lists",children:[null==At?void 0:At.length,null===(W=window)||void 0===W||null===(W=W.MRM_Vars)||void 0===W||null===(W=W.mint_trans)||void 0===W?void 0:W.Tags]})]}),(0,p.jsxs)("span",{className:"recipients",children:["draft"===xi||"suspended"===xi?xt:zn," ",null===(q=window)||void 0===q||null===(q=q.MRM_Vars)||void 0===q||null===(q=q.mint_trans)||void 0===q?void 0:q.Recipients]}),vi?(0,p.jsx)(I.A,{}):(0,p.jsx)(h.A,{})]}),("draft"===xi||"suspended"===xi)&&(0,p.jsx)(ue.A,{dropDown:vi,setIsUnload:Ei,setRecipientTags:Et,recipientTags:At,setRecipientLists:kt,recipientLists:Ct,setRecipientSegments:Pt,recipientSegments:Tt,addSegments:!0,setIsChange:Li}),void 0!==(null===(U=lr[0])||void 0===U?void 0:U.publishable)&&!(null!==(Q=lr[0])&&void 0!==Q&&Q.publishable)&&!xt&&("draft"===xi||"suspended"===xi)&&(0,p.jsx)("p",{className:"mintmrm-alert mintmrm-error error-message show",children:null===(J=window)||void 0===J||null===(J=J.MRM_Vars)||void 0===J||null===(J=J.mint_trans)||void 0===J?void 0:J.RecipientAlertMsg})]})})]}),st>0&&(0,p.jsxs)("div",{className:"email-delay input-item",children:[(0,p.jsx)("label",{children:null===(K=window)||void 0===K||null===(K=K.MRM_Vars)||void 0===K||null===(K=K.mint_trans)||void 0===K?void 0:K.delay}),(0,p.jsxs)("div",{className:"delay_count_input",children:[(0,p.jsxs)("div",{className:"delay-input",children:[(0,p.jsx)("input",{type:"number",name:"delay_count",value:null===(X=Qn[st])||void 0===X?void 0:X.delay_count,disabled:Ni,onChange:function(e){return xa(e,e.target.value,"delay_count")},min:0,onKeyDown:function(e){return["e","E","+","-"].includes(e.key)&&e.preventDefault()}}),(0,p.jsx)("p",{className:null!=ci&&ci.number?"mintmrm-alert mintmrm-error error-message show":"mintmrm-alert mintmrm-error error-message",children:null==ci?void 0:ci.number})]}),(0,p.jsxs)("select",{onChange:function(e){return xa(e,e.target.value,"delay_value")},name:"delay_value",value:null===($=Qn[st])||void 0===$?void 0:$.delay_value,disabled:Ni,children:[(0,p.jsx)("option",{disabled:!0,value:"",children:null===(ee=window)||void 0===ee||null===(ee=ee.MRM_Vars)||void 0===ee||null===(ee=ee.mint_trans)||void 0===ee?void 0:ee.chooseDelay}),ra.map((function(e){return(0,p.jsx)("option",{children:e.value},e.id)}))]})]})]}),(0,p.jsxs)("div",{className:"email-subject input-item",children:[(0,p.jsxs)("label",{children:[null===(ne=window)||void 0===ne||null===(ne=ne.MRM_Vars)||void 0===ne||null===(ne=ne.mint_trans)||void 0===ne?void 0:ne.SubjectLine,(0,p.jsx)("span",{className:"mint-required-sign",children:"*"})]}),(0,p.jsxs)("div",{className:"input-title-wrapper",children:[(0,p.jsx)("input",{maxLength:191,type:"text",name:"subject",value:null===(te=Qn[st])||void 0===te?void 0:te.email_subject,onChange:function(e){return xa(e,e.target.value,"email_subject")},onClick:function(e){Na(e.target.selectionStart)},placeholder:null===(ce=window)||void 0===ce||null===(ce=ce.MRM_Vars)||void 0===ce||null===(ce=ce.mint_trans)||void 0===ce?void 0:ce.SubjectLinePlaceHolder,disabled:Ni,ref:Hi}),(null===(me=Qn[st])||void 0===me||null===(me=me.email_subject)||void 0===me?void 0:me.length)>0&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("p",{className:null!=ci&&ci.subject?"error-message show":"error-message",children:null==ci?void 0:ci.subject})}),void 0!==(null===(ve=lr[st])||void 0===ve?void 0:ve.publishable)&&!(null!==(xe=lr[st])&&void 0!==xe&&xe.publishable)&&!(null!==(we=Qn[st])&&void 0!==we&&null!==(we=we.email_subject)&&void 0!==we&&we.length)&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("p",{className:"mintmrm-alert mintmrm-error error-message show",children:null===(je=window)||void 0===je||null===(je=je.MRM_Vars)||void 0===je||null===(je=je.mint_trans)||void 0===je?void 0:je.EmailSubjectRequired})})]}),(0,p.jsxs)("span",{className:"text-length",children:[null===(be=Qn[st])||void 0===be||null===(be=be.email_subject)||void 0===be?void 0:be.length,"/190"]}),(0,p.jsx)("div",{className:"mint-merge-tag-section",children:(0,p.jsx)(De.A,{inputRef:Hi,inputValue:null===(_e=Qn[st])||void 0===_e?void 0:_e.email_subject,setInputValue:Ia,tooltip:null===(Me=window)||void 0===Me||null===(Me=Me.MRM_Vars)||void 0===Me||null===(Me=Me.mint_trans)||void 0===Me?void 0:Me.personalizeTooltip,contentType:"subject",campaignType:Jr})}),(0,p.jsxs)("div",{className:"openai-icon",onClick:function(e){return oa(0,"subject",window.MRM_Vars.mint_trans.GenerateEmailSubjectLinesUsingAI)},children:[(0,p.jsx)(x.A,{}),(0,p.jsx)("p",{className:"personalized-tooltip",children:(0,i.__)("OpenAI","mrm")})]})]}),(0,p.jsxs)("div",{className:"email-preview input-item",children:[(0,p.jsx)("label",{children:null===(Ne=window)||void 0===Ne||null===(Ne=Ne.MRM_Vars)||void 0===Ne||null===(Ne=Ne.mint_trans)||void 0===Ne?void 0:Ne.PreviewText}),(0,p.jsxs)("div",{className:"input-title-wrapper",children:[(0,p.jsx)("input",{maxLength:191,type:"text",name:"email_preview_text",value:null===(Ie=Qn[st])||void 0===Ie?void 0:Ie.email_preview_text,onChange:function(e){return xa(e,e.target.value,"email_preview_text")},onClick:function(e){Ca(e.target.selectionStart)},placeholder:null===(Se=window)||void 0===Se||null===(Se=Se.MRM_Vars)||void 0===Se||null===(Se=Se.mint_trans)||void 0===Se?void 0:Se.PreviewPlaceholder,disabled:Ni,ref:Zi}),(0,p.jsx)("p",{className:null!=ci&&ci.preview?"mintmrm-alert mintmrm-error error-message show":"mintmrm-alert mintmrm-error error-message",children:null==ci?void 0:ci.preview})]}),(0,p.jsxs)("span",{className:"text-length",children:[null===(Ce=Qn[st])||void 0===Ce||null===(Ce=Ce.email_preview_text)||void 0===Ce?void 0:Ce.length,"/190"]}),(0,p.jsx)("div",{className:"mint-merge-tag-section",children:(0,p.jsx)(De.A,{inputRef:Zi,inputValue:null===(ke=Qn[st])||void 0===ke?void 0:ke.email_preview_text,setInputValue:ka,tooltip:null===(Re=window)||void 0===Re||null===(Re=Re.MRM_Vars)||void 0===Re||null===(Re=Re.mint_trans)||void 0===Re?void 0:Re.personalizeTooltip,contentType:"preview",campaignType:Jr})}),(0,p.jsxs)("div",{className:"openai-icon",onClick:function(e){return oa(0,"preview",window.MRM_Vars.mint_trans.GenerateEmailPreviewTextUsingAI)},children:[(0,p.jsx)(x.A,{}),(0,p.jsx)("p",{className:"personalized-tooltip",children:(0,i.__)("OpenAI","mrm")})]})]}),(0,p.jsxs)("div",{className:"email-from input-item",children:[(0,p.jsxs)("div",{className:"form-group sender-name",children:[(0,p.jsxs)("label",{children:[null===(Ae=window)||void 0===Ae||null===(Ae=Ae.MRM_Vars)||void 0===Ae||null===(Ae=Ae.mint_trans)||void 0===Ae?void 0:Ae.From,":",(0,p.jsx)("span",{className:"mint-required-sign",children:"*"})]}),(0,p.jsx)("input",{type:"text",name:"senderName",value:null===(Ve=Qn[st])||void 0===Ve?void 0:Ve.sender_name,onChange:function(e){return xa(e,e.target.value,"sender_name")},placeholder:"From Name",disabled:Ni}),void 0!==(null===(Te=lr[st])||void 0===Te?void 0:Te.publishable)&&!(null!==(Pe=lr[st])&&void 0!==Pe&&Pe.publishable)&&!(null!==(Be=Qn[st])&&void 0!==Be&&null!==(Be=Be.sender_name)&&void 0!==Be&&Be.length)&&(0,p.jsx)("p",{className:"mintmrm-alert mintmrm-error error-message show",children:null===(Le=window)||void 0===Le||null===(Le=Le.MRM_Vars)||void 0===Le||null===(Le=Le.mint_trans)||void 0===Le?void 0:Le.SenderNameRequired})]}),(0,p.jsxs)("div",{className:"form-group email-input",children:[(0,p.jsx)("input",{type:"email",name:"senderEmail",value:null===(Ze=Qn[st])||void 0===Ze?void 0:Ze.sender_email,onChange:function(e){return xa(e,e.target.value,"sender_email")},placeholder:null===(ze=window)||void 0===ze||null===(ze=ze.MRM_Vars)||void 0===ze||null===(ze=ze.mint_trans)||void 0===ze?void 0:ze.SenderEmail,disabled:Ni}),void 0===(null===(We=lr[st])||void 0===We?void 0:We.publishable)||null!==(Ye=lr[st])&&void 0!==Ye&&Ye.publishable||null!==(Je=Qn[st])&&void 0!==Je&&null!==(Je=Je.sender_email)&&void 0!==Je&&Je.length?(0,p.jsx)("p",{className:null!=ci&&ci.email?"mintmrm-alert mintmrm-error error-message show":"mintmrm-alert mintmrm-error error-message",children:null==ci?void 0:ci.email}):(0,p.jsx)("p",{className:"mintmrm-alert mintmrm-error error-message show",children:null===(Ke=window)||void 0===Ke||null===(Ke=Ke.MRM_Vars)||void 0===Ke||null===(Ke=Ke.mint_trans)||void 0===Ke?void 0:Ke.SenderEmailRequired})]})]}),(0,p.jsxs)("div",{className:"email-from input-item",children:[(0,p.jsxs)("div",{className:"form-group sender-name",children:[(0,p.jsxs)("label",{children:[null===(Xe=window)||void 0===Xe||null===(Xe=Xe.MRM_Vars)||void 0===Xe||null===(Xe=Xe.mint_trans)||void 0===Xe?void 0:Xe.ReplyTo,(0,p.jsx)("span",{className:"mint-required-sign",children:"*"})]}),(0,p.jsx)("input",{type:"text",name:"replyName",value:null===($e=Qn[st])||void 0===$e?void 0:$e.reply_name,onChange:function(e){return xa(e,e.target.value,"reply_name")},placeholder:"Reply Name",disabled:Ni}),void 0!==(null===(en=lr[st])||void 0===en?void 0:en.publishable)&&!(null!==(nn=lr[st])&&void 0!==nn&&nn.publishable)&&!(null!==(tn=Qn[st])&&void 0!==tn&&null!==(tn=tn.reply_name)&&void 0!==tn&&tn.length)&&(0,p.jsx)("p",{className:"mintmrm-alert mintmrm-error error-message show",children:null===(rn=window)||void 0===rn||null===(rn=rn.MRM_Vars)||void 0===rn||null===(rn=rn.mint_trans)||void 0===rn?void 0:rn.ReplayNameRequired})]}),(0,p.jsxs)("div",{className:"form-group email-input",children:[(0,p.jsx)("input",{type:"email",name:"replyEmail",value:null===(an=Qn[st])||void 0===an?void 0:an.reply_email,onChange:function(e){return xa(e,e.target.value,"reply_email")},placeholder:null===(ln=window)||void 0===ln||null===(ln=ln.MRM_Vars)||void 0===ln||null===(ln=ln.mint_trans)||void 0===ln?void 0:ln.ReplyEmail,disabled:Ni}),void 0===(null===(sn=lr[st])||void 0===sn?void 0:sn.publishable)||null!==(on=lr[st])&&void 0!==on&&on.publishable||null!==(un=Qn[st])&&void 0!==un&&null!==(un=un.reply_email)&&void 0!==un&&un.length?(0,p.jsx)("p",{className:null!=ci&&ci.replyEmail?"mintmrm-alert mintmrm-error error-message show":"mintmrm-alert mintmrm-error error-message",children:null==ci?void 0:ci.replyEmail}):(0,p.jsx)("p",{className:"mintmrm-alert mintmrm-error error-message show",children:null===(cn=window)||void 0===cn||null===(cn=cn.MRM_Vars)||void 0===cn||null===(cn=cn.mint_trans)||void 0===cn?void 0:cn.ReplayEmailRequired})]})]}),(0,p.jsxs)("div",{className:"email-design input-item",children:[(0,p.jsxs)("label",{children:[null===(dn=window)||void 0===dn||null===(dn=dn.MRM_Vars)||void 0===dn||null===(dn=dn.mint_trans)||void 0===dn?void 0:dn.EmailDesign,(0,p.jsx)("span",{className:"mint-required-sign",children:"*"})]}),(0,p.jsxs)("div",{className:"add-template-section",children:[(0,p.jsx)("div",{className:"add-template-area ",children:null!==(mn=Qn[st])&&void 0!==mn&&mn.email_json?(0,p.jsxs)("div",{className:"add-template",children:[(0,p.jsx)("div",{className:"thumbnail-image-wrapper",children:(0,p.jsxs)("div",{className:"thumbnail-image-bg",children:[(0,p.jsx)("div",{className:"hoverlay",children:(0,p.jsx)("button",{type:"button",className:"select-this mintmrm-btn ",onClick:function(){Ar(!0),Cr(!Sr)},children:null===(hn=window)||void 0===hn||null===(hn=hn.MRM_Vars)||void 0===hn||null===(hn=hn.mint_trans)||void 0===hn?void 0:hn.PreviewTest})}),(0,p.jsx)("div",{className:"image-wrapper",style:{backgroundImage:'url("data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgMTU2IDE2OSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48bWFzayBpZD0iYSIgc3R5bGU9Im1hc2stdHlwZTphbHBoYSIgd2lkdGg9IjE1NiIgaGVpZ2h0PSIxNjkiIHg9IjAiIHk9IjAiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiPjxyZWN0IHdpZHRoPSIxNTQuNTQ1IiBoZWlnaHQ9IjE2Ny42MSIgeD0iLjc3MyIgeT0iLjUwNCIgZmlsbD0iIzJEMzE0OSIgcng9IjYiLz48L21hc2s+PGcgbWFzaz0idXJsKCNhKSI+PHJlY3Qgd2lkdGg9IjE1NCIgaGVpZ2h0PSIxNjYiIHg9IjEuMDg2IiB5PSIxLjUiIGZpbGw9IiNFOEU5RUIiIHN0cm9rZT0iI0U0RTZFQiIgcng9IjUuNSIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xNCAxMmgxMjh2MTQ0SDE0eiIvPjxyZWN0IHdpZHRoPSIxMDUiIGhlaWdodD0iNCIgeD0iMjYiIHk9IjY4IiBmaWxsPSIjRThFOUVCIiByeD0iMiIvPjxyZWN0IHdpZHRoPSIxMDUiIGhlaWdodD0iNCIgeD0iMjYiIHk9IjgwIiBmaWxsPSIjRThFOUVCIiByeD0iMiIvPjxyZWN0IHdpZHRoPSI3MyIgaGVpZ2h0PSI0IiB4PSIyNiIgeT0iOTIiIGZpbGw9IiNFOEU5RUIiIHJ4PSIyIi8+PHJlY3Qgd2lkdGg9IjcwIiBoZWlnaHQ9IjMxIiB4PSI0MyIgeT0iMjQiIGZpbGw9IiMwMkM0RkIiIHJ4PSI0Ii8+PHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjM2IiB4PSIyNiIgeT0iMTA4IiBmaWxsPSIjRThFOUVCIiByeD0iNCIvPjxyZWN0IHdpZHRoPSI0OCIgaGVpZ2h0PSI0IiB4PSI4MiIgeT0iMTA4IiBmaWxsPSIjNTczQkZGIiByeD0iMiIvPjxyZWN0IHdpZHRoPSI0OCIgaGVpZ2h0PSI0IiB4PSI4MiIgeT0iMTE5IiBmaWxsPSIjRThFOUVCIiByeD0iMiIvPjxyZWN0IHdpZHRoPSI0OCIgaGVpZ2h0PSI0IiB4PSI4MiIgeT0iMTMwIiBmaWxsPSIjRThFOUVCIiByeD0iMiIvPjxyZWN0IHdpZHRoPSI0OCIgaGVpZ2h0PSI0IiB4PSI4MiIgeT0iMTQxIiBmaWxsPSIjRThFOUVCIiByeD0iMiIvPjwvZz48bWFzayBpZD0iYiIgc3R5bGU9Im1hc2stdHlwZTphbHBoYSIgd2lkdGg9IjcwIiBoZWlnaHQ9IjMxIiB4PSI0MyIgeT0iMjQiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiPjxyZWN0IHdpZHRoPSI3MCIgaGVpZ2h0PSIzMSIgeD0iNDMiIHk9IjI0IiBmaWxsPSIjMDJDNEZCIiByeD0iNCIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI2IpIj48Y2lyY2xlIGN4PSI1OC41IiBjeT0iNDYuNSIgcj0iMTcuNSIgZmlsbD0iIzMwRDFGRiIvPjxjaXJjbGUgY3g9Ijg0LjUiIGN5PSI0OS41IiByPSIxMy41IiBmaWxsPSIjMDBCQkYwIi8+PC9nPjwvc3ZnPg==")'}})]})}),(0,p.jsx)("button",{className:"edit-template-btn "+(Ni?"isReadonly":""),onClick:Ti?function(){}:ja,children:(0,p.jsx)(s.N_,{to:"",children:null===(pn=window)||void 0===pn||null===(pn=pn.MRM_Vars)||void 0===pn||null===(pn=pn.mint_trans)||void 0===pn?void 0:pn.EditYourTemplate})})]}):(0,p.jsxs)("div",{className:"add-template",onClick:Ti?function(){}:wa,children:[(0,p.jsx)(_.A,{}),(0,p.jsx)(s.N_,{to:"",children:null===(vn=window)||void 0===vn||null===(vn=vn.MRM_Vars)||void 0===vn||null===(vn=vn.mint_trans)||void 0===vn?void 0:vn.DesignYourEmail})]})}),void 0!==(null===(fn=lr[st])||void 0===fn?void 0:fn.publishable)&&!(null!==(gn=lr[st])&&void 0!==gn&&gn.publishable)&&!(null!==(yn=Qn[st])&&void 0!==yn&&null!==(yn=yn.json_data)&&void 0!==yn&&yn.length)&&(0,p.jsx)("span",{className:"mintmrm-alert mintmrm-missing-email-body mintmrm-error",children:null===(xn=window)||void 0===xn||null===(xn=xn.MRM_Vars)||void 0===xn||null===(xn=xn.mint_trans)||void 0===xn?void 0:xn.EmailContentRequired})]})]})]}),(0,p.jsx)("div",{className:"content-save-section ".concat("schedule"===xi||"recurring"===bi&&"draft"!==xi?"scheduled":""),children:"active"==xi&&"recurring"!==bi?(0,p.jsx)("button",{className:"campaign-save mintmrm-btn",disabled:!0,children:null===(wn=window)||void 0===wn||null===(wn=wn.MRM_Vars)||void 0===wn||null===(wn=wn.mint_trans)||void 0===wn?void 0:wn.Running}):"archived"==xi&&"recurring"!==bi?(0,p.jsx)("button",{className:"campaign-save mintmrm-btn completed",disabled:!0,children:null===(jn=window)||void 0===jn||null===(jn=jn.MRM_Vars)||void 0===jn||null===(jn=jn.mint_trans)||void 0===jn?void 0:jn.Archived}):"schedule"==xi||"recurring"===bi&&"draft"!==xi?(0,p.jsx)("p",{className:"schedule-status",disabled:!0,children:vt}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("button",{type:"submit",className:"sequence-automation"===Jr?"campaign-automation-save mintmrm-btn":"campaign-save mintmrm-btn",onClick:Ti?function(){}:function(){return da("sequence-automation"===Jr?"created":xi)},disabled:Ti,children:["regular"===Jr||"sequence-campaign"===Jr?null===(bn=window)||void 0===bn||null===(bn=bn.MRM_Vars)||void 0===bn||null===(bn=bn.mint_trans)||void 0===bn?void 0:bn.SaveDraft:"draft"===xi?null===(_n=window)||void 0===_n||null===(_n=_n.MRM_Vars)||void 0===_n||null===(_n=_n.mint_trans)||void 0===_n?void 0:_n.Publish:null===(Mn=window)||void 0===Mn||null===(Mn=Mn.MRM_Vars)||void 0===Mn||null===(Mn=Mn.mint_trans)||void 0===Mn?void 0:Mn.Update,Ti&&(0,p.jsx)("span",{className:"mintmrm-loader"})]}),("regular"===Jr||"sequence-campaign"===Jr)&&(0,p.jsx)("button",{className:"campaign-schedule mintmrm-btn outline",onClick:ca,children:null===(Nn=window)||void 0===Nn||null===(Nn=Nn.MRM_Vars)||void 0===Nn||null===(Nn=Nn.mint_trans)||void 0===Nn?void 0:Nn.Send})]})})]})]})]}),(0,p.jsx)(Ee,{isOpenPreview:Rr,isClosePreview:Sr,setIsClosePreview:Cr,campaignStatus:xi,isCloseBuilder:pr,setIsCloseBuilder:fr,emailData:Qn[st],campaignID:Qr,selectedEmailIndex:st,setIsEmailBuilderOpen:br,emailType:"campaign"})]}),(0,p.jsx)("div",{className:"mintmrm-container",style:{display:Ci},children:(0,p.jsx)(ie,{title:"Campaign Publish",onNotPublish:fa,onPublishStatus:ga,onScheduleStatus:ha,buttonText:"Publish",setScheduleTime:Qi,emailFrom:null===(In=Qn[st])||void 0===In?void 0:In.sender_name,subscribers:xt,campaignType:Jr,setIsProOpenAi:ea,recurringSavedData:qr,setProLink:vr})}),zt&&(0,p.jsx)("div",{className:"mintmrm-container",children:(0,p.jsx)(d.A,{title:qt,message:Qt,onDeleteShow:pa,onDeleteStatus:ya})}),(0,p.jsx)("div",{className:"mintmrm-container",style:{display:ur},children:(0,p.jsx)(ye.A,{heading:Mr,itle:qt,message:Qt,setOpenAIPromptModal:cr,setEmailData:Jn,selectedEmailIndex:st,context:bt,setErrors:di,errors:ci,promptType:Nt})}),$r&&(0,p.jsx)("div",{className:"mintmrm-container",children:(0,p.jsx)(u.A,{feature:"openai",icon:(0,p.jsx)(x.A,{}),text:null===(Sn=window)||void 0===Sn||null===(Sn=Sn.MRM_Vars)||void 0===Sn||null===(Sn=Sn.mint_trans)||void 0===Sn?void 0:Sn.upgradeText,setIsPro:ea,proLink:mr||Y.HX})}),Xn&&(0,p.jsx)(re.A,{setShowNotification:$n,notificationType:nt,setNotificationType:tt,message:rt}),(!Dt&&Ht||ta)&&(0,p.jsx)(fe.A,{isOpen:ta,setIsOpen:ia,emailIndex:st,setIsEmailBuilderOpen:br,setIsTemplateBuilder:xr,setIsCloseBuilder:fr,setIsTemplate:Zt,setBuilderChanged:rr,emailID:Xt,isTemplate:Ht,setEmailBody:ba,emailData:Qn[st],isClose:Dt,setIsClose:Lt,isEmailBuilderOpen:jr}),(0,p.jsx)(pe.default,{refresh:ri,setRefresh:ai,isOpen:yr,isCloseBuilder:pr,isEmailBuilderOpen:jr,setIsEmailBuilderOpen:br,isNewCampaign:!1,emailData:Qn,lastEmailId:ft,campaignData:{title:ct,recipients:{lists:null==Ct?void 0:Ct.map((function(e){return{id:e.id,title:e.title}})),tags:null==At?void 0:At.map((function(e){return{id:e.id,title:e.title}}))},type:"sequence-automation"===Jr?"automation":"sequence-campaign"===Jr?"sequence":"regular",status,created_by:"".concat(window.MRM_Vars.current_userID),emails:Qn.map((function(e){return{id:e.id,email_subject:e.email_subject,email_preview_text:e.email_preview_text,sender_email:e.sender_email,reply_email:e.reply_email,delay_count:e.delay_count,delay_value:e.delay_value,sender_name:e.sender_name,reply_name:e.reply_name,email_body:e.email_body,email_json:e.email_json}}))},selectedEmailIndex:st,setEmailBody:ba,isTemplate:Ht,setIsTemplate:Zt,setIsClose:Lt,setIsCloseBuilder:function(){fr("none")},setCloseTemplateSelection:function(e){"hide"===e&&Lt(!0)},setIsReadonly:Ii,isReadonly:Ni,mintPage:"sequence-automation"===Jr?"sequence-automation":"campaign",setBackRefresh:oi,backRefresh:si,isClose:Dt,setBuilderChanged:rr,builderChanged:ir}),(0,p.jsx)(o.A,{showVideo:"true",videoLink:"regular"==Jr?"https://www.youtube.com/embed/KG_Bjdqw688":"https://www.youtube.com/embed/ZiMfFdTAcjI",docLink:"regular"==Jr?"https://getwpfunnels.com/docs/mail-mint-campaigns/regular-email/":"https://getwpfunnels.com/docs/mail-mint-campaigns/email-sequence-campaigns-in-mail-mint/"})]})}},7561:(e,n,t)=>{t.r(n),t.d(n,{default:()=>o});var i=t(1609),r=t.n(i),a=t(4848),l=r().lazy((function(){return Promise.all([t.e(6219),t.e(1445),t.e(3572)]).then(t.bind(t,3572))})),s=function(e){var n=e.isCloseBuilder,t=e.selectedEmailIndex,r=e.emailData,s=e.isNewCampaign,o=e.campaignData,u=e.setIsTemplate,c=e.setIsCloseBuilder,d=e.refresh,m=e.setRefresh,v=e.businessBasicSettings,h=e.businessSocialSettings,p=e.lastEmailId,f=e.mintPage,g=e.isTemplate,y=e.setEmailBody,x=e.automationData,w=e.backRefresh,j=e.setBackRefresh,b=e.setIsClose,_=e.isClose,M=e.setBuilderChanged,N=e.builderChanged,I=e.automationArray,S=e.setMaybeSave,C=e.setNextButtonClicked,k=e.setActivateAutoSave,R=e.setUpdateClicked,A=e.updateClicked,E=e.selectedStep,V=e.setIsEmailBuilderOpen,T=e.dynamicCoupons,P=e.setIsTemplateBuilder,B=e.setIsModalOpen,D=e.emailTitle,L=e.templateId,O=e.wcEmailTemplateType,H=e.startFromScratch,Z=e.triggerName;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{style:{display:n},className:e.isOpen&&!n?"mintmrm-template-alert-wrapper email-builder-editor":"mintmrm-template-alert-wrapper",children:(0,a.jsx)("div",{className:"email-builder-section",style:{height:"100%"},children:(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)("div",{className:"email-builder-loading",children:(0,a.jsx)("span",{className:"mintmrm-loader"})}),children:!n&&(0,a.jsx)(l,{selectedEmailIndex:t,emailData:r,campaignData:o,isNewCampaign:s,setIsTemplate:u,isTemplate:g,setIsCloseBuilder:c,refresh:d,setRefresh:m,setIsReadonly:e.setIsReadonly,isReadonly:e.isReadonly,businessBasicSettings:v,businessSocialSettings:h,lastEmailId:p,mintPage:f,setEmailBody:y,automationData:x,setBackRefresh:j,backRefresh:w,setIsClose:b,isClose:_,setBuilderChanged:M,builderChanged:N,automationArray:I,setMaybeSave:S,setNextButtonClicked:C,setActivateAutoSave:k,setUpdateClicked:R,updateClicked:A,selectedStep:E,isCloseBuilder:n,setIsEmailBuilderOpen:V,dynamicCoupons:T,setIsTemplateBuilder:P,setIsModalOpen:B,emailTitle:D,templateId:L,wcEmailTemplateType:O,startFromScratch:H,triggerName:Z})})})})})};const o=(0,i.memo)(s)},6005:(e,n,t)=>{t.d(n,{Ay:()=>s});var i=t(2836),r=t(8168),a=t(1609),l=t(8131),s=(t(5815),t(5795),t(7003),(0,a.forwardRef)((function(e,n){var t=(0,i.u)(e);return a.createElement(l.S,(0,r.A)({ref:n},t))})))}}]);
//# sourceMappingURL=edit-campaign.min.js.map?ver=1729828711084000