/*! For license information please see edit-segment.min.js.LICENSE.txt */
"use strict";(globalThis.webpackChunk_mmAdmin_webpackJsonp=globalThis.webpackChunk_mmAdmin_webpackJsonp||[]).push([[8951],{5934:(t,e,n)=>{n.d(e,{A:()=>u}),n(7723);var r=n(1609),i=n(1618),o=n(4848);function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t){var e,n,a=t.handleRefresh,u=t.refreshToggle,s=(e=(0,r.useState)(!1),n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,l,a=[],u=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(t){s=!0,i=t}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw i}}return a}}(e,n)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return s[0],s[1],(0,o.jsxs)("button",{className:"refresh-btn mintmrm-tooltip ".concat(u?"rotate":""),onClick:a,children:[(0,o.jsx)(i.A,{}),(0,o.jsx)("p",{children:window.MRM_Vars.mint_trans.Refresh})]})}const u=(0,r.memo)(a)},5565:(t,e,n)=>{function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{W:()=>i,h:()=>o});var i=function(){return function(t,e,n,i){var o;e.includes(t.target.id)?(n(e.filter((function(e){return e!=t.target.id}))),i(!1)):n([].concat(function(t){if(Array.isArray(t))return r(t)}(o=e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(o)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t.target.id]))}},o=function(){return function(t,e,n,r){t(e?[]:r.map((function(t){return t.id}))),n(!e)}}},5595:(t,e,n)=>{n.r(e),n.d(e,{default:()=>vt});var r=n(1455),i=n.n(r),o=n(7723),l=n(1609),a=n(7767),u=n(4976),s=n(9214),c=n(5934),d=n(2930),f=n(5125),v=n(9012),h=n(6931),p=n(6524),m=(n(4504),n(2017)),y=n(3676),g=n(9480),w=n(5747),b=n(7091),_=n(3552),x=n(3469),j=n(6352),S=n(9688),M=n(5170),N=n(9870),C=n(4848);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function O(){O=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,l=Object.create(o.prototype),a=new L(r||[]);return i(l,"_invoke",{value:N(t,n,a)}),l}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",v="suspendedYield",h="executing",p="completed",m={};function y(){}function g(){}function w(){}var b={};s(b,l,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(R([])));x&&x!==n&&r.call(x,l)&&(b=x);var j=w.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function M(t,e){function n(i,o,l,a){var u=d(t[i],t,o);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==E(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,l,a)}),(function(t){n("throw",t,l,a)})):e.resolve(c).then((function(t){s.value=t,l(s)}),(function(t){return n("throw",t,l,a)}))}a(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function N(e,n,r){var i=f;return function(o,l){if(i===h)throw Error("Generator is already running");if(i===p){if("throw"===o)throw l;return{value:t,done:!0}}for(r.method=o,r.arg=l;;){var a=r.delegate;if(a){var u=C(a,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var s=d(e,n,r);if("normal"===s.type){if(i=r.done?p:v,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=p,r.method="throw",r.arg=s.arg)}}}function C(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var l=o.arg;return l?l.done?(n[e.resultName]=l.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):l:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function R(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(E(e)+" is not iterable")}return g.prototype=w,i(j,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},S(M.prototype),s(M.prototype,a,(function(){return this})),e.AsyncIterator=M,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var l=new M(c(t,n,r,i),o);return e.isGeneratorFunction(n)?l:l.next().then((function(t){return t.done?t.value:l.next()}))},S(j),s(j,u,"Generator"),s(j,l,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=R,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],a=l.completion;if("root"===l.tryLoc)return i("end");if(l.tryLoc<=this.prev){var u=r.call(l,"catchLoc"),s=r.call(l,"finallyLoc");if(u&&s){if(this.prev<l.catchLoc)return i(l.catchLoc,!0);if(this.prev<l.finallyLoc)return i(l.finallyLoc)}else if(u){if(this.prev<l.catchLoc)return i(l.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return i(l.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=t,l.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(l)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function A(t,e,n,r,i,o,l){try{var a=t[o](l),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}function k(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function l(t){A(o,r,i,l,a,"next",t)}function a(t){A(o,r,i,l,a,"throw",t)}l(void 0)}))}}function L(t){return function(t){if(Array.isArray(t))return V(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||P(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,l,a=[],u=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(t){s=!0,i=t}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw i}}return a}}(t,e)||P(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(t,e){if(t){if("string"==typeof t)return V(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(t,e):void 0}}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function I(t){var e,n,r=t.selected,o=t.setSelected,a=t.endpoint,u=t.allowMultiple,s=t.allowNewCreate,c=t.name,d=t.title,f=t.refresh,v=t.setRefresh,h=t.prefix,p=t.setSegmentConditions,y=t.segmentConditions,w=R((0,l.useState)(""),2),b=w[0],_=w[1],j=R((0,l.useState)(""),2),E=j[0],A=j[1],P=R((0,l.useState)(!1),2),V=P[0],I=P[1],F=R((0,l.useState)("success"),2),T=F[0],D=F[1],G=R((0,l.useState)(!1),2),q=G[0],W=G[1],U=R((0,l.useState)(""),2),Y=U[0],z=U[1],B=R((0,l.useState)([]),2),H=B[0],$=B[1],J=R((0,l.useState)(!1),2),K=J[0],Q=J[1],Z=(0,l.useMemo)((function(){return b?H.filter((function(t){return t.title.toLowerCase().includes(b.toLocaleLowerCase())})):H}),[b,f,H]),X=function(t){t.stopPropagation();var e=t.target.value?t.target.value:t.target.dataset.customValue,n=t.target.dataset.customId,i=null==r?void 0:r.findIndex((function(t){return t.id==n}));if(u)if(i>=0){var l=y;p(L(y),l[h].action_values.value.splice(i,1)),o(r.filter((function(t){return t.id!=n})))}else{var a=y;a[h].action_values.value=[].concat(L(r),[{id:n,title:e}]),p(a),o([].concat(L(r),[{id:n,title:e}]))}else o(i>=0?[]:[{id:n,title:e}])},tt=function(){var t=k(O().mark((function t(){var e;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e={title:b},(0,S.c)(a,e).then((function(t){if("success"===(null==t?void 0:t.status)){_(""),z(""),o([].concat(L(r),[{id:null==t?void 0:t.data,title:e.title}]));var n=y;n[h].action_values.value=[].concat(L(r),[{id:null==t?void 0:t.data,title:e.title}]),p(n),D("success"),I(!0),A(null==t?void 0:t.message),v(!f)}else D("warning"),I(!0),A(null==t?void 0:t.message);(0,x.bd)(!1,I)})),W(!1);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,l.useEffect)((function(){function t(){return(t=k(O().mark((function t(){var e,n;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Q(!0),e="mrm/v1/".concat(a,"?").concat(Y),t.next=4,i()({path:e});case 4:"success"==(n=t.sent).status&&($(n.data.data),Q(!1));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[Y,a,f]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("ul",{className:t.isActive?"add-contact mintmrm-dropdown show":"add-contact mintmrm-dropdown",children:[(0,C.jsx)("li",{className:"searchbar",children:(0,C.jsxs)("span",{className:"pos-relative",children:[(0,C.jsx)(N.A,{}),(0,C.jsx)("input",{type:"search",name:"column-search",placeholder:null===(e=window)||void 0===e||null===(e=e.MRM_Vars)||void 0===e||null===(e=e.mint_trans)||void 0===e?void 0:e.SearchOrCreate,value:b,onChange:function(t){Q(!0),t.stopPropagation(),t.preventDefault();var e=t.target.value;_(e),e.length>=1?z("&search=".concat(e)):z(""),e.length&&W(!1),Q(!1)}})]})}),K?(0,C.jsx)(m.A,{type:"table-full-six"}):(0,C.jsxs)(C.Fragment,{children:[0===H.length||0===Z.length?(0,C.jsxs)("li",{className:"list-title not-found",children:["No ",c," Found"]}):(0,C.jsx)("li",{className:"list-title",children:d}),(0,C.jsx)("div",{className:"option-section",children:(null==Z?void 0:Z.length)>0&&Z.map((function(t,e){var n,i=(n=t.id,(null==r?void 0:r.findIndex((function(t){return t.id==n})))>=0);return(0,C.jsx)("li",{className:i?"single-column mrm-custom-select-single-column-selected":"single-column",children:(0,C.jsxs)("div",{className:"mintmrm-checkbox",children:[(0,C.jsx)("input",{type:"checkbox",name:t.id,id:h+t.id,value:t.title,"data-custom-id":t.id,onChange:X,checked:i}),(0,C.jsx)("label",{htmlFor:h+t.id,className:"mrm-custom-select-label",children:t.title})]})},e)}))}),0===H.length||b&&s?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("button",{className:q?"mrm-custom-select-add-btn":"mrm-custom-select-add-btn show",onClick:function(){W(!0)},children:[(0,C.jsx)(M.A,{})," Add ",c]}),(0,C.jsxs)("div",{className:q?"add-item-input-wrapper show":"add-item-input-wrapper",children:[(0,C.jsx)("input",{type:"text",placeholder:"Enter "+c+" Name",value:b,onChange:function(t){return _(t.target.value)}}),(0,C.jsx)("button",{className:"mintmrm-btn",onClick:tt,children:null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.Save})]})]}):null]})]}),V&&(0,C.jsx)(g.A,{setShowNotification:I,message:E,notificationType:T,setNotificationType:D})]})}const F=(0,l.memo)(I);var T=n(4983),D=n(9431),G=n(5919),q=n(9514),W=n(6005),U=n(9185);function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){H(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function H(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Y(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Y(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $(){$=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,l=Object.create(o.prototype),a=new A(r||[]);return i(l,"_invoke",{value:N(t,n,a)}),l}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",v="suspendedYield",h="executing",p="completed",m={};function y(){}function g(){}function w(){}var b={};s(b,l,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(k([])));x&&x!==n&&r.call(x,l)&&(b=x);var j=w.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function M(t,e){function n(i,o,l,a){var u=d(t[i],t,o);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==Y(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,l,a)}),(function(t){n("throw",t,l,a)})):e.resolve(c).then((function(t){s.value=t,l(s)}),(function(t){return n("throw",t,l,a)}))}a(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function N(e,n,r){var i=f;return function(o,l){if(i===h)throw Error("Generator is already running");if(i===p){if("throw"===o)throw l;return{value:t,done:!0}}for(r.method=o,r.arg=l;;){var a=r.delegate;if(a){var u=C(a,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var s=d(e,n,r);if("normal"===s.type){if(i=r.done?p:v,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=p,r.method="throw",r.arg=s.arg)}}}function C(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var l=o.arg;return l?l.done?(n[e.resultName]=l.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):l:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function k(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(Y(e)+" is not iterable")}return g.prototype=w,i(j,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},S(M.prototype),s(M.prototype,a,(function(){return this})),e.AsyncIterator=M,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var l=new M(c(t,n,r,i),o);return e.isGeneratorFunction(n)?l:l.next().then((function(t){return t.done?t.value:l.next()}))},S(j),s(j,u,"Generator"),s(j,l,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=k,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],a=l.completion;if("root"===l.tryLoc)return i("end");if(l.tryLoc<=this.prev){var u=r.call(l,"catchLoc"),s=r.call(l,"finallyLoc");if(u&&s){if(this.prev<l.catchLoc)return i(l.catchLoc,!0);if(this.prev<l.finallyLoc)return i(l.finallyLoc)}else if(u){if(this.prev<l.catchLoc)return i(l.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return i(l.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=t,l.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(l)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:k(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function J(t,e,n,r,i,o,l){try{var a=t[o](l),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}function K(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function l(t){J(o,r,i,l,a,"next",t)}function a(t){J(o,r,i,l,a,"throw",t)}l(void 0)}))}}function Q(t){return function(t){if(Array.isArray(t))return tt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||X(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,l,a=[],u=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(t){s=!0,i=t}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw i}}return a}}(t,e)||X(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(t,e){if(t){if("string"==typeof t)return tt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(t,e):void 0}}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var et=function(t){var e,n,r,i,a,u,s,c,d,f,v,h,p,m,y,g,w,b,_,x,j,S,M,N,E,O,A,k=t.index,L=t.fields,R=(t.loader,t.conditionsLength),P=t.textFieldCondition,V=t.numberFieldCondition,I=t.dateFieldCondition,Y=t.statusFieldCondition,z=t.listsTagsFieldCondition,H=t.statusFieldAction,J=t.segmentCondition,X=t.setSegmentConditions,tt=t.segmentConditions,et=t.lists,nt=t.tags,rt=t.customFieldCondition,it=(t.setIsPro,t.booleanFieldCondition),ot=t.wcSelectFieldCondition,lt=Z((0,l.useState)(!1),2),at=lt[0],ut=lt[1],st=Z((0,l.useState)(!1),2),ct=st[0],dt=st[1],ft=Z((0,l.useState)(!0),2),vt=ft[0],ht=ft[1],pt=Z((0,l.useState)(!1),2),mt=pt[0],yt=pt[1],gt=Z((0,l.useState)(!1),2),wt=gt[0],bt=gt[1],_t=Z((0,l.useState)(""),2),xt=_t[0],jt=_t[1],St=(0,l.useRef)(null),Mt=(0,l.useRef)(null),Nt=(0,l.useRef)(null),Ct=(0,l.useRef)(null),Et=(0,l.useRef)(null),Ot=(0,l.useRef)(null),At=Z((0,l.useState)([]),2),kt=At[0],Lt=At[1],Rt=Z((0,l.useState)([]),2),Pt=Rt[0],Vt=Rt[1],It=Z((0,l.useState)(""),2),Ft=(It[0],It[1]),Tt=Z((0,l.useState)(""),2),Dt=(Tt[0],Tt[1]),Gt=Z((0,l.useState)(!1),2),qt=Gt[0],Wt=Gt[1],Ut=Z((0,l.useState)(!1),2),Yt=Ut[0],zt=Ut[1],Bt=Z((0,l.useState)(""),2),Ht=Bt[0],$t=Bt[1],Jt=Z((0,l.useState)(!1),2),Kt=Jt[0],Qt=Jt[1],Zt=Z((0,l.useState)([]),2),Xt=Zt[0],te=Zt[1],ee=Z((0,l.useState)([]),2),ne=ee[0],re=ee[1],ie=Z((0,l.useState)([]),2),oe=ie[0],le=ie[1],ae=Z((0,l.useState)([]),2),ue=ae[0],se=ae[1],ce=Z((0,l.useState)("Please enter 3 or more characters"),2),de=ce[0],fe=ce[1];console.log(ne);var ve=function(){var t=K($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:tt.splice(k,1),X(Q(tt));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),he=function(t){X((function(e){var n,r,i;return[].concat(Q(e),[{field_type:"input-text",field:{label:null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.SelectFieldType,type:"",value:""},action_condition:{label:null===(r=window)||void 0===r||null===(r=r.MRM_Vars)||void 0===r||null===(r=r.mint_trans)||void 0===r?void 0:r.SelectCondition,type:"",value:""},action_values:{label:null===(i=window)||void 0===i||null===(i=i.MRM_Vars)||void 0===i||null===(i=i.mint_trans)||void 0===i?void 0:i.SelectAction,type:"",value:[]},lists:{list:[],selected:[]},tags:{tag:[],selected:[]},condition_logic:t}])}))},pe=function(t){"field-type"===t?dt(!ct):"field-condition"===t?yt(!mt):bt(!wt)};(0,G.c7)(St,dt),(0,G.c7)(Mt,yt),(0,G.c7)(Ot,ut),(0,G.c7)(Nt,bt),(0,G.c7)(Ct,Wt),(0,G.c7)(Et,zt);var me=function(t,e,n){jt(n),yt(!1);var r=tt;r[k].action_condition.label=e,r[k].action_condition.type=t,r[k].action_condition.value=n,X(r)},ye=function(t,e,n){Ft(n),bt(!1);var r=tt;r[k].action_values.label=e,r[k].action_values.type=t,r[k].action_values.value=n,X(r)},ge=function(t,e){Dt(t.target.value);var n=tt;n[k].action_values.value=t.target.value,n[k].action_values.type=e,X(n)},we=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=tt;Dt(t.target.value),"start"===n?r[k].action_values.value=t.target.value:"end"===n&&(r[k].action_values.endDate=t.target.value),r[k].action_values.type=e,X(r)};(0,l.useEffect)((function(){var t,e=!0;if(e)return(t=tt)[k].lists.list=Q(et),t[k].lists.selected=Q(kt),X(t),function(){e=!1}}),[et,kt,Lt]),(0,l.useEffect)((function(){var t,e=!0;if(e)return(t=tt)[k].tags.tag=Q(nt),t[k].tags.selected=Q(Pt),X(t),function(){e=!1}}),[nt,Pt,Vt]);var be=J.condition_logic,_e=window.MRM_Vars.is_mailmint_pro_license_active;(0,l.useEffect)((function(){$t(""),Qt(!1)}),[ct]),(0,l.useEffect)((function(){Qt(!0)}),[Ht]);var xe=function(t){return(0,C.jsx)(q.c.NoOptionsMessage,B(B({},t),{},{children:(0,C.jsx)("span",{children:de})}))},je=function(){var t=K($().mark((function t(e){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length>=3)){t.next=4;break}return fe((0,o.__)("Fetching options...","mrm")),t.next=4,(0,U.AH)(e,"wc").then((function(t){t.success&&(0===t.products.length?fe((0,o.__)("No product found","mrm")):(te(t.products),fe((0,o.__)("Please enter 3 or more characters","mrm"))))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Se=function(){var t=K($().mark((function t(e){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length>=3)){t.next=4;break}return fe((0,o.__)("Fetching options...","mrm")),t.next=4,(0,U.DV)(e,"wc").then((function(t){t.success&&(0===t.category.length?fe((0,o.__)("No category found","mrm")):(re(t.category),fe((0,o.__)("Please enter 3 or more characters","mrm"))))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Me=function(){var t=K($().mark((function t(e){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length>=3)){t.next=4;break}return fe((0,o.__)("Fetching options...","mrm")),t.next=4,(0,U.lp)(e,"wc").then((function(t){t.success&&(0===t.tags.length?fe((0,o.__)("No tag found","mrm")):(le(t.tags),fe((0,o.__)("Please enter 3 or more characters","mrm"))))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ne=function(){var t=K($().mark((function t(e){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length>=3)){t.next=4;break}return fe((0,o.__)("Fetching options...","mrm")),t.next=4,(0,U.Q3)(e).then((function(t){t.success&&(0===t.coupons.length?fe((0,o.__)("No coupon found","mrm")):(se(t.coupons),fe((0,o.__)("Please enter 3 or more characters","mrm"))))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:R>1?"single-condition more-than-one-condition":"single-condition only-one-condition",children:[(0,C.jsxs)("ul",{className:"single-condition-inner",children:[(0,C.jsx)("li",{className:"single-condition-filed field-type",children:(0,C.jsxs)("div",{ref:St,className:ct?"mrm-custom-select-container show-dropdown":"mrm-custom-select-container",children:[(0,C.jsx)("button",{className:"Select Field Type"!==J.field.label?"mrm-custom-select-btn focus":"mrm-custom-select-btn",type:"button",onClick:function(){return pe("field-type")},children:J.field.label}),(0,C.jsx)("ul",{className:"mintmrm-dropdown mrm-custom-select-dropdown",children:Object.keys(L).map((function(t,e){var n=L[t];return(0,C.jsxs)("div",{children:[(0,C.jsx)("li",{className:"has-sub-dropdown ".concat(t===Ht&&Kt?"show":""),onClick:function(){return function(t){$t(t),Qt(!Kt)}(t)},children:t},e),t===Ht&&Kt&&n.map((function(t,e){return(0,C.jsx)("li",{className:"group-item",onClick:function(){return function(t,e,n,r){var i;dt(!1);var o=tt;o[k].field.label=e,o[k].field.type=t,o[k].field.value=n,o[k].field.options=r,o[k].action_values.value=[],o[k].action_condition.label=null===(i=window)||void 0===i||null===(i=i.MRM_Vars)||void 0===i||null===(i=i.mint_trans)||void 0===i?void 0:i.SelectCondition,X(o)}(t.type,t.label,t.value,null==t?void 0:t.options)},children:t.label},e)}))]},e)}))})]})}),(0,C.jsx)("li",{className:"single-condition-filed field-condition",children:(0,C.jsxs)("div",{ref:Mt,className:mt?"mrm-custom-select-container show-dropdown":"mrm-custom-select-container",children:[(0,C.jsx)("button",{className:"Select Condition"!==J.action_condition.label?"mrm-custom-select-btn focus":"mrm-custom-select-btn",type:"button",onClick:function(){return pe("field-condition")},children:J.action_condition.label}),(0,C.jsxs)("ul",{className:"mintmrm-dropdown mrm-custom-select-dropdown",children:["email"===J.field.type||"name"===J.field.type||"address"===J.field.type||""===J.field.type||"text"===J.field.type||"textArea"===J.field.type?P.map((function(t,e){return(0,C.jsx)("li",{onClick:function(){return me(J.field.type,t.label,t.value)},value:t.value,children:t.label},e)})):null,"status"===J.field.type?Y.map((function(t,e){return(0,C.jsx)("li",{onClick:function(){return me(t.type,t.label,t.value)},value:t.value,children:t.label},e)})):null,"list"===J.field.type||"selectField"===J.field.type||"radioField"===J.field.type?z.map((function(t,e){return(0,C.jsx)("li",{onClick:function(){return me(t.type,t.label,t.value)},value:t.value,children:t.label},e)})):null,"checkboxField"===J.field.type?rt.map((function(t,e){return(0,C.jsx)("li",{onClick:function(){return me(t.type,t.label,t.value)},value:t.value,children:t.label},e)})):null,"tag"===J.field.type?z.map((function(t,e){return(0,C.jsx)("li",{onClick:function(){return me(t.type,t.label,t.value)},value:t.value,children:t.label},e)})):null,"number"===J.field.type?V.map((function(t,e){return(0,C.jsx)("li",{onClick:function(){return me(t.type,t.label,t.value)},value:t.value,children:t.label},e)})):null,"date"===J.field.type?I.map((function(t,e){return(0,C.jsx)("li",{onClick:function(){return me(t.type,t.label,t.value)},value:t.value,children:t.label},e)})):null,"boolean"===J.field.type?it.map((function(t,e){return(0,C.jsx)("li",{onClick:function(){return me(J.field.type,t.label,t.value)},value:t.value,children:t.label},e)})):null,"wc_select"===J.field.type?ot.map((function(t,e){return(0,C.jsx)("li",{onClick:function(){return me(t.type,t.label,t.value)},value:t.value,children:t.label},e)})):null]})]})}),(0,C.jsxs)("li",{className:"single-condition-filed field-action",children:["email"===J.field.type||"name"===J.field.type||"address"===J.field.type||""===J.field.type||"text"===J.field.type||"textArea"===J.field.type?(0,C.jsx)("input",{type:"text",placeholder:"Enter value",value:J.action_values.value,onChange:function(t){return ge(t,J.field.type)}}):null,"number"===J.field.type?(0,C.jsx)("input",{type:"number",onKeyDown:function(t){return["e","E"].includes(t.key)&&t.preventDefault()},placeholder:"Enter value",value:J.action_values.value,onChange:function(t){return ge(t,J.field.type)}}):null,"date"===(null==J||null===(e=J.field)||void 0===e?void 0:e.type)&&"in_the_between_dates"!==(null==J||null===(n=J.action_condition)||void 0===n?void 0:n.value)?(0,C.jsx)("input",{type:"date",placeholder:"Enter value",value:null==J||null===(r=J.action_values)||void 0===r?void 0:r.value,onChange:function(t){var e;return ge(t,null==J||null===(e=J.field)||void 0===e?void 0:e.type)}}):null,"date"===(null==J||null===(i=J.field)||void 0===i?void 0:i.type)&&"in_the_between_dates"===(null==J||null===(a=J.action_condition)||void 0===a?void 0:a.value)?(0,C.jsxs)("div",{className:"date-input",children:[(0,C.jsx)("input",{type:"date",placeholder:"Enter value",value:null==J||null===(u=J.action_values)||void 0===u?void 0:u.value,onChange:function(t){var e;return we(t,null==J||null===(e=J.field)||void 0===e?void 0:e.type,"start")}}),(0,C.jsx)("span",{className:"and-text",children:"and"}),(0,C.jsx)("input",{type:"date",placeholder:"Enter value",value:null==J||null===(s=J.action_values)||void 0===s?void 0:s.endDate,onChange:function(t){var e;return we(t,null==J||null===(e=J.field)||void 0===e?void 0:e.type,"end")}})]}):null,"status"===J.field.type?(0,C.jsxs)("div",{ref:Nt,className:wt?"mrm-custom-select-container show-dropdown":"mrm-custom-select-container",children:[(0,C.jsx)("button",{className:"Select Action"!==J.action_values.label?"mrm-custom-select-btn focus":"mrm-custom-select-btn",type:"button",onClick:function(){return pe("field-action")},children:J.action_values.label}),(0,C.jsx)("ul",{className:"mintmrm-dropdown mrm-custom-select-dropdown",children:H.map((function(t,e){return(0,C.jsx)("li",{onClick:function(){return ye("status",t.label,t.value)},value:t.value,children:t.label},e)}))})]}):null,"selectField"===J.field.type||"radioField"===J.field.type||"checkboxField"===J.field.type?(0,C.jsxs)("div",{ref:Nt,className:wt?"mrm-custom-select-container show-dropdown":"mrm-custom-select-container",children:[(0,C.jsx)("button",{className:"Select Action"!==J.action_values.label?"mrm-custom-select-btn focus":"mrm-custom-select-btn",type:"button",onClick:function(){return pe("field-action")},children:J.action_values.label}),(0,C.jsx)("ul",{className:"mintmrm-dropdown mrm-custom-select-dropdown",children:J.field.options.map((function(t,e){return(0,C.jsx)("li",{onClick:function(){return ye("status",t,t)},value:t,children:t},e)}))})]}):null,"list"===J.field.type?"without-any-list"===xt?null:(0,C.jsxs)("div",{ref:Ct,className:"mrm-custom-select-container",children:[(0,C.jsx)("button",{className:qt?"drop-down-button show":"drop-down-button",type:"button",onClick:function(){_e&&Wt(!qt)},children:0!==J.action_values.value.length?null===(c=J.action_values.value)||void 0===c?void 0:c.map((function(t){return(0,C.jsxs)("span",{className:"single-list mintmrm-tag-list",children:[t.title,(0,C.jsx)("span",{className:"close-list",title:"Delete",onClick:function(e){return function(t,e){t.stopPropagation();var n=kt.findIndex((function(t){return t.id===e})),r=J.action_values.value.findIndex((function(t){return t.id===e}));0<=r&&(Lt(kt.filter((function(t){return t.id!==e}))),X(Q(tt),J.action_values.value.splice(r,1))),0<=n&&Lt(kt.filter((function(t){return t.id!==e})))}(e,t.id)},children:(0,C.jsx)(T.A,{})})]},t.id)})):J.action_values.label}),(0,C.jsx)(F,{isActive:qt,setIsActive:Wt,selected:J.action_values.value,setSelected:Lt,endpoint:"lists",allowMultiple:!0,allowNewCreate:!0,name:"list",title:null===(d=window)||void 0===d||null===(d=d.MRM_Vars)||void 0===d||null===(d=d.mint_trans)||void 0===d?void 0:d.CHOOSELIST,refresh:vt,setRefresh:ht,prefix:k,setSegmentConditions:X,segmentConditions:tt})]}):null,"tag"===J.field.type?"without-any-tag"===xt?null:(0,C.jsxs)("div",{ref:Et,className:"mrm-custom-select-container",children:[(0,C.jsx)("button",{className:Yt?"drop-down-button show":"drop-down-button",type:"button",onClick:function(){_e&&zt(!Yt)},children:J.action_values.value.length?null===(f=J.action_values.value)||void 0===f?void 0:f.map((function(t,e){return(0,C.jsxs)("span",{className:"single-list mintmrm-tag-list",children:[t.title,(0,C.jsx)("span",{className:"close-list",title:"Delete",onClick:function(e){return function(t,e){t.stopPropagation();var n=Pt.findIndex((function(t){return t.id===e})),r=J.action_values.value.findIndex((function(t){return t.id===e}));0<=r&&(Vt(Pt.filter((function(t){return t.id!==e}))),X(Q(tt),J.action_values.value.splice(r,1))),0<=n&&Vt(Pt.filter((function(t){return t.id!==e})))}(e,t.id)},children:(0,C.jsx)(T.A,{})})]},t.id)})):J.action_values.label}),(0,C.jsx)(F,{isActive:Yt,setIsActive:zt,selected:J.action_values.value,setSelected:Vt,endpoint:"tags",allowMultiple:!0,allowNewCreate:!0,name:"tag",title:null===(v=window)||void 0===v||null===(v=v.MRM_Vars)||void 0===v||null===(v=v.mint_trans)||void 0===v?void 0:v.CHOOSETAG,refresh:vt,setRefresh:ht,prefix:k,setSegmentConditions:X,segmentConditions:tt})]}):null,"wc_select"===(null==J||null===(h=J.field)||void 0===h?void 0:h.type)&&"purchased_products"===(null==J||null===(p=J.field)||void 0===p?void 0:p.value)?(0,C.jsx)("div",{className:"mrm-custom-select-container",children:(0,C.jsx)(W.Ay,{name:"select-two",components:{NoOptionsMessage:xe},value:null!==(m=J.action_values.value)&&void 0!==m?m:"",onChange:function(t){var e;!function(t,e){var n=Q(tt);n[k].action_values.value=t,n[k].action_values.type=e,X(n)}(t,null==J||null===(e=J.field)||void 0===e?void 0:e.type)},onInputChange:function(t){je(t)},options:Xt,isMulti:"true",placeholder:null===(y=window)||void 0===y||null===(y=y.MRM_Vars)||void 0===y||null===(y=y.mint_trans)||void 0===y?void 0:y.Search,isSearchable:!0})}):null,"wc_select"===(null==J||null===(g=J.field)||void 0===g?void 0:g.type)&&"purchased_categories"===(null==J||null===(w=J.field)||void 0===w?void 0:w.value)?(0,C.jsx)("div",{className:"mrm-custom-select-container",children:(0,C.jsx)(W.Ay,{name:"select-two",components:{NoOptionsMessage:xe},value:null!==(b=J.action_values.value)&&void 0!==b?b:"",onChange:function(t){var e;!function(t,e){var n=Q(tt);n[k].action_values.value=t,n[k].action_values.type=e,X(n)}(t,null==J||null===(e=J.field)||void 0===e?void 0:e.type)},onInputChange:function(t){Se(t)},options:ne,isMulti:"true",placeholder:null===(_=window)||void 0===_||null===(_=_.MRM_Vars)||void 0===_||null===(_=_.mint_trans)||void 0===_?void 0:_.Search,isSearchable:!0})}):null,"wc_select"===(null==J||null===(x=J.field)||void 0===x?void 0:x.type)&&"purchased_tags"===(null==J||null===(j=J.field)||void 0===j?void 0:j.value)?(0,C.jsx)("div",{className:"mrm-custom-select-container",children:(0,C.jsx)(W.Ay,{name:"select-two",components:{NoOptionsMessage:xe},value:null!==(S=J.action_values.value)&&void 0!==S?S:"",onChange:function(t){var e;!function(t,e){var n=Q(tt);n[k].action_values.value=t,n[k].action_values.type=e,X(n)}(t,null==J||null===(e=J.field)||void 0===e?void 0:e.type)},onInputChange:function(t){Me(t)},options:oe,isMulti:"true",placeholder:null===(M=window)||void 0===M||null===(M=M.MRM_Vars)||void 0===M||null===(M=M.mint_trans)||void 0===M?void 0:M.Search,isSearchable:!0})}):null,"wc_select"===(null==J||null===(N=J.field)||void 0===N?void 0:N.type)&&"used_coupons"===(null==J||null===(E=J.field)||void 0===E?void 0:E.value)?(0,C.jsx)("div",{className:"mrm-custom-select-container",children:(0,C.jsx)(W.Ay,{name:"select-two",components:{NoOptionsMessage:xe},value:null!==(O=J.action_values.value)&&void 0!==O?O:"",onChange:function(t){var e;!function(t,e){var n=Q(tt);n[k].action_values.value=t,n[k].action_values.type=e,X(n)}(t,null==J||null===(e=J.field)||void 0===e?void 0:e.type)},onInputChange:function(t){Ne(t)},options:ue,isMulti:"true",placeholder:null===(A=window)||void 0===A||null===(A=A.MRM_Vars)||void 0===A||null===(A=A.mint_trans)||void 0===A?void 0:A.Search,isSearchable:!0})}):null]}),R>1&&(0,C.jsx)("li",{className:"single-condition-filed delete-condition",children:(0,C.jsx)("button",{type:"button",title:"Delete this Condition",onClick:function(t){return ve()},children:(0,C.jsx)(D.A,{})})})]}),(0,C.jsx)("div",{className:"condition-repeater",children:(0,C.jsxs)("span",{ref:Ot,className:at?"add-condition show-dropdown":"add-condition",title:"Add Condition",onClick:function(){ut(!at)},children:[(0,C.jsxs)("svg",{width:"22",height:"22",fill:"none",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsxs)("g",{fill:"#573BFF",clipPath:"url(#clip0_616_1195)",children:[(0,C.jsx)("path",{d:"M13 0C5.831 0 0 5.831 0 13s5.831 13 13 13 13-5.832 13-13S20.169 0 13 0zm0 23.986C6.943 23.986 2.014 19.058 2.014 13 2.014 6.942 6.944 2.014 13 2.014c6.057 0 10.986 4.928 10.986 10.986 0 6.058-4.928 10.986-10.986 10.986z"}),(0,C.jsx)("path",{d:"M18.035 11.902h-4.028V7.875a1.007 1.007 0 10-2.014 0v4.027H7.965a1.007 1.007 0 100 2.014h4.028v4.028a1.007 1.007 0 102.014 0v-4.027h4.028a1.007 1.007 0 100-2.014z"})]}),(0,C.jsx)("defs",{children:(0,C.jsx)("clipPath",{id:"clip0_616_1195",children:(0,C.jsx)("path",{fill:"#fff",d:"M0 0h26v26H0z"})})})]}),(0,C.jsxs)("ul",{className:"conditions mintmrm-dropdown",children:[(0,C.jsx)("li",{onClick:function(){return he("AND")},children:"AND"}),(0,C.jsx)("li",{onClick:function(){return he("OR")},children:"OR"})]})]})}),(0,C.jsxs)("div",{className:"condition-symbol",children:["AND"===be&&(0,C.jsx)("span",{className:"symbol-and",children:"&"}),"OR"===be&&(0,C.jsx)("span",{className:"symbol-or",children:"or"})]})]})})};const nt=(0,l.memo)(et);var rt=n(5270);function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(n),!0).forEach((function(e){at(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function at(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=it(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==it(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ut(){ut=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,l=Object.create(o.prototype),a=new A(r||[]);return i(l,"_invoke",{value:N(t,n,a)}),l}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",v="suspendedYield",h="executing",p="completed",m={};function y(){}function g(){}function w(){}var b={};s(b,l,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(k([])));x&&x!==n&&r.call(x,l)&&(b=x);var j=w.prototype=y.prototype=Object.create(b);function S(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function M(t,e){function n(i,o,l,a){var u=d(t[i],t,o);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==it(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,l,a)}),(function(t){n("throw",t,l,a)})):e.resolve(c).then((function(t){s.value=t,l(s)}),(function(t){return n("throw",t,l,a)}))}a(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function N(e,n,r){var i=f;return function(o,l){if(i===h)throw Error("Generator is already running");if(i===p){if("throw"===o)throw l;return{value:t,done:!0}}for(r.method=o,r.arg=l;;){var a=r.delegate;if(a){var u=C(a,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var s=d(e,n,r);if("normal"===s.type){if(i=r.done?p:v,s.arg===m)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(i=p,r.method="throw",r.arg=s.arg)}}}function C(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var l=o.arg;return l?l.done?(n[e.resultName]=l.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):l:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function k(e){if(e||""===e){var n=e[l];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(it(e)+" is not iterable")}return g.prototype=w,i(j,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},S(M.prototype),s(M.prototype,a,(function(){return this})),e.AsyncIterator=M,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var l=new M(c(t,n,r,i),o);return e.isGeneratorFunction(n)?l:l.next().then((function(t){return t.done?t.value:l.next()}))},S(j),s(j,u,"Generator"),s(j,l,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=k,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],a=l.completion;if("root"===l.tryLoc)return i("end");if(l.tryLoc<=this.prev){var u=r.call(l,"catchLoc"),s=r.call(l,"finallyLoc");if(u&&s){if(this.prev<l.catchLoc)return i(l.catchLoc,!0);if(this.prev<l.finallyLoc)return i(l.finallyLoc)}else if(u){if(this.prev<l.catchLoc)return i(l.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return i(l.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=t,l.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(l)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:k(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function st(t,e,n,r,i,o,l){try{var a=t[o](l),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}function ct(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function l(t){st(o,r,i,l,a,"next",t)}function a(t){st(o,r,i,l,a,"throw",t)}l(void 0)}))}}function dt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,l,a=[],u=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(t){s=!0,i=t}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(s)throw i}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ft(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}const vt=function(){var t,e,n,r,o,S,M,N,E,O,A,k,L,R,P,V,I,F,T,D,G,q,W,U,Y,z,B,H,$,J,K,Q,Z,X,tt,et,it,ot,at,st,ft,vt,ht,pt;(0,d.A)("mrm-admin","contacts"),(0,f.A)("Segments - Mail Mint");var mt=localStorage.getItem("malimint-contacts-per-page"),yt=(0,a.Zp)(),gt=(0,a.zy)(),wt=dt((0,l.useState)(!1),2),bt=wt[0],_t=wt[1],xt=(0,a.g)(),jt=dt((0,l.useState)(""),2),St=jt[0],Mt=jt[1],Nt=dt((0,l.useState)(""),2),Ct=Nt[0],Et=Nt[1],Ot=dt((0,l.useState)(""),2),At=Ot[0],kt=Ot[1],Lt=dt((0,l.useState)({}),2),Rt=Lt[0],Pt=Lt[1],Vt=dt((0,l.useState)([]),2),It=Vt[0],Ft=Vt[1],Tt=dt((0,l.useState)(!1),2),Dt=Tt[0],Gt=Tt[1],qt=dt((0,l.useState)([]),2),Wt=qt[0],Ut=qt[1],Yt=dt((0,l.useState)(!1),2),zt=Yt[0],Bt=Yt[1],Ht=[{label:null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.Contains,value:"contains"},{label:null===(e=window)||void 0===e||null===(e=e.MRM_Vars)||void 0===e||null===(e=e.mint_trans)||void 0===e?void 0:e.DoesNotContain,value:"does_not_contain"},{label:null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.StartsWith,value:"starts_with"},{label:null===(r=window)||void 0===r||null===(r=r.MRM_Vars)||void 0===r||null===(r=r.mint_trans)||void 0===r?void 0:r.EndsWith,value:"ends_with"},{label:null===(o=window)||void 0===o||null===(o=o.MRM_Vars)||void 0===o||null===(o=o.mint_trans)||void 0===o?void 0:o.DoesNotStartWith,value:"does_not_start_with"},{label:null===(S=window)||void 0===S||null===(S=S.MRM_Vars)||void 0===S||null===(S=S.mint_trans)||void 0===S?void 0:S.DoesNotEndWith,value:"does_not_end_with"},{label:null===(M=window)||void 0===M||null===(M=M.MRM_Vars)||void 0===M||null===(M=M.mint_trans)||void 0===M?void 0:M.IsEqualTo,value:"are_exactly_in"},{label:null===(N=window)||void 0===N||null===(N=N.MRM_Vars)||void 0===N||null===(N=N.mint_trans)||void 0===N?void 0:N.IsNotEqualTo,value:"are_not_in"}],$t=[{label:null===(E=window)||void 0===E||null===(E=E.MRM_Vars)||void 0===E||null===(E=E.mint_trans)||void 0===E?void 0:E.Before,value:"before"},{label:null===(O=window)||void 0===O||null===(O=O.MRM_Vars)||void 0===O||null===(O=O.mint_trans)||void 0===O?void 0:O.After,value:"after"},{label:null===(A=window)||void 0===A||null===(A=A.MRM_Vars)||void 0===A||null===(A=A.mint_trans)||void 0===A?void 0:A.InTheDate,value:"in_the_date"},{label:null===(k=window)||void 0===k||null===(k=k.MRM_Vars)||void 0===k||null===(k=k.mint_trans)||void 0===k?void 0:k.Between,value:"in_the_between_dates"}],Jt=[{label:null===(L=window)||void 0===L||null===(L=L.MRM_Vars)||void 0===L||null===(L=L.mint_trans)||void 0===L?void 0:L.IncludedIn,value:"wc_select_field_includes_in"},{label:null===(R=window)||void 0===R||null===(R=R.MRM_Vars)||void 0===R||null===(R=R.mint_trans)||void 0===R?void 0:R.NotIncludedIn,value:"wc_select_field_does_not_include_in"}],Kt=[{label:null===(P=window)||void 0===P||null===(P=P.MRM_Vars)||void 0===P||null===(P=P.mint_trans)||void 0===P?void 0:P.GreaterThan,value:"greater_than"},{label:null===(V=window)||void 0===V||null===(V=V.MRM_Vars)||void 0===V||null===(V=V.mint_trans)||void 0===V?void 0:V.LessThan,value:"less_than"},{label:null===(I=window)||void 0===I||null===(I=I.MRM_Vars)||void 0===I||null===(I=I.mint_trans)||void 0===I?void 0:I.Equal,value:"equal"},{label:null===(F=window)||void 0===F||null===(F=F.MRM_Vars)||void 0===F||null===(F=F.mint_trans)||void 0===F?void 0:F.DoesNotEqual,value:"does_not_equal"}],Qt=[{label:null===(T=window)||void 0===T||null===(T=T.MRM_Vars)||void 0===T||null===(T=T.mint_trans)||void 0===T?void 0:T.IncludedIn,value:"custom_field_includes_in"},{label:null===(D=window)||void 0===D||null===(D=D.MRM_Vars)||void 0===D||null===(D=D.mint_trans)||void 0===D?void 0:D.NotIncludedIn,value:"custom_field_does_not_include_in"}],Zt=[{label:null===(G=window)||void 0===G||null===(G=G.MRM_Vars)||void 0===G||null===(G=G.mint_trans)||void 0===G?void 0:G.Yes,value:"is_exist"},{label:null===(q=window)||void 0===q||null===(q=q.MRM_Vars)||void 0===q||null===(q=q.mint_trans)||void 0===q?void 0:q.No,value:"is_not_exist"}],Xt=dt((0,l.useState)([{label:null===(W=window)||void 0===W||null===(W=W.MRM_Vars)||void 0===W||null===(W=W.mint_trans)||void 0===W?void 0:W.IsEqualTo,value:"email_subscription_status_is_equal"},{label:null===(U=window)||void 0===U||null===(U=U.MRM_Vars)||void 0===U||null===(U=U.mint_trans)||void 0===U?void 0:U.DoesNotEqualTo,value:"email_subscription_status_is_not_equal"}]),2),te=Xt[0],ee=(Xt[1],dt((0,l.useState)([{label:null===(Y=window)||void 0===Y||null===(Y=Y.MRM_Vars)||void 0===Y||null===(Y=Y.mint_trans)||void 0===Y?void 0:Y.IncludedIn,value:"groups_includes_in"},{label:null===(z=window)||void 0===z||null===(z=z.MRM_Vars)||void 0===z||null===(z=z.mint_trans)||void 0===z?void 0:z.NotIncludedIn,value:"groups_does_not_include_in"}]),2)),ne=ee[0],re=(ee[1],dt((0,l.useState)([{label:null===(B=window)||void 0===B||null===(B=B.MRM_Vars)||void 0===B||null===(B=B.mint_trans)||void 0===B?void 0:B.Pending,value:"pending"},{label:null===(H=window)||void 0===H||null===(H=H.MRM_Vars)||void 0===H||null===(H=H.mint_trans)||void 0===H?void 0:H.Subscribed,value:"subscribed"},{label:null===($=window)||void 0===$||null===($=$.MRM_Vars)||void 0===$||null===($=$.mint_trans)||void 0===$?void 0:$.Unsubscribed,value:"unsubscribed"}]),2)),ie=re[0],oe=(re[1],dt((0,l.useState)([{field_type:"input-text",field:{label:null===(J=window)||void 0===J||null===(J=J.MRM_Vars)||void 0===J||null===(J=J.mint_trans)||void 0===J?void 0:J.SelectFieldType,type:"",value:""},action_condition:{label:null===(K=window)||void 0===K||null===(K=K.MRM_Vars)||void 0===K||null===(K=K.mint_trans)||void 0===K?void 0:K.SelectCondition,type:"",value:""},action_values:{label:null===(Q=window)||void 0===Q||null===(Q=Q.MRM_Vars)||void 0===Q||null===(Q=Q.mint_trans)||void 0===Q?void 0:Q.SelectAction,type:"",value:[]},lists:{list:[],selected:[]},tags:{tag:[],selected:[]},condition_logic:"AND"}]),2)),le=oe[0],ae=oe[1],ue=dt((0,l.useState)(!1),2),se=ue[0],ce=ue[1],de=dt((0,l.useState)("success"),2),fe=de[0],ve=de[1],he=dt((0,l.useState)(""),2),pe=he[0],me=he[1],ye=dt((0,l.useState)(!1),2),ge=ye[0],we=ye[1],be=dt((0,l.useState)([]),2),_e=be[0],xe=(be[1],dt((0,l.useState)([]),2)),je=xe[0],Se=(xe[1],dt((0,l.useState)(1),2)),Me=Se[0],Ne=Se[1],Ce=dt((0,l.useState)(null!==mt?mt:10),2),Ee=Ce[0],Oe=Ce[1],Ae=dt((0,l.useState)(0),2),ke=Ae[0],Le=Ae[1],Re=dt((0,l.useState)(0),2),Pe=Re[0],Ve=Re[1],Ie=dt((0,l.useState)(!0),2),Fe=Ie[0],Te=Ie[1],De=dt((0,l.useState)(!1),2),Ge=De[0],qe=De[1],We=dt((0,l.useState)(!1),2),Ue=We[0],Ye=We[1],ze=dt((0,l.useState)(!1),2),Be=ze[0],He=ze[1],$e=dt((0,l.useState)([]),2),Je=$e[0],Ke=$e[1],Qe=dt((0,l.useState)([]),2),Ze=Qe[0],Xe=Qe[1],tn=function(t,e){ve(t),ce(!0),me(e),(0,x.bd)(!1,ce)},en=function(t){un?(0,_.cN)(le).then((function(t){var e;Object.keys(t).length>0?(0,_._v)({filters:t},0,Me,Ee).then((function(t){if(200!==t.code)return Promise.reject(t);Ft(t.data.data),Ve(t.data.total_pages),Le(t.data.total_count),_t(!0),qe(!1)})).catch((function(t){_t(!1),tn("warning",t.message)})):tn("warning",null===(e=window)||void 0===e||null===(e=e.MRM_Vars)||void 0===e||null===(e=e.mint_trans)||void 0===e?void 0:e.ConditionWarningMsg)})):He(!0)},nn=function(){var t=ct(ut().mark((function t(){return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:yt("/segments");case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),rn=function(){var t=ct(ut().mark((function t(){return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===St){t.next=3;break}return t.next=3,(0,_.Ow)(St).then((function(t){var e,n,r;200===t.code?(we(!0),Et(t.data.segment_data.title),kt(t.data.segment_data.filters.description),ae(t.data.segment_data.filters.filters),we(!1)):ae([{field_type:"input-text",field:{label:null===(e=window)||void 0===e||null===(e=e.MRM_Vars)||void 0===e||null===(e=e.mint_trans)||void 0===e?void 0:e.SelectFieldType,type:"",value:""},action_condition:{label:null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.SelectCondition,type:"",value:""},action_values:{label:null===(r=window)||void 0===r||null===(r=r.MRM_Vars)||void 0===r||null===(r=r.mint_trans)||void 0===r?void 0:r.SelectAction,type:"",value:[]},condition_logic:"AND"}])}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),on=function(){var t=ct(ut().mark((function t(){return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,_.LL)().then((function(t){Bt(!1),Ut(null==t?void 0:t.data)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ln=function(){var t=ct(ut().mark((function t(){var e;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(un){Ye(!0),e={title:Ct,data:{description:At,filters:le}};try{(0,_.cN)(le).then((function(t){var n;Object.keys(t).length>0?(0,_.Dv)(e,St).then((function(t){Ye(!1),void 0!==t.code&&201===t.code?(ve("success"),ce(!0),me(null==t?void 0:t.message)):(ve("warning"),ce(!0),me(null==t?void 0:t.message))})):(Ye(!1),tn("warning",null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.ConditionWarningMsg))})).then((function(){bt&&(Gt(!0),Gt(!0),Ne(1),Oe(10),Te(!Fe),Gt(!1))}))}catch(t){ve("warning"),ce(!0),me(t.message)}finally{(0,x.bd)(!1,ce)}}else He(!0);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),an=function(){var t=ct(ut().mark((function t(){var e;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:un?(Ye(!0),e={title:Ct,data:{description:At,filters:le}},(0,_.cN)(le).then((function(t){var n;Object.keys(t).length>0?(0,_.Dv)(e).then((function(t){Ye(!1),_t(!1),201===t.code?(yt("../segments/edit/".concat(null==t?void 0:t.data),{state:{status:"segment-created",message:null==t?void 0:t.message}}),Te(!Fe),we(!1),Pt(lt(lt({},Rt),{},{title:""}))):Pt(lt(lt({},Rt),{},{title:null==t?void 0:t.message}))})):(tn("warning",null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.ConditionWarningMsg),Ye(!1))}))):He(!0);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,l.useEffect)((function(){var t=!0;Bt(!0),St&&we(!0);var e=function(){var e=ct(ut().mark((function e(){return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(!St){e.next=5;break}return e.next=5,rn();case 5:return e.next=7,on();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),function(){t=!1}}),[St]),(0,l.useEffect)((function(){var t=!0;return bt&&t&&(Gt(!0),en(),Gt(!1)),function(){t=!1}}),[Me,Ee,Fe]),(0,l.useEffect)((function(){var t,e,n=!0;return"segment-created"===(null===(t=gt.state)||void 0===t?void 0:t.status)&&n&&(ve("success"),ce(!0),me(null===(e=gt.state)||void 0===e?void 0:e.message)),(0,x.bd)(!1,ce),function(){n=!1}}),[]),(0,l.useEffect)((function(){var t=!0;function e(){return(e=ct(ut().mark((function e(){var n;return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n={method:"GET"},i()(lt({path:"mrm/v1/columns"},n)).then((function(t){return t})).then((function(e){t&&200==e.code&&(Ke(e.data.list_columns),Xe(e.data.stored_columns))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){t=!1}}),[Fe]);var un=window.MRM_Vars.is_mailmint_pro_license_active;return(0,l.useEffect)((function(){Mt(null==xt?void 0:xt.id)}),[null==xt?void 0:xt.id]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"add-segment-page",children:(0,C.jsxs)("div",{className:"mintmrm-container",children:[(0,C.jsx)(u.N_,{to:"/segments",children:(0,C.jsxs)("button",{className:"backto-segment",children:[(0,C.jsx)(v.A,{}),null===(Z=window)||void 0===Z||null===(Z=Z.MRM_Vars)||void 0===Z||null===(Z=Z.mint_trans)||void 0===Z?void 0:Z.Back]})}),(0,C.jsx)("h4",{className:"add-segment-title",children:St?null===(X=window)||void 0===X||null===(X=X.MRM_Vars)||void 0===X||null===(X=X.mint_trans)||void 0===X?void 0:X.EditSegment:null===(tt=window)||void 0===tt||null===(tt=tt.MRM_Vars)||void 0===tt||null===(tt=tt.mint_trans)||void 0===tt?void 0:tt.AddSegment}),ge?(0,C.jsx)(m.A,{type:"table"}):(0,C.jsxs)("div",{className:"segment-wrapper",children:[(0,C.jsxs)("div",{className:"segment-header",children:[(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsxs)("label",{htmlFor:"",children:[null===(et=window)||void 0===et||null===(et=et.MRM_Vars)||void 0===et||null===(et=et.mint_trans)||void 0===et?void 0:et.SegmentName," ",(0,C.jsx)("span",{children:"*"})]}),(0,C.jsx)("input",{type:"text",name:"segment_name",placeholder:null===(it=window)||void 0===it||null===(it=it.MRM_Vars)||void 0===it||null===(it=it.mint_trans)||void 0===it?void 0:it.EnterName,autoComplete:"off",value:Ct,onChange:function(t){return Et(t.target.value)}}),(0,C.jsx)("p",{className:null!=Rt&&Rt.title?"error-message show":"error-message",children:null==Rt?void 0:Rt.title})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"",children:"Segment Description"}),(0,C.jsx)("input",{type:"text",name:"segment_description",placeholder:null===(ot=window)||void 0===ot||null===(ot=ot.MRM_Vars)||void 0===ot||null===(ot=ot.mint_trans)||void 0===ot?void 0:ot.EnterDescription,autoComplete:"off",value:At,onChange:function(t){return kt(t.target.value)}})]})]}),(0,C.jsx)("div",{className:"segment-condition-wrapper",children:le.map((function(t,e){return(0,C.jsx)(nt,{index:e,fields:Wt,textFieldCondition:Ht,numberFieldCondition:Kt,dateFieldCondition:$t,customFieldCondition:Qt,booleanFieldCondition:Zt,segmentConditions:le,statusFieldCondition:te,listsTagsFieldCondition:ne,wcSelectFieldCondition:Jt,statusFieldAction:ie,conditionsLength:le.length,segmentCondition:t,setSegmentConditions:ae,lists:_e,tags:je,loader:zt,setIsPro:He},e)}))}),(0,C.jsxs)("button",{className:"preview-segment",title:"Click to Preview Contacts",onClick:en,children:[null===(at=window)||void 0===at||null===(at=at.MRM_Vars)||void 0===at||null===(at=at.mint_trans)||void 0===at?void 0:at.PreviewSegment,(0,C.jsx)(h.A,{})]})]}),bt&&Dt&&(0,C.jsx)(m.A,{type:"table"}),bt&&!Dt&&(0,C.jsxs)("div",{className:"preview-contact-wrapper contact-list-area",children:[(0,C.jsxs)("div",{className:"contact-list-header",children:[(0,C.jsxs)("h4",{children:[ke," ",1<ke?"Contacts":"Contact"]}),(0,C.jsx)(c.A,{handleRefresh:function(){Te((function(t){return!t})),qe(!0)},refreshToggle:Ge})]}),(0,C.jsx)("div",{className:"preview-contact-list",children:(0,C.jsx)("div",{className:"contact-list-area",children:(0,C.jsx)("div",{className:"contact-list-body",children:(0,C.jsx)("div",{className:"contact-list-table",children:(0,C.jsxs)("table",{children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"email",children:null===(st=Je.find((function(t){return"email"===t.id})))||void 0===st?void 0:st.value}),null==Ze?void 0:Ze.map((function(t){var e=Je.find((function(e){return e.id===t.id}));if(e)return(0,C.jsx)("th",{className:e.id,children:e.value},e.id)}))]})}),(0,C.jsxs)("tbody",{children:[!(null!=It&&It.length)&&(0,C.jsx)("tr",{children:(0,C.jsxs)("td",{className:"no-contact",colSpan:"15",style:{textAlign:"center"},children:[(0,C.jsx)(p.A,{}),null===(ft=window)||void 0===ft||null===(ft=ft.MRM_Vars)||void 0===ft||null===(ft=ft.mint_trans)||void 0===ft?void 0:ft.NoContactMsg]})}),It.map((function(t,e){return(0,C.jsx)(j.A,{contact:t,toggleRefresh:"",currentActive:0,setCurrentActive:0,handleSelectOne:function(){},selected:[],columns:Ze,isEditable:!1,listColumns:Je},e)}))]})]})})})})}),(0,C.jsx)(y.A,{currentPage:Me,pageSize:Ee,onPageChange:Ne,totalCount:ke,totalPages:Pe,setPerPage:Oe})]}),(0,C.jsxs)("div",{className:"save-btn-area",children:[(0,C.jsxs)("button",{className:"mintmrm-btn cancel",onClick:nn,children:[" ",null===(vt=window)||void 0===vt||null===(vt=vt.MRM_Vars)||void 0===vt||null===(vt=vt.mint_trans)||void 0===vt?void 0:vt.Cancel," "]}),(0,C.jsxs)("button",{className:"mintmrm-btn save",onClick:St?ln:an,disabled:!!Ue,children:[St?null===(ht=window)||void 0===ht||null===(ht=ht.MRM_Vars)||void 0===ht||null===(ht=ht.mint_trans)||void 0===ht?void 0:ht.Update:null===(pt=window)||void 0===pt||null===(pt=pt.MRM_Vars)||void 0===pt||null===(pt=pt.mint_trans)||void 0===pt?void 0:pt.Save,Ue&&(0,C.jsx)("span",{className:"mintmrm-loader show"}),!un&&(0,C.jsx)("span",{className:"pro-tag-with-icon",children:(0,C.jsx)(rt.A,{width:"18",height:"18"})})]})]})]})}),Be&&(0,C.jsx)("div",{className:"mintmrm-container",children:(0,C.jsx)(b.A,{setIsPro:He,proLink:w.q9})}),se&&(0,C.jsx)(g.A,{setShowNotification:ce,message:pe,notificationType:fe,setNotificationType:ve}),(0,C.jsx)(s.A,{docLink:"https://getwpfunnels.com/docs/mail-mint-contacts/create-segment/",showVideo:"true",videoLink:"https://www.youtube.com/embed/p78-hOd8M1k"})]})}},6005:(t,e,n)=>{n.d(e,{Ay:()=>a});var r=n(2836),i=n(8168),o=n(1609),l=n(8131),a=(n(5815),n(5795),n(7003),(0,o.forwardRef)((function(t,e){var n=(0,r.u)(t);return o.createElement(l.S,(0,i.A)({ref:e},n))})))}}]);
//# sourceMappingURL=edit-segment.min.js.map?ver=1729828711084000