/*! For license information please see emails.min.js.LICENSE.txt */
"use strict";(globalThis.webpackChunk_mmAdmin_webpackJsonp=globalThis.webpackChunk_mmAdmin_webpackJsonp||[]).push([[6100,4259],{9923:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(1609),a=n(4983),i=n(7723),o=n(4479),l=n(4848);function s(e){var t=e.onShowAlert;(0,o.A)(t);var n=function(){t(!1)};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"mintmrm-delete-alert-wrapper",children:(0,l.jsxs)("div",{className:"mintmrm-delete-confirmation",children:[(0,l.jsxs)("div",{className:"delete-confirmation-header",children:[(0,l.jsx)("div",{className:"delete-title",children:(0,l.jsx)("h3",{children:"".concat(window.MRM_Vars.mint_trans.No," ").concat(e.itemName?e.itemName+"s":window.MRM_Vars.mint_trans.items," ").concat(window.MRM_Vars.mint_trans.selected)})}),(0,l.jsxs)("p",{children:[(0,i.__)("Please select at least one ","mrm"),e.itemName?e.itemName:"item",(0,i.__)(" to initiate a bulk action.","mrm")]}),(0,l.jsx)("div",{className:"cross-icon",onClick:n,children:(0,l.jsx)(a.A,{})})]}),(0,l.jsx)("ul",{className:"mintmrm-delete-confirm-btn",children:(0,l.jsx)("li",{children:(0,l.jsx)("button",{className:"mintmrm-btn",onClick:n,children:window.MRM_Vars.mint_trans.Ok})})})]})})})}const c=(0,r.memo)(s)},6450:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(7723),a=n(1609),i=n(5796),o=n(3726),l=n(5315),s=n(4848);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){var t,n,u=e.isOpen,d=e.setIsOpen,m=e.previewData,f=(t=(0,a.useState)("desktop"),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=f[0],p=f[1],v=function(e){p(e)};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"mintmrm-template-modal ".concat(u?"active":""),children:(0,s.jsx)("div",{className:"template-modal-inner",children:(0,s.jsxs)("div",{className:"preview-modal-wrapper",children:[(0,s.jsx)("div",{className:"cross-icon",onClick:function(){d(!1)},children:(0,s.jsx)(i.A,{})}),(0,s.jsx)("h2",{children:(0,r.__)("Email Preview","mrm")}),(0,s.jsxs)("div",{className:"preview-test-email-wrapper",children:[(0,s.jsxs)("div",{className:"preview-test-section",children:[(0,s.jsx)("div",{className:"preview-email-header",children:(0,s.jsxs)("div",{className:"responsive-view-section",children:[(0,s.jsx)("button",{className:"desktop-icon ".concat("desktop"==h?"active":""),onClick:function(){return v("desktop")},children:(0,s.jsx)(o.A,{})}),(0,s.jsx)("button",{className:"mobile-icon ".concat("mobile"==h?"active":""),onClick:function(){return v("mobile")},children:(0,s.jsx)(l.A,{})})]})}),(0,s.jsx)("div",{className:"template-modal-overflow",children:(0,s.jsx)("div",{className:"".concat("mobile"==h?"mobile-view":""),children:(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:null==m?void 0:m.email_body}})})}),(0,s.jsx)("div",{})]}),(0,s.jsxs)("div",{className:"test-email-section",children:[(0,s.jsxs)("p",{className:"email-preview-data",children:[(0,s.jsx)("span",{className:"label",children:(0,r.__)("Status","mrm")}),(0,s.jsx)("span",{className:"value status ".concat(m.status),children:m.status})]}),(0,s.jsxs)("p",{className:"email-preview-data",children:[(0,s.jsx)("span",{className:"label",children:(0,r.__)("Subject","mrm")}),(0,s.jsx)("span",{className:"value",children:m.email_subject})]}),(0,s.jsxs)("p",{className:"email-preview-data",children:[(0,s.jsx)("span",{className:"label",children:(0,r.__)("To","mrm")}),(0,s.jsx)("span",{className:"value",children:m.email_address})]}),(0,s.jsxs)("p",{className:"email-preview-data",children:[(0,s.jsx)("span",{className:"label",children:(0,r.__)("Date","mrm")}),(0,s.jsx)("span",{className:"value",children:m.sent_at})]}),(0,s.jsxs)("p",{className:"email-preview-data",children:[(0,s.jsx)("span",{className:"label",children:(0,r.__)("Opened At","mrm")}),(0,s.jsx)("span",{className:"value",children:m.email_opened_time?m.email_opened_time:"-"})]}),(0,s.jsxs)("p",{className:"email-preview-data",children:[(0,s.jsx)("span",{className:"label",children:(0,r.__)("Clicked At","mrm")}),(0,s.jsx)("span",{className:"value",children:m.email_clicked_time?m.email_clicked_time:"-"})]})]})]})]})})})})};const d=(0,a.memo)(u)},996:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(1609),a=n(4848);function i(){return(0,a.jsxs)("svg",{width:"18",height:"12",fill:"none",viewBox:"0 0 18 12",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{fill:"#686F7F",d:"M9 12c-3.36 0-6.217-2.685-7.612-4.29a2.648 2.648 0 010-3.42C2.783 2.685 5.64 0 9 0c3.36 0 6.218 2.685 7.613 4.29a2.655 2.655 0 010 3.42C15.218 9.315 12.36 12 9 12zM9 1.5c-2.767 0-5.25 2.37-6.487 3.75a1.133 1.133 0 000 1.44C3.75 8.1 6.263 10.44 9 10.44c2.738 0 5.25-2.37 6.488-3.75a1.133 1.133 0 000-1.44C14.25 3.87 11.768 1.5 9 1.5z"}),(0,a.jsx)("path",{fill:"#686F7F",d:"M9 9a3 3 0 110-6 3 3 0 010 6zm0-4.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"})]})}const o=(0,r.memo)(i)},5934:(e,t,n)=>{n.d(t,{A:()=>s}),n(7723);var r=n(1609),a=n(1618),i=n(4848);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t,n,l=e.handleRefresh,s=e.refreshToggle,c=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return c[0],c[1],(0,i.jsxs)("button",{className:"refresh-btn mintmrm-tooltip ".concat(s?"rotate":""),onClick:l,children:[(0,i.jsx)(a.A,{}),(0,i.jsx)("p",{children:window.MRM_Vars.mint_trans.Refresh})]})}const s=(0,r.memo)(l)},6342:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(9870),a=n(1609),i=(n(7723),n(4848));function o(e){var t=e.search,n=e.setSearch,a=e.setQuery,o=e.setPage,l=e.contactSearch,s=e.setFilterSearch;return(0,i.jsxs)("span",{className:"mintmrm-page__tbl-search search-section",children:[(0,i.jsx)(r.A,{}),(0,i.jsx)("input",{type:"text",placeholder:window.MRM_Vars.mint_trans.Search,value:t,onChange:function(e){return function(e){if(l){var t=e.target.value;n(t),s(t),t.length>=1?(a(encodeURI("&search=".concat(t))),o(1)):a("")}else{var r=e.target.value;n(r),r.length>=1?(a("&search=".concat(r)),o(1)):a("")}}(e)}})]})}const l=(0,a.memo)(o)},7561:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var r=n(1609),a=n.n(r),i=n(4848),o=a().lazy((function(){return Promise.all([n.e(6219),n.e(1445),n.e(3572)]).then(n.bind(n,3572))})),l=function(e){var t=e.isCloseBuilder,n=e.selectedEmailIndex,a=e.emailData,l=e.isNewCampaign,s=e.campaignData,c=e.setIsTemplate,u=e.setIsCloseBuilder,d=e.refresh,m=e.setRefresh,f=e.businessBasicSettings,h=e.businessSocialSettings,p=e.lastEmailId,v=e.mintPage,y=e.isTemplate,b=e.setEmailBody,g=e.automationData,j=e.backRefresh,w=e.setBackRefresh,x=e.setIsClose,_=e.isClose,S=e.setBuilderChanged,C=e.builderChanged,N=e.automationArray,A=e.setMaybeSave,O=e.setNextButtonClicked,E=e.setActivateAutoSave,k=e.setUpdateClicked,I=e.updateClicked,T=e.selectedStep,L=e.setIsEmailBuilderOpen,M=e.dynamicCoupons,P=e.setIsTemplateBuilder,D=e.setIsModalOpen,B=e.emailTitle,F=e.templateId,R=e.wcEmailTemplateType,G=e.startFromScratch,V=e.triggerName;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{style:{display:t},className:e.isOpen&&!t?"mintmrm-template-alert-wrapper email-builder-editor":"mintmrm-template-alert-wrapper",children:(0,i.jsx)("div",{className:"email-builder-section",style:{height:"100%"},children:(0,i.jsx)(r.Suspense,{fallback:(0,i.jsx)("div",{className:"email-builder-loading",children:(0,i.jsx)("span",{className:"mintmrm-loader"})}),children:!t&&(0,i.jsx)(o,{selectedEmailIndex:n,emailData:a,campaignData:s,isNewCampaign:l,setIsTemplate:c,isTemplate:y,setIsCloseBuilder:u,refresh:d,setRefresh:m,setIsReadonly:e.setIsReadonly,isReadonly:e.isReadonly,businessBasicSettings:f,businessSocialSettings:h,lastEmailId:p,mintPage:v,setEmailBody:b,automationData:g,setBackRefresh:w,backRefresh:j,setIsClose:x,isClose:_,setBuilderChanged:S,builderChanged:C,automationArray:N,setMaybeSave:A,setNextButtonClicked:O,setActivateAutoSave:E,setUpdateClicked:k,updateClicked:I,selectedStep:T,isCloseBuilder:t,setIsEmailBuilderOpen:L,dynamicCoupons:M,setIsTemplateBuilder:P,setIsModalOpen:D,emailTitle:B,templateId:F,wcEmailTemplateType:R,startFromScratch:G,triggerName:V})})})})})};const s=(0,r.memo)(l)},8720:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var r,a,i,o,l=n(1609),s=n(7561),c=n(7767),u=n(399),d=n(4098),m=n.n(d),f=n(2017),h=n(693),p=n(4848);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(){y=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),l=new T(r||[]);return a(o,"_invoke",{value:O(e,n,l)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",h="executing",p="completed",b={};function g(){}function j(){}function w(){}var x={};c(x,o,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(L([])));S&&S!==n&&r.call(S,o)&&(x=S);var C=w.prototype=g.prototype=Object.create(x);function N(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(a,i,o,l){var s=d(e[a],e,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==v(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,l)}))}l(s.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function O(t,n,r){var a=m;return function(i,o){if(a===h)throw Error("Generator is already running");if(a===p){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var l=r.delegate;if(l){var s=E(l,r);if(s){if(s===b)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var c=d(t,n,r);if("normal"===c.type){if(a=r.done?p:f,c.arg===b)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=p,r.method="throw",r.arg=c.arg)}}}function E(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=d(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(v(t)+" is not iterable")}return j.prototype=w,a(C,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:j,configurable:!0}),j.displayName=c(w,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===j||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,s,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},N(A.prototype),c(A.prototype,l,(function(){return this})),t.AsyncIterator=A,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new A(u(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},N(C),c(C,s,"Generator"),c(C,o,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],l=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;I(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),b}},t}function b(e,t,n,r,a,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){b(i,r,a,o,l,"next",e)}function l(e){b(i,r,a,o,l,"throw",e)}o(void 0)}))}}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return C(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var N={email_subject:"",email_body:"",email_json:"",json_data:null,delay_count:0,delay_value:"Minutes",email_preview_text:"",sender_name:null===(r=window.MRM_Vars)||void 0===r?void 0:r.email_settings.from_name,sender_email:null===(a=window.MRM_Vars)||void 0===a?void 0:a.email_settings.from_email,reply_name:null===(i=window.MRM_Vars)||void 0===i?void 0:i.email_settings.reply_name,reply_email:null===(o=window.MRM_Vars)||void 0===o?void 0:o.email_settings.reply_email,toError:null,senderEmailError:null,publishable:!0},A=function(e){var t,n,r=_((0,l.useState)(!0),2),a=r[0],i=r[1],o=_((0,l.useState)(!0),2),d=o[0],v=o[1],b=_((0,l.useState)("none"),2),j=b[0],x=b[1],A=_((0,l.useState)(!0),2),O=A[0],E=A[1],k=_((0,l.useState)(!0),2),I=k[0],T=k[1],L=_((0,l.useState)(!1),2),M=L[0],P=L[1],D=_((0,l.useState)(!0),2),B=D[0],F=D[1],R=_((0,l.useState)(!1),2),G=R[0],V=R[1],U=_((0,l.useState)(!1),2),Z=U[0],z=U[1],$=_((0,l.useState)([w({},N)]),2),J=$[0],Y=$[1],W=_((0,l.useState)(),2),Q=W[0],q=(W[1],_((0,l.useState)(0),2)),H=q[0],K=(q[1],_((0,l.useState)(!1),2)),X=(K[0],K[1]),ee=_((0,l.useState)(null),2),te=(ee[0],ee[1]),ne=_((0,l.useState)(""),2),re=ne[0],ae=(ne[1],_((0,l.useState)(!1),2)),ie=ae[0],oe=ae[1],le=_((0,l.useState)(!0),2),se=le[0],ce=le[1],ue=_((0,l.useState)(),2),de=ue[0],me=(ue[1],_((0,l.useState)("templates"),2)),fe=me[0],he=me[1],pe=(0,c.zy)(),ve=(0,c.Zp)(),ye=(0,c.g)().id,be=function(e){var t,n=function(e){if(Array.isArray(e))return C(e)}(t=J)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||S(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();n[H].email_body=e.email_body,n[H].email_json=e.json_data,Y(n)},ge=function(){var e=g(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(!1),T(!0),E(!0),x(!1),F(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(e,t){var n,r,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0==(null==t?void 0:t.length))return z((function(e){return!e})),ge(),X(!1),void oe(!1);var i="advanced-builder"===e?m()((0,u.oJ)({data:null==t||null===(n=t.json_content)||void 0===n?void 0:n.content,mode:"production",context:null==t||null===(r=t.json_content)||void 0===r?void 0:r.content}),{beautify:!0,validationLevel:"soft"}).html:null==t?void 0:t.json_content;a&&event.target.parentNode.parentNode.parentNode.parentNode.classList.add("importing"),X(!0),te(null==t?void 0:t.id);var o=function(){var e=g(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z((function(e){return!e})),be({email_body:i,json_data:null==t?void 0:t.json_content});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o().then((function(){setTimeout((function(){z((function(e){return!e})),ge(),X(!1)}),500)}))};return(0,l.useEffect)((function(){var e,t,n,r,a,i;if("double-optin"===(null==pe||null===(e=pe.state)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.pageForm))if(null!=pe&&null!==(a=pe.state)&&void 0!==a&&null!==(a=a.data)&&void 0!==a&&a.editorType&&null!=pe&&null!==(i=pe.state)&&void 0!==i&&null!==(i=i.data)&&void 0!==i&&i.emailData){var o,l,s,c,u,d={content:"classic-editor"===(null==pe||null===(o=pe.state)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.editorType)?null==pe||null===(l=pe.state)||void 0===l||null===(l=l.data)||void 0===l||null===(l=l.emailData)||void 0===l?void 0:l.email_body:null==pe||null===(s=pe.state)||void 0===s||null===(s=s.data)||void 0===s||null===(s=s.emailData)||void 0===s||null===(s=s.json_data)||void 0===s?void 0:s.content,editor:null==pe||null===(c=pe.state)||void 0===c||null===(c=c.data)||void 0===c?void 0:c.editorType};he(null==pe||null===(u=pe.state)||void 0===u||null===(u=u.data)||void 0===u?void 0:u.pageForm),Y([{email_json:w({},d)}]),z((function(e){return!e})),ge(),X(!1)}else ve(-1);else if("wc-customize-email"===(null==pe||null===(t=pe.state)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.pageForm)){var m,f,h;he(null==pe||null===(m=pe.state)||void 0===m||null===(m=m.data)||void 0===m?void 0:m.pageForm),be({email_body:null==pe||null===(f=pe.state)||void 0===f||null===(f=f.data)||void 0===f||null===(f=f.template)||void 0===f?void 0:f.html_content,json_data:null==pe||null===(h=pe.state)||void 0===h||null===(h=h.data)||void 0===h||null===(h=h.template)||void 0===h?void 0:h.json_content}),z((function(e){return!e})),ge(),X(!1)}else if(null!=pe&&null!==(n=pe.state)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.editorType&&null!=pe&&null!==(r=pe.state)&&void 0!==r&&null!==(r=r.data)&&void 0!==r&&r.template){var p,v;je(null==pe||null===(p=pe.state)||void 0===p||null===(p=p.data)||void 0===p?void 0:p.editorType,null==pe||null===(v=pe.state)||void 0===v||null===(v=v.data)||void 0===v?void 0:v.template,!1,re)}else ve(-1)}),[null==pe?void 0:pe.state]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"mintmrm-page email-templates-list-page",children:(0,p.jsx)("div",{className:"mintmrm-container",children:(0,p.jsx)(f.A,{type:"table"})})}),(0,p.jsx)(s.default,{refresh:a,setRefresh:i,isOpen:O,isCloseBuilder:j,isEmailBuilderOpen:I,setIsEmailBuilderOpen:T,isNewCampaign:!1,emailData:J,lastEmailId:Q,campaignData:{},selectedEmailIndex:H,setEmailBody:be,isTemplate:B,setIsTemplate:F,setIsClose:P,setIsCloseBuilder:function(){x("none")},setCloseTemplateSelection:function(e){"hide"===e&&P(!0)},setIsReadonly:V,isReadonly:G,mintPage:fe,setBackRefresh:v,backRefresh:d,isClose:M,setBuilderChanged:z,builderChanged:Z,setIsTemplateBuilder:E,setIsModalOpen:oe,emailTitle:null==pe||null===(t=pe.state)||void 0===t||null===(t=t.data)||void 0===t||null===(t=t.template)||void 0===t?void 0:t.title,templateId:ye,wcEmailTemplateType:(null==pe||null===(n=pe.state)||void 0===n||null===(n=n.data)||void 0===n||null===(n=n.template)||void 0===n?void 0:n.wc_email_type)||"default"}),(!se&&B||ie)&&(0,p.jsx)(h.A,{isOpen:ie,setIsOpen:oe,emailIndex:H,setIsEmailBuilderOpen:T,setIsTemplateBuilder:E,setIsCloseBuilder:x,setIsTemplate:F,setBuilderChanged:z,emailID:de,isTemplate:B,setEmailBody:be,emailData:J[H],isClose:se,setIsClose:ce,isEmailBuilderOpen:I,pageFrom:"emailTemplates",openTemplate:je})]})};const O=(0,l.memo)(A)},9378:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ce});var r=n(399),a=n(4098),i=n.n(a),o=n(1609),l=n(6450),s=n(630),c=n(9214),u=n(9480),d=n(6797),m=n(5699),f=n(693),h=n(7723),p=n(2017),v=n(3676),y=n(7767),b=n(9431),g=n(1425),j=n(996),w=n(3616),x=n(5919),_=n(3572),S=n(4848);function C(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){var t,n,r=e.data,a=e.setSelected,i=e.isSelected,l=e.setAllSelected,s=e.selected,c=e.totalTemplates,u=e.setSelectedItem,d=e.setDeleteMessage,m=e.setDeleteTitle,f=e.setShowDeleteModal,p=e.handlePreview,v=(t=(0,o.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(t,n)||N(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),A=v[0],O=v[1],E=(0,o.useRef)(null),k=(0,y.Zp)();(0,x.c7)(E,O);var I=function(e){var t,n="classic-editor"===(null==e||null===(t=e.json_content)||void 0===t?void 0:t.editor)?"classic-editor":"advanced-builder";k("/email-templates/email-builder/".concat(null==e?void 0:e.id),{state:{data:{template:e,editorType:n}}})};return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:"mint-table-single-row",children:[(0,S.jsxs)("p",{className:"title-column",children:[(0,S.jsxs)("span",{className:"mintmrm-checkbox",children:[(0,S.jsx)("input",{type:"checkbox",name:"bulk-select",id:"bulk-select-single-".concat(r.id),onChange:function(){return function(e){if(s.includes(e)){var t=s.filter((function(t){return e!==t}));a(C(t)),l(!1)}else{var n=[e].concat(C(s));a(n),n.length===c&&l(!0)}}(null==r?void 0:r.id)},checked:i}),(0,S.jsx)("label",{htmlFor:"bulk-select-single-".concat(r.id)})]}),(0,S.jsx)("span",{className:"title-text",onClick:function(){return I(r)},children:r.title})]}),(0,S.jsx)("p",{className:"type-column",children:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=_.options.find((function(t){return t.value===e}));return t?t.label:""}(null==r?void 0:r.wc_email_type)||"Default Template"}),(0,S.jsx)("p",{className:"created-column",children:r.created_at||"26 Dec 2023 at 10:52pm"}),(0,S.jsx)("p",{className:"actions-column",children:(0,S.jsx)("div",{className:"mintmrm-page__tbl-bulk-action",children:(0,S.jsxs)("button",{type:"button",className:"more-option",onClick:function(){return O(!A)},ref:E,children:[(0,S.jsx)("span",{title:"Bulk Actions",children:(0,S.jsx)(w.A,{})}),(0,S.jsxs)("ul",{className:"select-option mintmrm-dropdown ".concat(A?"show":""),children:[(0,S.jsxs)("li",{onClick:function(){return I(r)},children:[(0,S.jsx)(g.A,{})," ",(0,h.__)("Edit","mrm")]}),(0,S.jsxs)("li",{onClick:function(){return p(null==r?void 0:r.html_content)},children:[(0,S.jsx)(j.A,{})," ",(0,h.__)("Preview","mrm")]}),(0,S.jsxs)("li",{onClick:function(){return u([r.id]),m('Delete From "'.concat(null==r?void 0:r.title,'"')),d('Are you sure you want to delete the form "'.concat(null==r?void 0:r.title,'"?')),void f(!0)},children:[(0,S.jsx)(b.A,{})," ",(0,h.__)("Delete","mrm")]})]})]})})})]})})};const E=(0,o.memo)(O);var k=n(6342),I=n(5934),T=function(){return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("svg",{width:"66",height:"57",viewBox:"0 0 66 57",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,S.jsx)("path",{d:"M32.9999 23.3752C29.7984 23.3752 26.6687 24.3246 24.0067 26.1033C21.3446 27.882 19.2698 30.4102 18.0446 33.368C16.8195 36.3259 16.4989 39.5807 17.1235 42.7207C17.7481 45.8608 19.2898 48.7452 21.5537 51.009C23.8175 53.2729 26.7019 54.8146 29.8419 55.4392C32.982 56.0638 36.2368 55.7432 39.1946 54.518C42.1525 53.2928 44.6807 51.218 46.4594 48.556C48.2381 45.894 49.1874 42.7643 49.1874 39.5627C49.1824 35.2711 47.4754 31.1566 44.4407 28.122C41.406 25.0873 37.2916 23.3802 32.9999 23.3752ZM39.2599 42.5528C39.687 42.9877 39.9251 43.5738 39.9224 44.1834C39.9196 44.793 39.6762 45.3769 39.2451 45.8079C38.8141 46.239 38.2302 46.4824 37.6206 46.4851C37.011 46.4879 36.425 46.2498 35.99 45.8227L32.9999 42.8327L30.0099 45.8228C29.5753 46.2519 28.9886 46.4917 28.3779 46.4897C27.7672 46.4878 27.182 46.2443 26.7502 45.8125C26.3184 45.3806 26.0749 44.7955 26.073 44.1847C26.0711 43.574 26.3109 42.9873 26.74 42.5528L29.7299 39.5627L26.7399 36.5727C26.3108 36.1381 26.071 35.5514 26.0729 34.9407C26.0749 34.33 26.3183 33.7448 26.7502 33.313C27.1821 32.8811 27.7672 32.6377 28.3779 32.6358C28.9887 32.6339 29.5753 32.8737 30.0099 33.3028L32.9999 36.2927L35.99 33.3026C36.4246 32.8735 37.0113 32.6338 37.622 32.6357C38.2327 32.6376 38.8179 32.8811 39.2497 33.313C39.6815 33.7448 39.925 34.33 39.9269 34.9407C39.9288 35.5514 39.689 36.1381 39.2599 36.5727L36.27 39.5627L39.2599 42.5528ZM65.3749 30.403C65.3123 33.4654 64.0503 36.3809 61.8605 38.5226C59.6708 40.6643 56.728 41.8611 53.665 41.8557C53.9911 38.9479 53.7 36.0039 52.8105 33.2163C51.921 30.4287 50.4532 27.8602 48.5031 25.6787C46.553 23.4972 44.1644 21.7518 41.4935 20.5566C38.8226 19.3614 35.9296 18.7434 33.0035 18.7429C30.0774 18.7424 27.1841 19.3594 24.5128 20.5536C21.8415 21.7479 19.4524 23.4924 17.5015 25.6733C15.5506 27.8541 14.0819 30.4221 13.1914 33.2094C12.301 35.9967 12.0088 38.9406 12.3339 41.8485C5.21806 41.6808 -1.13718 34.3497 1.30482 27.2042C2.28904 24.2428 4.2482 21.7026 6.8624 19.9983C9.47659 18.2941 12.5914 17.5265 15.6981 17.8209C15.1646 14.3563 15.9393 10.8171 17.8716 7.89232C19.5949 5.49799 21.8692 3.55362 24.5024 2.22349C27.1355 0.893356 30.0501 0.21654 32.9999 0.250222C36.3429 0.304954 39.627 1.13911 42.5909 2.68632C45.5547 4.23354 48.1166 6.4511 50.0727 9.1626C51.8076 11.6998 52.6402 14.7461 52.4371 17.813C54.1396 17.6832 55.8502 17.917 57.4554 18.4989C59.0605 19.0809 60.5235 19.9977 61.7472 21.1884C62.9708 22.3792 63.9271 23.8166 64.5526 25.4054C65.1781 26.9941 65.4584 28.6977 65.3749 30.403Z",fill:"#573BFF"}),(0,S.jsx)("circle",{cx:"33",cy:"40",r:"17",fill:"#02C4FB"}),(0,S.jsxs)("g",{clipPath:"url(#clip0_9683_1632)",children:[(0,S.jsx)("path",{d:"M38.5 34.5L27.5 45.5",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,S.jsx)("path",{d:"M27.5 34.5L38.5 45.5",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,S.jsx)("defs",{children:(0,S.jsx)("clipPath",{id:"clip0_9683_1632",children:(0,S.jsx)("rect",{width:"22",height:"22",fill:"white",transform:"translate(22 29)"})})})]})})};const L=(0,o.memo)(T);function M(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||D(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){if(e){if("string"==typeof e)return B(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var F=function(e){var t,n=e.setShowDeleteModal,r=e.setSelectedItem,a=e.setDeleteMessage,i=e.setDeleteTitle,l=e.refreshTemplate,s=e.handlePreview,c=e.isEmailBuilderOpen,u=e.setShowAlert,m=e.allSelected,f=e.setAllSelected,y=P((0,o.useState)([]),2),g=y[0],j=y[1],_=P((0,o.useState)(!1),2),C=_[0],N=_[1],A=P((0,o.useState)(10),2),O=A[0],T=A[1],D=P((0,o.useState)(1),2),B=D[0],F=D[1],R=P((0,o.useState)(20),2),G=R[0],V=R[1],U=P((0,o.useState)(30),2),Z=U[0],z=U[1],$=P((0,o.useState)([]),2),J=$[0],Y=$[1],W=P((0,o.useState)(!1),2),Q=W[0],q=W[1],H=P((0,o.useState)("Date Created Desc"),2),K=H[0],X=H[1],ee=P((0,o.useState)("created_at"),2),te=ee[0],ne=ee[1],re=P((0,o.useState)("desc"),2),ae=re[0],ie=re[1],oe=P((0,o.useState)(""),2),le=oe[0],se=oe[1],ce=P((0,o.useState)(""),2),ue=ce[0],de=ce[1],me=P((0,o.useState)(!0),2),fe=me[0],he=me[1],pe=P((0,o.useState)(!1),2),ve=pe[0],ye=pe[1],be=P((0,o.useState)(!1),2),ge=be[0],je=be[1],we=(0,o.useRef)(null),xe=(0,o.useRef)(null);(0,x.c7)(we,q),(0,x.c7)(xe,je);var _e=function(e,t,n){q(!1),ne(e),ie(t),X(n)};return(0,o.useEffect)((function(){c||(N(!0),(0,d.yc)(O,B,te,ae,ue).then((function(e){var t,n,r;j(null==e||null===(t=e.results)||void 0===t?void 0:t.templates),V(null==e||null===(n=e.results)||void 0===n?void 0:n.total_count),z(null==e||null===(r=e.results)||void 0===r?void 0:r.total_pages),N(!1),ye(!1)})))}),[l,B,O,c,fe,te,ae,ue]),(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)("div",{className:"mintmrm-page__data-table",children:[(0,S.jsxs)("div",{className:"mintmrm-page__data-table--header",children:[(0,S.jsxs)("div",{className:"mintmrm-page__tbl-header-left sort-by-filter",children:[(0,S.jsx)("p",{className:"sort-by-title",children:(0,h.__)("Sort by","mrm")}),(0,S.jsxs)("div",{className:Q?"mintmrm-custom-selectbox show":"mintmrm-custom-selectbox",ref:we,children:[(0,S.jsx)("button",{className:"selectbox-button",onClick:function(){return q(!Q)},children:K}),(0,S.jsxs)("ul",{className:"mintmrm-dropdown dropdown-left",children:[(0,S.jsxs)("li",{onClick:function(){return _e("title","asc","Name (A - Z)")},children:[" ",(0,h.__)("Name (A - Z)","mrm")," "]}),(0,S.jsxs)("li",{onClick:function(){return _e("title","desc","Name (Z - A)")},children:[" ",(0,h.__)("Name (Z - A)","mrm")," "]}),(0,S.jsxs)("li",{onClick:function(){return _e("created_at","asc","Date Created Asc")},children:[" ",(0,h.__)("Date Created Asc","mrm")," "]}),(0,S.jsxs)("li",{onClick:function(){return _e("created_at","desc","Date Created Desc")},children:[" ",(0,h.__)("Date Created Desc","mrm")," "]})]})]})]}),(0,S.jsxs)("div",{className:"mintmrm-page__tbl-header-right",children:[(0,S.jsx)(k.A,{search:le,setSearch:se,setQuery:de,setPage:F}),(0,S.jsx)(I.A,{handleRefresh:function(){he(!fe),ye(!0)},refreshToggle:ve}),(0,S.jsx)("div",{className:"mintmrm-page__tbl-bulk-action",children:(0,S.jsxs)("button",{type:"button",className:"more-option",onClick:function(){return je(!ge)},ref:xe,children:[(0,S.jsx)("span",{title:"Bulk Actions",children:(0,S.jsx)(w.A,{})}),(0,S.jsx)("ul",{className:ge?"mintmrm-dropdown show ":"mintmrm-dropdown",children:(0,S.jsxs)("li",{onClick:function(){0<J.length?(r(M(J)),i("Delete Multiple Templates"),a("Are you sure you want to delete these selected items?"),n(!0)):u(!0)},children:[(0,S.jsx)(b.A,{})," ",(0,h.__)("Delete Selected","mrm")]})})]})})]})]}),C?(0,S.jsx)(p.A,{type:"table"}):(0,S.jsxs)("div",{className:"mint-tab-data-table-wrapper",children:[(0,S.jsxs)("div",{className:"mint-data-table-header",children:[(0,S.jsx)("p",{className:"title-column",children:(0,S.jsxs)("span",{className:"mintmrm-checkbox",children:[(0,S.jsx)("input",{type:"checkbox",name:"bulk-select",id:"bulk-select",onChange:function(){if(f((function(e){return!e})),m)Y([]);else{var e=g.map((function(e){return e.id}));Y(M(e))}},checked:m}),(0,S.jsx)("label",{htmlFor:"bulk-select",children:(0,h.__)("Title","mrm")})]})}),(0,S.jsx)("p",{className:"type-column",children:(0,h.__)("Template Type","mrm")}),(0,S.jsx)("p",{className:"created-column",children:(0,h.__)("Created At","mrm")}),(0,S.jsx)("p",{className:"actions-column",children:(0,h.__)("Actions","mrm")})]}),(0,S.jsx)("div",{className:"mint-data-table-body ".concat(0===(null==g?void 0:g.length)?"no-data-found":""),children:0===(null==g?void 0:g.length)?(0,S.jsxs)("p",{children:[(0,S.jsx)(L,{}),(0,S.jsx)("br",{}),null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.NoTemplatesCreated]}):(0,S.jsxs)(S.Fragment,{children:[null==g?void 0:g.map((function(e){var t=J.includes(null==e?void 0:e.id);return(0,S.jsx)(E,{data:e,isSelected:t,setSelected:Y,setAllSelected:f,selected:J,totalTemplates:G,setShowDeleteModal:n,setSelectedItem:r,setDeleteMessage:a,setDeleteTitle:i,handlePreview:s},e.id)})),(0,S.jsx)(v.A,{currentPage:B,onPageChange:F,pageSize:O,setPerPage:T,totalPages:Z,totalCount:G,paginationFor:"templates"})]})})]})]})})};const R=(0,o.memo)(F);var G=n(4976),V=n(5170),U=function(e){var t=e.openTemplate;return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)("div",{className:"email_templates_nav_header_wrapper",children:(0,S.jsxs)("div",{className:"mintmrm-page__header",children:[(0,S.jsx)("div",{className:"mintmrm-page__header-left",children:(0,S.jsx)(G.N_,{to:"/email-templates",children:(0,S.jsx)("h1",{children:(0,h.__)("Email Templates","mrm")})})}),(0,S.jsx)("div",{className:"mintmrm-page__header-right",children:(0,S.jsx)("div",{className:"mintmrm-page__header-add-btn",children:(0,S.jsxs)("button",{className:"add-contact-btn mintmrm-btn ",onClick:t,children:[(0,S.jsx)(V.A,{})," ",(0,h.__)("New Template","mrm")]})})})]})})})};const Z=(0,o.memo)(U);var z,$,J,Y,W=n(9923),Q=n(7878),q=n(9604);function H(e){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H(e)}function K(){K=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,o=Object.create(i.prototype),l=new k(r||[]);return a(o,"_invoke",{value:N(e,n,l)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",h="executing",p="completed",v={};function y(){}function b(){}function g(){}var j={};c(j,o,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(I([])));x&&x!==n&&r.call(x,o)&&(j=x);var _=g.prototype=y.prototype=Object.create(j);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(a,i,o,l){var s=d(e[a],e,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==H(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,l)}))}l(s.arg)}var i;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return i=i?i.then(a,a):a()}})}function N(t,n,r){var a=m;return function(i,o){if(a===h)throw Error("Generator is already running");if(a===p){if("throw"===i)throw o;return{value:e,done:!0}}for(r.method=i,r.arg=o;;){var l=r.delegate;if(l){var s=A(l,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=h;var c=d(t,n,r);if("normal"===c.type){if(a=r.done?p:f,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=p,r.method="throw",r.arg=c.arg)}}}function A(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(a,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(H(t)+" is not iterable")}return b.prototype=g,a(_,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:b,configurable:!0}),b.displayName=c(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},S(C.prototype),c(C.prototype,l,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new C(u(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(_),c(_,s,"Generator"),c(_,o,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(r,a){return l.type="throw",l.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],l=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function X(e,t,n,r,a,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){X(i,r,a,o,l,"next",e)}function l(e){X(i,r,a,o,l,"throw",e)}o(void 0)}))}}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=H(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==H(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,t)||ie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){if(e){if("string"==typeof e)return oe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var le={email_subject:"",email_body:"",email_json:"",json_data:null,delay_count:0,delay_value:"Minutes",email_preview_text:"",sender_name:null===(z=window.MRM_Vars)||void 0===z?void 0:z.email_settings.from_name,sender_email:null===($=window.MRM_Vars)||void 0===$?void 0:$.email_settings.from_email,reply_name:null===(J=window.MRM_Vars)||void 0===J?void 0:J.email_settings.reply_name,reply_email:null===(Y=window.MRM_Vars)||void 0===Y?void 0:Y.email_settings.reply_email,toError:null,senderEmailError:null,publishable:!0},se=function(){(0,m.G)("mrm-admin","email-templates"),(0,o.useEffect)((function(){document.title="Email Templates - Mail Mint"}),[]);var e=ae((0,o.useState)(!1),2),t=e[0],n=e[1],a=ae((0,o.useState)("Delete From Item"),2),h=a[0],p=a[1],v=ae((0,o.useState)('Are you sure you want to delete the form "Item"?'),2),b=v[0],g=v[1],j=ae((0,o.useState)(!1),2),w=j[0],x=j[1],_=ae((0,o.useState)([]),2),C=_[0],N=_[1],A=ae((0,o.useState)(!1),2),O=A[0],E=A[1],k=ae((0,o.useState)("success"),2),I=k[0],T=k[1],L=ae((0,o.useState)(""),2),M=L[0],P=L[1],D=ae((0,o.useState)(!1),2),B=D[0],F=D[1],G=ae((0,o.useState)("none"),2),V=(G[0],G[1]),U=ae((0,o.useState)(!1),2),z=(U[0],U[1]),$=ae((0,o.useState)(!1),2),J=$[0],Y=$[1],H=ae((0,o.useState)(!0),2),X=(H[0],H[1]),te=ae((0,o.useState)(!0),2),re=te[0],se=te[1],ce=ae((0,o.useState)(!1),2),ue=(ce[0],ce[1]),de=ae((0,o.useState)([ne({},le)]),2),me=de[0],fe=de[1],he=ae((0,o.useState)(0),2),pe=he[0],ve=(he[1],ae((0,o.useState)(!1),2)),ye=(ve[0],ve[1]),be=ae((0,o.useState)(null),2),ge=(be[0],be[1]),je=ae((0,o.useState)(""),2),we=(je[0],je[1],ae((0,o.useState)(null),2)),xe=(we[0],we[1],ae((0,o.useState)(!1),2)),_e=xe[0],Se=xe[1],Ce=ae((0,o.useState)(!1),2),Ne=Ce[0],Ae=Ce[1],Oe=(0,y.Zp)(),Ee=ae((0,o.useState)(!1),2),ke=Ee[0],Ie=Ee[1],Te=ae((0,o.useState)({}),2),Le=Te[0],Me=Te[1],Pe=ae((0,o.useState)(!1),2),De=Pe[0],Be=Pe[1],Fe=ae((0,o.useState)(!0),2),Re=Fe[0],Ge=Fe[1],Ve=ae((0,o.useState)(),2),Ue=Ve[0],Ze=(Ve[1],(0,o.useCallback)(function(){var e=ee(K().mark((function e(t){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t])),ze=(0,o.useCallback)((function(){Se(!1)})),$e=(0,o.useCallback)(function(){var e=ee(K().mark((function e(t){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),t&&(0,d.cT)(C).then((function(e){"success"===e.status&&(F(!0),T("success"),E(!0),P(e.message),F(!B),N([]),Ae(!1)),n(!1),x(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),Je=function(){var e=ee(K().mark((function e(){return K().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:se(!0),X(!1),Be(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:"mintmrm-page email-templates-list-page",children:[(0,S.jsxs)("div",{className:"mintmrm-container",children:[(0,S.jsx)(Z,{openTemplate:Je}),(0,S.jsx)(R,{setShowDeleteModal:n,setSelectedItem:N,setDeleteMessage:g,setDeleteTitle:p,refreshTemplate:B,handlePreview:function(e){Ie(!0),Me({email_body:e})},isEmailBuilderOpen:J,setShowAlert:Se,allSelected:Ne,setAllSelected:Ae})]}),ke&&(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(l.A,{isOpen:ke,setIsOpen:Ie,previewData:Le})})]}),(0,S.jsx)(c.A,{showVideo:"true",videoLink:"https://www.youtube.com/embed/KG_Bjdqw688",docLink:"https://getwpfunnels.com/docs/mail-mint-campaigns/"}),(!Re&&re||De)&&(0,S.jsx)(f.A,{isOpen:De,setIsOpen:Be,emailIndex:pe,setIsEmailBuilderOpen:Y,setIsTemplateBuilder:z,setIsCloseBuilder:V,setIsTemplate:se,setBuilderChanged:ue,emailID:Ue,isTemplate:re,setEmailBody:function(e){var t,n=function(e){if(Array.isArray(e))return oe(e)}(t=me)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||ie(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();n[pe].email_body=e.email_body,n[pe].email_json=e.json_data,fe(n)},emailData:me[pe],isClose:Re,setIsClose:Ge,isEmailBuilderOpen:J,pageFrom:"emailTemplates",openTemplate:function(e,t){var n,a,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=arguments.length>3?arguments[3]:void 0,s="advanced-builder"===e?i()((0,r.oJ)({data:null==t||null===(n=t.json_content)||void 0===n?void 0:n.content,mode:"production",context:null==t||null===(a=t.json_content)||void 0===a?void 0:a.content}),{beautify:!0,validationLevel:"soft"}).html:null==t?void 0:t.json_content;o&&event.target.parentNode.parentNode.parentNode.parentNode.classList.add("importing"),ye(!0),ge(null==t?void 0:t.id);var c={title:(null==t?void 0:t.title)||"Untitled",thumbnail:(null==t?void 0:t.thumbnail)||"",html:s,json_content:null==t?void 0:t.json_content,post_author:window.MRM_Vars.current_userID,editor:e};0===t.length&&(c={title:l||"Untitled",thumbnail:"",html:q.D,json_content:q.R,post_author:window.MRM_Vars.current_userID,editor:"advanced-builder"}),(0,Q.Wv)(c).then((function(t){Oe("/email-templates/email-builder/".concat(t.data.id),{state:{data:{template:t.data,editorType:e||"advanced-builder"}}})})).catch((function(e){console.error(e)}))}}),t&&(0,S.jsx)("div",{className:"mintmrm-container",children:(0,S.jsx)(s.A,{title:h,message:b,onDeleteShow:Ze,onDeleteStatus:$e,selected:C,loader:w,onMultiDelete:$e})}),_e&&(0,S.jsx)(W.A,{onShowAlert:ze,itemName:"email template"}),O&&(0,S.jsx)(u.A,{setShowNotification:E,message:M,notificationType:I,setNotificationType:T})]})};const ce=(0,o.memo)(se)}}]);
//# sourceMappingURL=emails.min.js.map?ver=1729828711084000