/*! For license information please see segment-index.min.js.LICENSE.txt */
"use strict";(globalThis.webpackChunk_mmAdmin_webpackJsonp=globalThis.webpackChunk_mmAdmin_webpackJsonp||[]).push([[8485],{4328:(t,e,n)=>{n.d(e,{A:()=>h});var r=n(1671),a=n(7723),i=n(7767),o=n(4976),s=n(923),c=n(7143),l=n(1609),u=n(5270),d=n(4848);function m(t){var e=t.countGroups,n=(0,i.zy)(),l=(0,c.useSelect)((function(t){return{navbarMarkup:t(r.H).getNavbarMarkup()}}),[]).navbarMarkup,m=window.MRM_Vars.is_mailmint_pro_license_active;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"contact-header",children:(0,d.jsx)("div",{className:"mintmrm-container",children:(0,d.jsxs)("div",{className:"header-wrapper",children:[(0,d.jsxs)("div",{className:"left-header-section",children:[(0,d.jsx)("div",{className:"site-logo",children:(0,d.jsx)(o.N_,{to:"/",children:(0,d.jsx)("h1",{children:window.MRM_Vars.mint_trans.Contacts})})}),(0,d.jsx)("nav",{className:"mintmrm-navbar",children:(0,d.jsx)("ul",{className:"navbar-ul",children:s.A.map((function(t,r){if(!t.hideInMenu)return"Segments"!==t.title?(0,d.jsx)("li",{className:n.pathname===t.path?"navbar-li active":"navbar-li ",children:(0,d.jsxs)(o.N_,{to:t.path,children:[(0,a.__)(t.title,"mintmrm"),"Contacts"===t.title?(0,d.jsx)("span",{className:"bage",children:null!=e&&e.contacts?e.contacts:"0"}):"Lists"===t.title?(0,d.jsx)("span",{className:"bage",children:null!=e&&e.lists?e.lists:"0"}):"Tags"===t.title?(0,d.jsx)("span",{className:"bage",children:null!=e&&e.tags?e.tags:"0"}):""]})},r):(0,d.jsx)("li",{className:n.pathname===t.path?"navbar-li active":"navbar-li",children:(0,d.jsxs)(o.N_,{to:t.path,children:[(0,a.__)(t.title,"mintmrm"),m?(0,d.jsx)("span",{className:"bage",children:null!=e&&e.segments?e.segments:0}):(0,d.jsx)("span",{className:"pro-tag-with-icon",children:(0,d.jsx)(u.A,{width:"18",height:"18"})})]})},r)}))})})]}),(0,d.jsx)("div",{className:"right-header-section",children:(0,d.jsx)("div",{className:"navbar-buttons",children:l})})]})})})})}const h=(0,l.memo)(m)},4959:(t,e,n)=>{n.d(e,{A:()=>o});var r=n(1609),a=n(4848);function i(){return(0,a.jsxs)("svg",{width:"40",height:"40",fill:"none",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_512_3529)",children:[(0,a.jsx)("path",{fill:"#EFECFF",d:"M37.843 10.958A20.185 20.185 0 0032.08 4.06a1.172 1.172 0 00-1.723.347l-4.806 8.325a1.172 1.172 0 00.193 1.422A8.14 8.14 0 0128.203 20a8.139 8.139 0 01-2.46 5.846c-.38.375-.46.96-.193 1.422l4.806 8.325c.353.61 1.161.774 1.723.347a20.186 20.186 0 005.764-6.898A19.786 19.786 0 0040 20c0-3.182-.725-6.224-2.157-9.042z"}),(0,a.jsx)("path",{fill:"#573BFF",d:"M27.77 1.566A19.876 19.876 0 0020 0c-3.181 0-6.224.726-9.042 2.157A20.186 20.186 0 004.06 7.92a1.172 1.172 0 00.347 1.723l8.325 4.806a1.172 1.172 0 001.422-.193A8.14 8.14 0 0120 11.797c.72 0 1.458.103 2.19.307a1.172 1.172 0 001.33-.543l4.809-8.33c.352-.61.09-1.391-.56-1.665z"}),(0,a.jsx)("path",{fill:"#02C4FB",d:"M28.329 36.769l-4.81-8.33a1.172 1.172 0 00-1.328-.543 8.186 8.186 0 01-2.19.307 8.18 8.18 0 01-2.191-.307 1.172 1.172 0 00-1.329.543l-4.809 8.33c-.352.61-.09 1.392.56 1.666A19.877 19.877 0 0020 40c2.693 0 5.307-.527 7.77-1.566a1.172 1.172 0 00.559-1.665z"}),(0,a.jsx)("path",{fill:"#EFECFF",d:"M14.257 25.846A8.139 8.139 0 0111.797 20c0-.72.103-1.457.307-2.19a1.172 1.172 0 00-.543-1.33l-8.33-4.808a1.172 1.172 0 00-1.665.559A19.876 19.876 0 000 20c0 3.182.726 6.224 2.157 9.042A20.186 20.186 0 007.92 35.94c.562.427 1.37.264 1.723-.347l4.806-8.325a1.172 1.172 0 00-.193-1.422z"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_512_3529",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h40v40H0z"})})})]})}const o=(0,r.memo)(i)},805:(t,e,n)=>{n.r(e),n.d(e,{default:()=>U});var r=n(7143),a=n(7723),i=n(1609),o=n(7767),s=n(4976),c=n(630),l=n(9214),u=(n(365),n(5934)),d=n(6342),m=n(5747),h=n(7091),f=n(474),p=n(5565),v=n(1931),g=n(9923),b=n(4328),y=n(9431),x=n(4959),j=n(5170),w=n(3616),_=n(5919),S=n(2017),N=n(3676),A=n(9480),k=n(3552),M=n(1671),C=n(5699),O=n(1425),E=n(4848);function P(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,a=t}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return L(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function D(t){var e,n,r=t.segment,o=t.selected,c=t.deleteSegment,l=t.handleSegmentEdit,u=(t.currentActive,t.setCurrentActive,t.setLoading),d=t.setAllSelected,m=t.setSelected,h=t.setIsDelete,f=t.setDeleteTitle,v=t.setDeleteMessage,g=t.setItemID,b=t.setShowMoreOptions,x=t.setActiveProModal,j=t.isProActive,S=r.title,N=r.created_at,A=(r.total_contacts,r.id),M=r.description,C=P((0,i.useState)(!1),2),L=C[0],D=C[1],F=P((0,i.useState)(0),2),I=F[0],R=F[1],T=(0,i.useRef)(null),V=(0,i.useRef)(null),G=(0,p.W)();return(0,i.useEffect)((function(){var t=!0;if(t)return function(){u(!0);var t=r.data.filters;(0,k.cN)(t).then((function(t){Object.keys(t).length>0&&(0,k._v)({filters:t},1).then((function(t){200===t.code&&R(t.data)}))})),u(!1)}(),function(){t=!1}}),[]),(0,_.c7)(V,D),(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)("div",{className:"mintmrm-page__data-table--row",children:[(0,E.jsx)("div",{className:"mintmrm-page__data-table--col name without-link",children:(0,E.jsxs)("span",{className:"mintmrm-checkbox",children:[(0,E.jsx)("input",{type:"checkbox",name:A,id:A,onChange:function(t){return G(t,o,m,d)},checked:o.includes(A)}),(0,E.jsx)("label",{htmlFor:A,children:(0,E.jsx)(s.N_,{to:"../segments/edit/".concat(A),title:S,children:S})})]})}),(0,E.jsx)("div",{className:"mintmrm-page__data-table--col description",children:(null==M?void 0:M.length)>30?M.substring(0,30)+"...":M}),(0,E.jsx)("div",{className:"mintmrm-page__data-table--col subscribers",children:I}),(0,E.jsx)("div",{className:"mintmrm-page__data-table--col creation-date",children:N}),(0,E.jsx)("div",{className:"mintmrm-page__data-table--col actions",ref:V,children:(0,E.jsxs)("button",{className:"more-option",onClick:function(){D((function(t){return!t}))},ref:T,children:[(0,E.jsx)(w.A,{}),L&&(0,E.jsxs)("ul",{className:L?"mintmrm-dropdown show":"mintmrm-dropdown",children:[(0,E.jsxs)("li",{onClick:function(){return l(A)},children:[(0,E.jsx)(O.A,{}),(0,a.__)("Edit","mrm")]}),j?(0,E.jsxs)("li",{onClick:function(){return c(A,"segment",h,f,v,g,d,m,b)},children:[(0,E.jsx)(y.A,{}),null===(e=window)||void 0===e||null===(e=e.MRM_Vars)||void 0===e||null===(e=e.mint_trans)||void 0===e?void 0:e.Delete]}):(0,E.jsxs)("li",{onClick:function(){return x(!0)},children:[(0,E.jsx)(y.A,{}),null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.Delete]})]})]})})]})})}const F=(0,i.memo)(D);var I=n(5270);function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){G(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function G(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=R(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==R(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z(){z=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,o=Object.create(i.prototype),s=new O(r||[]);return a(o,"_invoke",{value:A(t,n,s)}),o}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var m="suspendedStart",h="suspendedYield",f="executing",p="completed",v={};function g(){}function b(){}function y(){}var x={};l(x,o,(function(){return this}));var j=Object.getPrototypeOf,w=j&&j(j(E([])));w&&w!==n&&r.call(w,o)&&(x=w);var _=y.prototype=g.prototype=Object.create(x);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function N(t,e){function n(a,i,o,s){var c=d(t[a],t,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==R(u)&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(u).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var i;a(this,"_invoke",{value:function(t,r){function a(){return new e((function(e,a){n(t,r,e,a)}))}return i=i?i.then(a,a):a()}})}function A(e,n,r){var a=m;return function(i,o){if(a===f)throw Error("Generator is already running");if(a===p){if("throw"===i)throw o;return{value:t,done:!0}}for(r.method=i,r.arg=o;;){var s=r.delegate;if(s){var c=k(s,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=f;var l=d(e,n,r);if("normal"===l.type){if(a=r.done?p:h,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(a=p,r.method="throw",r.arg=l.arg)}}}function k(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(a,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function E(e){if(e||""===e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(R(e)+" is not iterable")}return b.prototype=y,a(_,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:b,configurable:!0}),b.displayName=l(y,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},S(N.prototype),l(N.prototype,s,(function(){return this})),e.AsyncIterator=N,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new N(u(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},S(_),l(_,c,"Generator"),l(_,o,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:E(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function W(t,e,n,r,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}function Z(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){W(i,r,a,o,s,"next",t)}function s(t){W(i,r,a,o,s,"throw",t)}o(void 0)}))}}function B(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,a=t}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return H(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}const U=function(){var t,e,n,O,P,L,D;(0,C.G)("mrm-admin","contacts"),(0,i.useEffect)((function(){var t=!0;if(t)return document.title="Segments - Mail Mint",function(){t=!1}}),[]);var R=(0,o.Zp)(),T=B((0,i.useState)(!1),2),G=T[0],W=T[1],H=B((0,i.useState)(!1),2),U=H[0],J=H[1],Y=B((0,i.useState)((0,a.__)("Date Created Desc","mrm")),2),$=Y[0],q=Y[1],Q=B((0,i.useState)(!1),2),K=Q[0],X=Q[1],tt=B((0,i.useState)(""),2),et=tt[0],nt=tt[1],rt=B((0,i.useState)(""),2),at=rt[0],it=rt[1],ot=B((0,i.useState)(),2),st=ot[0],ct=ot[1],lt=B((0,i.useState)(""),2),ut=lt[0],dt=lt[1],mt=B((0,i.useState)(!1),2),ht=mt[0],ft=mt[1],pt=B((0,i.useState)(!0),2),vt=pt[0],gt=pt[1],bt=B((0,i.useState)(0),2),yt=bt[0],xt=bt[1],jt=B((0,i.useState)(""),2),wt=jt[0],_t=jt[1],St=B((0,i.useState)(1),2),Nt=St[0],At=St[1],kt=localStorage.getItem("malimint-segments-per-page"),Mt=B((0,i.useState)(null!==kt?kt:10),2),Ct=Mt[0],Ot=Mt[1],Et=B((0,i.useState)("created_at"),2),Pt=Et[0],Lt=Et[1],Dt=B((0,i.useState)(!0),2),Ft=Dt[0],It=Dt[1],Rt=B((0,i.useState)(!1),2),Tt=Rt[0],Vt=Rt[1],Gt=B((0,i.useState)(0),2),zt=Gt[0],Wt=Gt[1],Zt=B((0,i.useState)(0),2),Bt=Zt[0],Ht=Zt[1],Ut=B((0,i.useState)("desc"),2),Jt=Ut[0],Yt=Ut[1],$t=B((0,i.useState)(!1),2),qt=($t[0],$t[1]),Qt=B((0,i.useState)([]),2),Kt=Qt[0],Xt=Qt[1],te=B((0,i.useState)(!1),2),ee=te[0],ne=te[1],re=B((0,i.useState)([]),2),ae=re[0],ie=re[1],oe=B((0,i.useState)(!1),2),se=oe[0],ce=oe[1],le=B((0,i.useState)("success"),2),ue=le[0],de=le[1],me=B((0,i.useState)(""),2),he=me[0],fe=me[1],pe=B((0,i.useState)([]),2),ve=pe[0],ge=pe[1],be=(0,p.h)(),ye=(0,f.Fp)(),xe=(0,f.y8)(),je=B((0,i.useState)(!1),2),we=je[0],_e=je[1],Se=B((0,i.useState)(!1),2),Ne=Se[0],Ae=Se[1],ke=window.MRM_Vars.is_mailmint_pro_license_active;function Me(){It((function(t){return!t}))}(0,i.useEffect)((function(){gt(!0);var t=!0;return ke?(0,k.Ln)("?order-by=".concat(Pt,"&order-type=").concat(Jt,"&page=").concat(Nt,"&per-page=").concat(Ct).concat(wt)).then((function(e){if(200===e.code){if(!t)return;ie(e.data.data),Wt(e.data.total_count),ge(e.data.count_groups),Ht(e.data.total_pages),gt(!1),Vt(!1)}else gt(!0),Vt(!1)})):(0,v.bo)(Pt,Jt,Nt,Ct,wt).then((function(e){t&&(ie([{total_contacts:"2",id:"78",title:"WordPress Users",data:{description:"WordPress users who are also in the contact list as subscribed",filters:[]},created_at:"March 20, 2024 15:08",description:"WordPress users who are also in the contact list as subscribed"},{total_contacts:"2",id:"77",title:"WooCommerce Customers",data:{description:"WooCommerce customers who are also in the contact list as subscribed",filters:[]},created_at:"March 20, 2024 09:49",description:"WooCommerce customers who are also in the contact list as subscribed"}]),Wt(2),Ht(1),ge(e.count_groups),gt(!1),setShowTableHead(!0),Vt(!1))})),function(){t=!1}}),[Nt,Ct,wt,Ft,Pt,Jt]);var Ce=(0,i.useRef)(null),Oe=(0,i.useRef)(null);(0,_.c7)(Ce,J),(0,_.c7)(Oe,W);var Ee=(0,r.useDispatch)(M.H).setNavbarMarkup;(0,i.useEffect)((function(){var t,e=(0,E.jsx)(s.N_,{to:"/segments/create",children:(0,E.jsxs)("button",{className:"contact-save mintmrm-btn",onClick:function(){return qt((function(t){return!t}))},children:[(0,E.jsx)(j.A,{})," ",null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.NewSegments]})});Ee(e)}),[]);var Pe=function(t,e,n){J(!1),Lt(t),Yt(e),q(n)},Le=(0,i.useCallback)(function(){var t=Z(z().mark((function t(e){return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:R("/segments/edit/".concat(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[]),De=(0,i.useCallback)(function(){var t=Z(z().mark((function t(e){return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ft(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[ht]),Fe=(0,i.useCallback)(function(){var t=Z(z().mark((function t(e){return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:X(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[K]),Ie=(0,i.useCallback)((function(t){_e(!0),t&&(0,k.vo)(st).then((function(t){200===t.code?(de("success"),ce(!0),fe(t.message),Me(),_e(!1),X(!1)):(setErrors(V(V({},errors),{},{title:null==t?void 0:t.message})),_e(!1),X(!1))}))}),[K]),Re=(0,i.useCallback)((function(t){_e(!0),t&&(0,k.F2)(Kt).then((function(t){200===t.code?(de("success"),ce(!0),fe(t.message),Me(),ne(!1),Xt([]),_e(!1),X(!1)):(setErrors(V(V({},errors),{},{title:null==t?void 0:t.message})),X(!1),_e(!1))}))}),[K]);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(b.A,{countGroups:ve}),(0,E.jsxs)("div",{className:"segment-page mintmrm-page",children:[(0,E.jsxs)("div",{className:"mintmrm-container mintmrm-overlay-wrapper",children:[!ke&&(0,E.jsx)("div",{className:"hoverlay",children:(0,E.jsx)("button",{className:"upgrade-btn",children:(0,E.jsxs)("a",{className:"mintmrm-btn",target:"_blank",href:"https://getwpfunnels.com/pricing#mail-mint/",children:[(0,E.jsx)(I.A,{}),null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.UpgradeToPRONow]})})}),(0,E.jsxs)("div",{className:"mintmrm-page__data-table",children:[(0,E.jsxs)("div",{className:"mintmrm-page__data-table--header",children:[(0,E.jsxs)("div",{className:"mintmrm-page__tbl-header-left sort-by-filter",children:[(0,E.jsx)("p",{className:"sort-by-title",children:"Sort by"}),(0,E.jsxs)("div",{className:U?"mintmrm-custom-selectbox show":"mintmrm-custom-selectbox",ref:Ce,children:[(0,E.jsx)("button",{type:"button",className:"selectbox-button",onClick:function(){J(!U)},children:$}),(0,E.jsxs)("ul",{className:"mintmrm-dropdown dropdown-left",children:[(0,E.jsxs)("li",{onClick:function(){return Pe("title","asc","Name (A - Z)")},children:[" ",(0,a.__)("Name (A - Z)","mrm")," "]}),(0,E.jsxs)("li",{onClick:function(){return Pe("title","desc","Name (Z - A)")},children:[" ",(0,a.__)("Name (Z - A)","mrm")," "]}),(0,E.jsxs)("li",{onClick:function(){return Pe("created_at","asc","Date Created Asc")},children:[" ",(0,a.__)("Date Created Asc","mrm")," "]}),(0,E.jsxs)("li",{onClick:function(){return Pe("created_at","desc","Date Created Desc")},children:[" ",(0,a.__)("Date Created Desc","mrm")," "]})]})]})]}),(0,E.jsxs)("div",{className:"mintmrm-page__tbl-header-right",children:[(0,E.jsx)(d.A,{search:ut,setSearch:dt,setQuery:_t,setPage:At}),(0,E.jsx)(u.A,{handleRefresh:function(){Me(),Vt(!0)},refreshToggle:Tt}),(0,E.jsx)("div",{className:"mintmrm-page__tbl-bulk-action",children:(0,E.jsxs)("button",{type:"button",className:"more-option",onClick:function(){return W(!G)},ref:Oe,children:[(0,E.jsx)("span",{title:"Bulk Actions",children:(0,E.jsx)(w.A,{})}),(0,E.jsx)("ul",{className:G?"select-option mintmrm-dropdown show":"select-option mintmrm-dropdown",children:ke?(0,E.jsxs)("li",{onClick:function(){return ye(Kt,X,nt,it,ft)},children:[(0,E.jsx)(y.A,{}),null===(e=window)||void 0===e||null===(e=e.MRM_Vars)||void 0===e||null===(e=e.mint_trans)||void 0===e?void 0:e.DeleteSelected]}):(0,E.jsxs)("li",{onClick:function(){return Ae(!0)},children:[(0,E.jsx)(y.A,{}),null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.DeleteSelected]})})]})})]})]}),(0,E.jsx)("div",{className:"mintmrm-page__data-table--head",children:(0,E.jsxs)("div",{className:"mintmrm-page__data-table--row",children:[(0,E.jsx)("div",{className:"mintmrm-page__data-table--col name",children:(0,E.jsxs)("span",{className:"mintmrm-checkbox",children:[(0,E.jsx)("input",{type:"checkbox",name:"bulk-select",id:"bulk-select",onChange:function(){return be(Xt,ee,ne,ae)},checked:ee}),(0,E.jsx)("label",{htmlFor:"bulk-select",children:null===(O=window)||void 0===O||null===(O=O.MRM_Vars)||void 0===O||null===(O=O.mint_trans)||void 0===O?void 0:O.Segments})]})}),(0,E.jsx)("div",{className:"mintmrm-page__data-table--col description",children:null===(P=window)||void 0===P||null===(P=P.MRM_Vars)||void 0===P||null===(P=P.mint_trans)||void 0===P?void 0:P.Description}),(0,E.jsx)("div",{className:"mintmrm-page__data-table--col subscribers",children:null===(L=window)||void 0===L||null===(L=L.MRM_Vars)||void 0===L||null===(L=L.mint_trans)||void 0===L?void 0:L.ContactsInSegment}),(0,E.jsx)("div",{className:"mintmrm-page__data-table--col creation-date",children:null===(D=window)||void 0===D||null===(D=D.MRM_Vars)||void 0===D||null===(D=D.mint_trans)||void 0===D?void 0:D.DateCreated}),(0,E.jsx)("div",{className:"mintmrm-page__data-table--col actions"})]})}),(0,E.jsx)("div",{className:"mintmrm-page__data-table--body",children:vt?(0,E.jsx)(S.A,{type:"table"}):(0,E.jsxs)(E.Fragment,{children:[null==ae?void 0:ae.map((function(t,e){return(0,E.jsx)(F,{segment:t,deleteSegment:xe,handleSegmentEdit:Le,currentActive:yt,setCurrentActive:xt,setSelected:Xt,selected:Kt,setAllSelected:ne,setLoading:gt,setIsDelete:X,setDeleteTitle:nt,setDeleteMessage:it,setItemID:ct,setShowMoreOptions:W,setActiveProModal:Ae,isProActive:ke},e)})),!(null!=ae&&ae.length)&&(0,E.jsxs)("div",{className:"no-data-found",children:[(0,E.jsx)(x.A,{}),(0,E.jsx)("h4",{children:(0,a.sprintf)((0,a.__)("No Segment Found %s","mrm"),ut?'"'.concat(ut,'"'):"")})]})]})}),ae.length>0&&(0,E.jsx)("div",{className:"mintmrm-page__data-table--footer",children:(0,E.jsx)(N.A,{currentPage:Nt,pageSize:Ct,onPageChange:At,totalCount:zt,totalPages:Bt,setPerPage:Ot,paginationFor:"segments"})})]})]}),Ne&&(0,E.jsx)(h.A,{setIsPro:Ae,proLink:m.q9}),K&&(0,E.jsx)("div",{className:"mintmrm-container",children:(0,E.jsx)(c.A,{title:et,message:at,onDeleteShow:Fe,selected:Kt,onDeleteStatus:Ie,onMultiDelete:Re,loader:we})}),ht&&(0,E.jsx)("div",{className:"mintmrm-container",children:(0,E.jsx)(g.A,{onShowAlert:De,itemName:"segment"})}),se&&(0,E.jsx)(A.A,{setShowNotification:ce,message:he,notificationType:ue,setNotificationType:de})]}),(0,E.jsx)(l.A,{docLink:"https://getwpfunnels.com/docs/mail-mint-contacts/create-segment/",showVideo:"true",videoLink:"https://www.youtube.com/embed/p78-hOd8M1k"})]})}}}]);
//# sourceMappingURL=segment-index.min.js.map?ver=1729828711084000